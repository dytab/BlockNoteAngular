const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ngx-highlightjs-line-numbers-BlD_2oHz.js","assets/vendor-C5-k2OPK.js","assets/core-DfxoLEDQ.js","assets/_commonjsHelpers-CqkleIqs.js"])))=>i.map(i=>d[i]);
import{i as y,s as T,c as g,ɵ as z,a as B,h as L,b as Fn,d as X,E as ce,P as Bi,e as _i,f as p,g as m,j as c,k as u,N as la,m as ie,n as V,o as O,B as ra,p as ca,q as w,r as N,t as jn,u as da,v as Ti,w as wi,x as Si,y as Mi,z as ua,A as Di,C as pa,D as pi,F as ma,G as ha,H as yo,I as fa,J as _,K as i,L as l,M as o,O as $,Q as ga,R as ba,S as Ca,T as C,U as ya,V as q,W as mi,X as ii,Y as ka,Z as va,_ as Ni,$ as Ei,a0 as xa,a1 as _o,a2 as Ii,a3 as f,a4 as r,a5 as hi,a6 as Ba,a7 as _a,a8 as Fi,a9 as Ta,aa as wa,ab as Sa,ac as G,ad as te,ae as Ma,af as Da,ag as Na,ah as Ea,ai as ne,aj as j,ak as Zn,al as A,am as P,an as Kn,ao as fi,ap as gi,aq as Ia,ar as Hi,as as ai,at as Fa,au as Ha,av as Ra,aw as Aa,ax as se,ay as b,az as Pa,aA as ko,aB as M,aC as h,aD as ge,aE as Ri,aF as be,aG as Un,aH as Ce,aI as Hn,aJ as vo,aK as Rn,aL as Oa,aM as La,aN as za,aO as Va,aP as $a,aQ as ye,aR as qn,aS as oe,aT as To,aU as wo,aV as ja,aW as Ua,aX as qa,aY as Ai,aZ as Pi,a_ as Oi,a$ as Li,b0 as zi,b1 as Ga,b2 as Wa,b3 as Ja,b4 as Vi,b5 as $i,b6 as ji,b7 as re,b8 as eo,b9 as Ui,ba as qi,bb as Gi,bc as Gn,bd as Wn,be as ke,bf as Jn,bg as ae,bh as An,bi as xo,bj as Qa,bk as Wi,bl as Ji,bm as li,bn as ri,bo as Xa,bp as Yn,bq as Za,br as Ka,bs as Ya,bt as el,bu as Qi,bv as tl,bw as nl,bx as Xi,by as Pn,bz as ol,bA as sl,bB as il,bC as al,bD as ll,bE as rl,bF as Zi,bG as cl,bH as Ki,bI as dl,bJ as ci,bK as ul,bL as pl,bM as ml,bN as hl,bO as to,bP as no,bQ as Yi,bR as fl,bS as gl,bT as ea,bU as le,bV as K,bW as de,bX as ue,bY as Bo,bZ as So,b_ as Y,b$ as bl,c0 as Cl,c1 as yl,c2 as kl,c3 as vl,c4 as xl,c5 as Bl,c6 as _l,c7 as Tl,c8 as Qn,c9 as wl,ca as Sl,cb as ta,cc as xe,cd as Ml,ce as Dl,cf as Nl,cg as El,ch as Il,ci as Fl,cj as Hl,ck as Rl,cl as Xn,cm as Al}from"./vendor-C5-k2OPK.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const x of d.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&n(x)}).observe(document,{childList:!0,subtree:!0});function e(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerPolicy&&(d.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?d.credentials="include":a.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function n(a){if(a.ep)return;a.ep=!0;const d=e(a);fetch(a.href,d)}})();const Pl=Fn("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},size:{xs:"h-8 p-1 rounded-md text-xs",default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Be=class Be{constructor(){this.userClass=y("",{alias:"class"}),this._settableClass=T(""),this._computedClass=g(()=>L(Pl({variant:this._variant(),size:this._size()}),this._settableClass(),this.userClass())),this._variant=T("default"),this._size=T("default")}setClass(t){this._settableClass.set(t)}set variant(t){this._variant.set(t)}set size(t){this._size.set(t)}};Be.ɵfac=function(e){return new(e||Be)},Be.ɵdir=z({type:Be,selectors:[["","hlmBtn",""]],hostVars:2,hostBindings:function(e,n){e&2&&B(n._computedClass())},inputs:{userClass:[1,"class","userClass"],variant:"variant",size:"size"},standalone:!0});let v=Be;const Ol=Fn("rounded-lg border border-border bg-card focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-card-foreground shadow-sm",{variants:{},defaultVariants:{}}),_e=class _e{constructor(){this.userClass=y("",{alias:"class"}),this._computedClass=g(()=>L(Ol(),this.userClass()))}};_e.ɵfac=function(e){return new(e||_e)},_e.ɵdir=z({type:_e,selectors:[["","hlmCard",""]],hostVars:2,hostBindings:function(e,n){e&2&&B(n._computedClass())},inputs:{userClass:[1,"class","userClass"]},standalone:!0});let oo=_e;const Ll=["xs","sm","base","lg","xl","none"],zl=Fn("inline-flex",{variants:{variant:{xs:"h-3 w-3",sm:"h-4 w-4",base:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12",none:""}},defaultVariants:{variant:"base"}}),bi=s=>Ll.includes(s),Vl=/\b(h-\d+|w-\d+)\b/g,Te=class Te{constructor(){this._host=X(ce),this._platformId=X(Bi),this._hostClasses=T(""),this._name=T(""),this._size=T("base"),this._color=T(void 0),this._strokeWidth=T(void 0),this.userCls=T(""),this.ngIconSize=g(()=>bi(this._size())?"100%":this._size()),this.ngIconCls=T(""),this._computedClass=g(()=>{const t=this._size(),e=this._hostClasses(),n=this.userCls(),a=bi(t)?t:"none",d=a==="none"&&t==="none"?e:e.replace(Vl,"");return L(zl({variant:a}),n,d)}),_i(this._platformId)&&(this._mutObs=new MutationObserver(t=>{t.forEach(e=>{e.attributeName==="class"&&this._hostClasses.set(e.target?.className??"")})}),this._mutObs.observe(this._host.nativeElement,{attributes:!0}))}ngOnDestroy(){this._mutObs?.disconnect(),this._mutObs=void 0}set name(t){this._name.set(t)}set size(t){this._size.set(t)}set color(t){this._color.set(t)}set strokeWidth(t){this._strokeWidth.set(t)}set ngIconClass(t){this.ngIconCls.set(t)}set class(t){this.userCls.set(t)}};Te.ɵfac=function(e){return new(e||Te)},Te.ɵcmp=p({type:Te,selectors:[["hlm-icon"]],hostVars:2,hostBindings:function(e,n){e&2&&B(n._computedClass())},inputs:{name:"name",size:"size",color:"color",strokeWidth:"strokeWidth",ngIconClass:"ngIconClass",class:"class"},standalone:!0,features:[m],decls:1,vars:6,consts:[[3,"size","name","color","strokeWidth"]],template:function(e,n){e&1&&c(0,"ng-icon",0),e&2&&(B(n.ngIconCls()),u("size",n.ngIconSize())("name",n._name())("color",n._color())("strokeWidth",n._strokeWidth()))},dependencies:[la],encapsulation:2,changeDetection:0});let S=Te;const $l=Fn("flex rounded-md border font-normal border-input bg-transparent text-sm ring-offset-background file:border-0 file:text-foreground file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{variants:{size:{default:"h-10 py-2 px-4",sm:"h-9 px-3",lg:"h-11 px-8"},error:{auto:"[&.ng-invalid.ng-touched]:text-destructive [&.ng-invalid.ng-touched]:border-destructive [&.ng-invalid.ng-touched]:focus-visible:ring-destructive",true:"text-destructive border-destructive focus-visible:ring-destructive"}},defaultVariants:{size:"default",error:"auto"}}),we=class we{constructor(){this._size=T("default"),this._error=T("auto"),this.userClass=y("",{alias:"class"}),this._computedClass=g(()=>L($l({size:this._size(),error:this._error()}),this.userClass()))}set size(t){this._size.set(t)}set error(t){this._error.set(t)}};we.ɵfac=function(e){return new(e||we)},we.ɵdir=z({type:we,selectors:[["","hlmInput",""]],hostVars:2,hostBindings:function(e,n){e&2&&B(n._computedClass())},inputs:{size:"size",error:"error",userClass:[1,"class","userClass"]},standalone:!0});let so=we;const jl=["*"],Ul=Fn("block border-border min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",{variants:{variant:{default:"my-0.5",menubar:"my-2"}},defaultVariants:{variant:"default"}}),Se=class Se{constructor(){this.userClass=y("",{alias:"class"}),this._computedClass=g(()=>L(Ul({variant:this._variant()}),this.userClass())),this._variant=T("default")}set variant(t){this._variant.set(t)}};Se.ɵfac=function(e){return new(e||Se)},Se.ɵcmp=p({type:Se,selectors:[["hlm-menu"]],hostVars:2,hostBindings:function(e,n){e&2&&B(n._computedClass())},inputs:{userClass:[1,"class","userClass"],variant:"variant"},standalone:!0,features:[ie([ra]),m],ngContentSelectors:jl,decls:1,vars:0,template:function(e,n){e&1&&(V(),O(0))},encapsulation:2});let W=Se;const ql=["*"],Me=class Me{};Me.ɵfac=function(e){return new(e||Me)},Me.ɵcmp=p({type:Me,selectors:[["hlm-menu-group"]],hostAttrs:[1,"block"],standalone:!0,features:[ie([ca]),m],ngContentSelectors:ql,decls:1,vars:0,template:function(e,n){e&1&&(V(),O(0))},encapsulation:2});let Z=Me;const De=class De{constructor(){this.userClass=y("",{alias:"class"}),this._computedClass=g(()=>L("group-[.checked]:opacity-100 opacity-0 absolute left-2 flex h-3.5 w-3.5 items-center justify-center",this.userClass()))}};De.ɵfac=function(e){return new(e||De)},De.ɵcmp=p({type:De,selectors:[["hlm-menu-item-check"]],hostVars:2,hostBindings:function(e,n){e&2&&B(n._computedClass())},inputs:{userClass:[1,"class","userClass"]},standalone:!0,features:[w([N({lucideCheck:jn})]),m],decls:1,vars:0,consts:[["size","1rem","name","lucideCheck"]],template:function(e,n){e&1&&c(0,"hlm-icon",0)},dependencies:[S],encapsulation:2});let io=De;const Ne=class Ne{constructor(){this.userClass=y("",{alias:"class"}),this._computedClass=g(()=>L("group w-full relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:bg-accent focus-visible:text-accent-foreground disabled:pointer-events-none disabled:opacity-50",this.userClass()))}};Ne.ɵfac=function(e){return new(e||Ne)},Ne.ɵdir=z({type:Ne,selectors:[["","hlmMenuItemCheckbox",""]],hostVars:2,hostBindings:function(e,n){e&2&&B(n._computedClass())},inputs:{userClass:[1,"class","userClass"]},standalone:!0,features:[ie([{directive:da,inputs:["disabled","disabled","checked","checked"],outputs:["triggered","triggered"]}])]});let ao=Ne;const Gl=["*"],Ee=class Ee{constructor(){this.tab=y.required()}};Ee.ɵfac=function(e){return new(e||Ee)},Ee.ɵcmp=p({type:Ee,selectors:[["hlm-tabs"]],inputs:{tab:[1,"tab"]},standalone:!0,features:[ie([{directive:Ti,inputs:["orientation","orientation","direction","direction","activationMode","activationMode","brnTabs","tab"],outputs:["tabActivated","tabActivated"]}]),m],ngContentSelectors:Gl,decls:1,vars:0,template:function(e,n){e&1&&(V(),O(0))},encapsulation:2});let D=Ee;const Ie=class Ie{constructor(){this.contentFor=y.required({alias:"hlmTabsContent"}),this.userClass=y("",{alias:"class"}),this._computedClass=g(()=>L("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",this.userClass()))}};Ie.ɵfac=function(e){return new(e||Ie)},Ie.ɵdir=z({type:Ie,selectors:[["","hlmTabsContent",""]],hostVars:2,hostBindings:function(e,n){e&2&&B(n._computedClass())},inputs:{contentFor:[1,"hlmTabsContent","contentFor"],userClass:[1,"class","userClass"]},standalone:!0,features:[ie([{directive:wi,inputs:["brnTabsContent","hlmTabsContent"]}])]});let Mo=Ie;const Wl=["*"],Jl=Fn("inline-flex items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",{variants:{orientation:{horizontal:"h-10 space-x-1",vertical:"mt-2 flex-col h-fit space-y-1"}},defaultVariants:{orientation:"horizontal"}}),Fe=class Fe{constructor(){this.orientation=y("horizontal"),this.userClass=y("",{alias:"class"}),this._computedClass=g(()=>L(Jl({orientation:this.orientation()}),this.userClass()))}};Fe.ɵfac=function(e){return new(e||Fe)},Fe.ɵcmp=p({type:Fe,selectors:[["hlm-tabs-list"]],hostVars:2,hostBindings:function(e,n){e&2&&B(n._computedClass())},inputs:{orientation:[1,"orientation"],userClass:[1,"class","userClass"]},standalone:!0,features:[ie([Si]),m],ngContentSelectors:Wl,decls:1,vars:0,template:function(e,n){e&1&&(V(),O(0))},encapsulation:2});let Do=Fe;const He=class He{constructor(){this.triggerFor=y.required({alias:"hlmTabsTrigger"}),this.userClass=y("",{alias:"class"}),this._computedClass=g(()=>L("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",this.userClass()))}};He.ɵfac=function(e){return new(e||He)},He.ɵdir=z({type:He,selectors:[["","hlmTabsTrigger",""]],hostVars:2,hostBindings:function(e,n){e&2&&B(n._computedClass())},inputs:{triggerFor:[1,"hlmTabsTrigger","triggerFor"],userClass:[1,"class","userClass"]},standalone:!0,features:[ie([{directive:Mi,inputs:["brnTabsTrigger","hlmTabsTrigger","disabled","disabled"]}])]});let No=He;const Ql=()=>({display:"contents"}),Xl=["*"],Re=class Re{};Re.ɵfac=function(e){return new(e||Re)},Re.ɵcmp=p({type:Re,selectors:[["hlm-tooltip"]],hostVars:3,hostBindings:function(e,n){e&2&&ua(Di(2,Ql))},standalone:!0,features:[w([]),ie([pa]),m],ngContentSelectors:Xl,decls:1,vars:0,template:function(e,n){e&1&&(V(),O(0))},encapsulation:2,changeDetection:0});let J=Re;const Ae=class Ae{constructor(){this._brnTooltipTrigger=X(pi,{host:!0}),this._brnTooltipTrigger&&(this._brnTooltipTrigger.exitAnimationDuration=150,this._brnTooltipTrigger.hideDelay=300,this._brnTooltipTrigger.showDelay=150,this._brnTooltipTrigger.tooltipContentClasses="overflow-hidden rounded-md border border-border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md fade-in-0 zoom-in-95 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=below]:slide-in-from-top-2 data-[side=above]:slide-in-from-bottom-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 ")}set hlmTooltipTrigger(t){this._brnTooltipTrigger.content=t}};Ae.ɵfac=function(e){return new(e||Ae)},Ae.ɵdir=z({type:Ae,selectors:[["","hlmTooltipTrigger",""]],inputs:{hlmTooltipTrigger:"hlmTooltipTrigger"},standalone:!0,features:[ie([{directive:pi,inputs:["brnTooltipDisabled","hlmTooltipDisabled","aria-describedby","aria-describedby","position","position","positionAtOrigin","positionAtOrigin","hideDelay","hideDelay","showDelay","showDelay","exitAnimationDuration","exitAnimationDuration","touchGestures","touchGestures"]}])]});let Q=Ae;const na="scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl",Pe=class Pe{constructor(){this.userClass=y("",{alias:"class"}),this._computedClass=g(()=>L(na,this.userClass()))}};Pe.ɵfac=function(e){return new(e||Pe)},Pe.ɵdir=z({type:Pe,selectors:[["","hlmH1",""]],hostVars:2,hostBindings:function(e,n){e&2&&B(n._computedClass())},inputs:{userClass:[1,"class","userClass"]},standalone:!0});let Ci=Pe;const oa="text-xl text-muted-foreground",Oe=class Oe{constructor(){this.userClass=y("",{alias:"class"}),this._computedClass=g(()=>L(oa,this.userClass()))}};Oe.ɵfac=function(e){return new(e||Oe)},Oe.ɵdir=z({type:Oe,selectors:[["","hlmLead",""]],hostVars:2,hostBindings:function(e,n){e&2&&B(n._computedClass())},inputs:{userClass:[1,"class","userClass"]},standalone:!0});let yi=Oe;const Le=class Le{constructor(){this.userClass=y("",{alias:"class"}),this._computedClass=g(()=>L("absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",this.userClass()))}};Le.ɵfac=function(e){return new(e||Le)},Le.ɵdir=z({type:Le,selectors:[["","hlmDialogClose",""],["","brnDialogClose","","hlm",""]],hostVars:2,hostBindings:function(e,n){e&2&&B(n._computedClass())},inputs:{userClass:[1,"class","userClass"]},standalone:!0});let Eo=Le;const Zl=["*"];function Kl(s,t){if(s&1&&Ca(0,0),s&2){const e=C();u("ngComponentOutlet",e.component)}}function Yl(s,t){s&1&&O(0)}const ze=class ze{constructor(){this._dialogRef=X(ma),this._dialogContext=ha({optional:!0}),this.state=g(()=>this._dialogRef?.state()??"closed"),this.component=this._dialogContext?.$component,this._dynamicComponentClass=this._dialogContext?.$dynamicComponentClass,this.userClass=y("",{alias:"class"}),this._computedClass=g(()=>L("border-border grid w-full max-w-lg relative gap-4 border bg-background p-6 shadow-lg [animation-duration:200] data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-top-[2%]  data-[state=open]:slide-in-from-top-[2%] sm:rounded-lg md:w-full",this.userClass(),this._dynamicComponentClass))}};ze.ɵfac=function(e){return new(e||ze)},ze.ɵcmp=p({type:ze,selectors:[["hlm-dialog-content"]],hostVars:3,hostBindings:function(e,n){e&2&&(yo("data-state",n.state()),B(n._computedClass()))},inputs:{userClass:[1,"class","userClass"]},standalone:!0,features:[w([N({lucideX:fa})]),m],ngContentSelectors:Zl,decls:6,vars:1,consts:[[3,"ngComponentOutlet"],["brnDialogClose","","hlm",""],[1,"sr-only"],["size","none","name","lucideX",1,"flex","w-4","h-4"]],template:function(e,n){e&1&&(V(),_(0,Kl,1,1,"ng-container",0)(1,Yl,1,0),i(2,"button",1)(3,"span",2),l(4,"Close"),o(),c(5,"hlm-icon",3),o()),e&2&&$(n.component?0:1)},dependencies:[ga,ba,Eo,S],encapsulation:2,changeDetection:0});let Io=ze;const er=["*"],Ve=class Ve{constructor(){this.userClass=y("",{alias:"class"}),this._computedClass=g(()=>L("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",this.userClass()))}};Ve.ɵfac=function(e){return new(e||Ve)},Ve.ɵcmp=p({type:Ve,selectors:[["hlm-dialog-footer"]],hostVars:2,hostBindings:function(e,n){e&2&&B(n._computedClass())},inputs:{userClass:[1,"class","userClass"]},standalone:!0,features:[m],ngContentSelectors:er,decls:1,vars:0,template:function(e,n){e&1&&(V(),O(0))},encapsulation:2});let Fo=Ve;const tr=["*"],$e=class $e{constructor(){this.userClass=y("",{alias:"class"}),this._computedClass=g(()=>L("flex flex-col space-y-1.5 text-center sm:text-left",this.userClass()))}};$e.ɵfac=function(e){return new(e||$e)},$e.ɵcmp=p({type:$e,selectors:[["hlm-dialog-header"]],hostVars:2,hostBindings:function(e,n){e&2&&B(n._computedClass())},inputs:{userClass:[1,"class","userClass"]},standalone:!0,features:[m],ngContentSelectors:tr,decls:1,vars:0,template:function(e,n){e&1&&(V(),O(0))},encapsulation:2});let Ho=$e;const nr="bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",je=class je{constructor(){this._classSettable=ya({optional:!0,host:!0}),this.userClass=y("",{alias:"class"}),this._computedClass=g(()=>L(nr,this.userClass())),q(()=>{this._classSettable?.setClassToCustomElement(this._computedClass())})}};je.ɵfac=function(e){return new(e||je)},je.ɵdir=z({type:je,selectors:[["","hlmDialogOverlay",""],["brn-dialog-overlay","hlm",""]],inputs:{userClass:[1,"class","userClass"]},standalone:!0});let Ro=je;const or=["*"],pe=class pe extends mi{constructor(){super(),this.closeDelay=100}};pe.ɵfac=function(e){return new(e||pe)},pe.ɵcmp=p({type:pe,selectors:[["hlm-dialog"]],exportAs:["hlmDialog"],standalone:!0,features:[w([{provide:mi,useExisting:ii(()=>pe)}]),ka,m],ngContentSelectors:or,decls:2,vars:0,consts:[["hlm",""]],template:function(e,n){e&1&&(V(),c(0,"brn-dialog-overlay",0),O(1))},dependencies:[va,Ro],encapsulation:2,changeDetection:0});let Ao=pe;const Ue=class Ue{constructor(){this._brnCheckbox=X(Ni),this._checked=this._brnCheckbox?.isChecked,this.userClass=y("",{alias:"class"}),this.iconName=y("lucideCheck"),this._computedClass=g(()=>L("h-4 w-4 leading-none group-data-[state=unchecked]:opacity-0",this._checked()==="indeterminate"?"opacity-50":"",this.userClass()))}};Ue.ɵfac=function(e){return new(e||Ue)},Ue.ɵcmp=p({type:Ue,selectors:[["hlm-checkbox-checkicon"]],hostVars:2,hostBindings:function(e,n){e&2&&B(n._computedClass())},inputs:{userClass:[1,"class","userClass"],iconName:[1,"iconName"]},standalone:!0,features:[w([N({lucideCheck:jn})]),m],decls:1,vars:1,consts:[["size","sm",3,"name"]],template:function(e,n){e&1&&c(0,"hlm-icon",0),e&2&&u("name",n.iconName())},dependencies:[S],encapsulation:2});let Po=Ue;const sr={provide:Ei,useExisting:ii(()=>lo),multi:!0},qe=class qe{constructor(){this.userClass=y("",{alias:"class"}),this._computedClass=g(()=>L("group inline-flex border border-foreground shrink-0 cursor-pointer items-center rounded-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background data-[state=checked]:text-background data-[state=checked]:bg-primary data-[state=unchecked]:bg-background",this.userClass(),this.disabled()?"cursor-not-allowed opacity-50":"")),this.id=y(null),this.ariaLabel=y(null,{alias:"aria-label"}),this.ariaLabelledby=y(null,{alias:"aria-labelledby"}),this.ariaDescribedby=y(null,{alias:"aria-describedby"}),this.checked=xa(!1),this.name=y(null),this.disabled=y(!1,{transform:_o}),this.required=y(!1,{transform:_o}),this.checkIconName=y("lucideCheck"),this.checkIconClass=y(""),this.changed=new Ii,this._onChange=t=>{},this._onTouched=()=>{}}_handleChange(){if(this.disabled())return;const t=this.checked();this.checked.set(t==="indeterminate"?!0:!t),this._onChange(!t),this.changed.emit(!t)}writeValue(t){this.checked.set(!!t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}};qe.ɵfac=function(e){return new(e||qe)},qe.ɵcmp=p({type:qe,selectors:[["hlm-checkbox"]],hostAttrs:[1,"contents"],hostVars:4,hostBindings:function(e,n){e&2&&yo("id",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{userClass:[1,"class","userClass"],id:[1,"id"],ariaLabel:[1,"aria-label","ariaLabel"],ariaLabelledby:[1,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[1,"aria-describedby","ariaDescribedby"],checked:[1,"checked"],name:[1,"name"],disabled:[1,"disabled"],required:[1,"required"],checkIconName:[1,"checkIconName"],checkIconClass:[1,"checkIconClass"]},outputs:{checked:"checkedChange",changed:"changed"},standalone:!0,features:[w([sr]),m],decls:2,vars:13,consts:[[3,"changed","touched","id","name","checked","disabled","required","aria-label","aria-labelledby","aria-describedby"],[3,"iconName"]],template:function(e,n){e&1&&(i(0,"brn-checkbox",0),f("changed",function(){return n._handleChange()})("touched",function(){return n._onTouched()}),c(1,"hlm-checkbox-checkicon",1),o()),e&2&&(B(n._computedClass()),u("id",n.id())("name",n.name())("checked",n.checked())("disabled",n.disabled())("required",n.required())("aria-label",n.ariaLabel())("aria-labelledby",n.ariaLabelledby())("aria-describedby",n.ariaDescribedby()),r(),B(n.checkIconClass()),u("iconName",n.checkIconName()))},dependencies:[Ni,Po],encapsulation:2});let lo=qe;const me=class me{constructor(){this._platformId=X(Bi),this._renderer=X(Ta).createRenderer(null,null),this._document=X(wa),this._query=X(Sa).matchMedia("(prefers-color-scheme: dark)"),this._darkMode$=new hi(1),this._systemDarkMode$=new hi(1),this.darkMode$=this._darkMode$.asObservable(),this._theme=T(void 0),this.theme=this._theme.asReadonly(),this._systemDarkMode$.next(this._query.matches?"dark":"light"),this._query.onchange=t=>this._systemDarkMode$.next(t.matches?"dark":"light"),this.syncInitialStateFromLocalStorage(),this.toggleClassOnDarkModeChanges()}syncInitialStateFromLocalStorage(){_i(this._platformId)&&(this._darkMode$.next(localStorage.getItem("darkMode")??"system"),this.setTheme(localStorage.getItem("theme")??"default"))}toggleClassOnDarkModeChanges(){Ba([this.darkMode$,this._systemDarkMode$]).pipe(_a()).subscribe(([t,e])=>{t==="dark"||t==="system"&&e==="dark"?this._renderer.addClass(this._document.documentElement,"dark"):this._document.documentElement.className.includes("dark")&&this._renderer.removeClass(this._document.documentElement,"dark")})}setDarkMode(t){localStorage.setItem("darkMode",t),this._darkMode$.next(t)}setTheme(t){const e=this._theme();if(this._renderer.removeClass(this._document.body,`theme-${e}`),this._theme.set(t),t==="default"){localStorage.removeItem("theme");return}this._renderer.addClass(this._document.body,`theme-${t}`),localStorage.setItem("theme",t)}};me.ɵfac=function(e){return new(e||me)},me.ɵprov=Fi({token:me,factory:me.ɵfac,providedIn:"root"});let Oo=me;function ir(s,t){if(s&1){const e=j();i(0,"hlm-menu",4)(1,"button",5),Zn(2,"async"),f("click",function(){A(e);const a=C();return P(a.setTheme("light"))}),c(3,"hlm-menu-item-check")(4,"hlm-icon",6),l(5," Light "),o(),i(6,"button",5),Zn(7,"async"),f("click",function(){A(e);const a=C();return P(a.setTheme("dark"))}),c(8,"hlm-menu-item-check")(9,"hlm-icon",7),l(10," Dark "),o(),i(11,"button",5),Zn(12,"async"),f("click",function(){A(e);const a=C();return P(a.setTheme("system"))}),c(13,"hlm-menu-item-check")(14,"hlm-icon",8),l(15," System "),o()()}if(s&2){const e=C();r(),u("checked",Kn(2,3,e.theme$)==="light"),r(5),u("checked",Kn(7,5,e.theme$)==="dark"),r(5),u("checked",Kn(12,7,e.theme$)==="system")}}const Ge=class Ge{constructor(){this._themeService=X(Oo),this.theme$=this._themeService.darkMode$}setTheme(t){this._themeService.setDarkMode(t)}};Ge.ɵfac=function(e){return new(e||Ge)},Ge.ɵcmp=p({type:Ge,selectors:[["bna-theme-switch"]],standalone:!0,features:[w([N({lucideMoon:Da,lucideMonitor:Na,lucideSun:Ea})]),m],decls:6,vars:1,consts:[["theme",""],["size","sm","variant","ghost","align","end","hlmBtn","",3,"brnMenuTriggerFor"],["name","lucideMoon","size","sm"],[1,"sr-only"],[1,"w-40"],["hlmMenuItemCheckbox","",3,"click","checked"],["name","lucideSun","size","sm",1,"me-2"],["name","lucideMoon","size","sm",1,"me-2"],["name","lucideMonitor","size","sm",1,"me-2"]],template:function(e,n){if(e&1&&(i(0,"button",1),c(1,"hlm-icon",2),i(2,"span",3),l(3,"Open menu to change theme"),o()(),_(4,ir,16,9,"ng-template",null,0,ne)),e&2){const a=G(5);u("brnMenuTriggerFor",a)}},dependencies:[te,v,S,Ma,W,io,ao],encapsulation:2});let Lo=Ge;const We=class We{};We.ɵfac=function(e){return new(e||We)},We.ɵcmp=p({type:We,selectors:[["docs-root"]],standalone:!0,features:[m],decls:24,vars:0,consts:[[1,"p-2","border-b","border-border","bg-background","shadow-sm","sticky","top-0","z-30"],[1,"flex","items-center","space-x-2","lg:space-x-3","mx-auto","max-w-[90rem]"],["routerLink","overview",1,"flex","flex-col","items-start"],["src","logo.svg","alt","logo",1,"h-12","object-contain"],[1,"flex-auto"],["routerLink","examples","hlmBtn","","variant","link"],["hlmBtn","","variant","ghost","href","https://github.com/dytab/ngx-blocknote"],[1,"sr-only"],["width","24","height","24","fill","currentColor","viewBox","3 3 18 18"],["d","M12 3C7.0275 3 3 7.12937 3 12.2276C3 16.3109 5.57625 19.7597 9.15374 20.9824C9.60374 21.0631 9.77249 20.7863 9.77249 20.5441C9.77249 20.3249 9.76125 19.5982 9.76125 18.8254C7.5 19.2522 6.915 18.2602 6.735 17.7412C6.63375 17.4759 6.19499 16.6569 5.8125 16.4378C5.4975 16.2647 5.0475 15.838 5.80124 15.8264C6.51 15.8149 7.01625 16.4954 7.18499 16.7723C7.99499 18.1679 9.28875 17.7758 9.80625 17.5335C9.885 16.9337 10.1212 16.53 10.38 16.2993C8.3775 16.0687 6.285 15.2728 6.285 11.7432C6.285 10.7397 6.63375 9.9092 7.20749 9.26326C7.1175 9.03257 6.8025 8.08674 7.2975 6.81794C7.2975 6.81794 8.05125 6.57571 9.77249 7.76377C10.4925 7.55615 11.2575 7.45234 12.0225 7.45234C12.7875 7.45234 13.5525 7.55615 14.2725 7.76377C15.9937 6.56418 16.7475 6.81794 16.7475 6.81794C17.2424 8.08674 16.9275 9.03257 16.8375 9.26326C17.4113 9.9092 17.76 10.7281 17.76 11.7432C17.76 15.2843 15.6563 16.0687 13.6537 16.2993C13.98 16.5877 14.2613 17.1414 14.2613 18.0065C14.2613 19.2407 14.25 20.2326 14.25 20.5441C14.25 20.7863 14.4188 21.0746 14.8688 20.9824C16.6554 20.364 18.2079 19.1866 19.3078 17.6162C20.4077 16.0457 20.9995 14.1611 21 12.2276C21 7.12937 16.9725 3 12 3Z"],["hlmBtn","","variant","ghost","href","https://discord.gg/Qc2QTTH5dF"],["width","24","height","24","fill","currentColor","xmlns","http://www.w3.org/2000/svg","viewBox","0 5 30.67 23.25"],["d","M26.0015 6.9529C24.0021 6.03845 21.8787 5.37198 19.6623 5C19.3833 5.48048 19.0733 6.13144 18.8563 6.64292C16.4989 6.30193 14.1585 6.30193 11.8336 6.64292C11.6166 6.13144 11.2911 5.48048 11.0276 5C8.79575 5.37198 6.67235 6.03845 4.6869 6.9529C0.672601 12.8736 -0.41235 18.6548 0.130124 24.3585C2.79599 26.2959 5.36889 27.4739 7.89682 28.2489C8.51679 27.4119 9.07477 26.5129 9.55525 25.5675C8.64079 25.2265 7.77283 24.808 6.93587 24.312C7.15286 24.1571 7.36986 23.9866 7.57135 23.8161C12.6241 26.1255 18.0969 26.1255 23.0876 23.8161C23.3046 23.9866 23.5061 24.1571 23.7231 24.312C22.8861 24.808 22.0182 25.2265 21.1037 25.5675C21.5842 26.5129 22.1422 27.4119 22.7621 28.2489C25.2885 27.4739 27.8769 26.2959 30.5288 24.3585C31.1952 17.7559 29.4733 12.0212 26.0015 6.9529ZM10.2527 20.8402C8.73376 20.8402 7.49382 19.4608 7.49382 17.7714C7.49382 16.082 8.70276 14.7025 10.2527 14.7025C11.7871 14.7025 13.0425 16.082 13.0115 17.7714C13.0115 19.4608 11.7871 20.8402 10.2527 20.8402ZM20.4373 20.8402C18.9183 20.8402 17.6768 19.4608 17.6768 17.7714C17.6768 16.082 18.8873 14.7025 20.4373 14.7025C21.9717 14.7025 23.2271 16.082 23.1961 17.7714C23.1961 19.4608 21.9872 20.8402 20.4373 20.8402Z"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"nav",1)(2,"a",2),c(3,"img",3),o(),c(4,"div",4),i(5,"a",5),l(6," Examples "),o(),i(7,"a",6)(8,"span",7),l(9,"GitHub"),o(),fi(),i(10,"svg",8)(11,"title"),l(12,"GitHub"),o(),c(13,"path",9),o()(),gi(),i(14,"a",10)(15,"span",7),l(16,"Discord"),o(),fi(),i(17,"svg",11)(18,"title"),l(19,"Discord"),o(),c(20,"path",12),o()(),gi(),c(21,"bna-theme-switch"),o()(),i(22,"div",4),c(23,"router-outlet"),o())},dependencies:[Ia,Hi,ai,Lo,v],encapsulation:2});let zo=We;const Je=class Je{constructor(){this._clipboard=X(Ra),this._content="",this.copied=!1,this._disableCopy=!1,this._language="ts"}set disableCopy(t){this._disableCopy=t}set language(t){this._language=t}set code(t){this._code=t,this._content=t??""}copyToClipBoard(){this._code&&(this._clipboard.copy(this._code),this.copied=!0,setTimeout(()=>this.copied=!1,3e3))}};Je.ɵfac=function(e){return new(e||Je)},Je.ɵcmp=p({type:Je,selectors:[["bna-code"]],hostAttrs:[1,"spartan-scroll","relative","block","font-mono","rounded-md","text-sm","border","overflow-hidden"],inputs:{disableCopy:[2,"disableCopy","disableCopy",_o],language:"language",code:"code"},standalone:!0,features:[w([N({lucideClipboard:Aa,lucideCheck:jn})]),Fa,m],decls:6,vars:2,consts:[["hlmBtn","","variant","ghost",1,"absolute","w-10","h-10","p-1","right-2","top-2",3,"click"],["size","xs",3,"name"],[1,"max-h-[650px]","w-full","overflow-auto","p-4"],["language","ts",1,"max-w-full","max-w-screen",3,"highlight"]],template:function(e,n){e&1&&(i(0,"button",0),f("click",function(){return n.copyToClipBoard()}),c(1,"hlm-icon",1),o(),i(2,"pre",2),l(3,"      "),c(4,"code",3),l(5,`
    `),o()),e&2&&(r(),u("name",n.copied?"lucideCheck":"lucideClipboard"),r(3),u("highlight",n._content))},dependencies:[v,S,Ha],styles:[`
      .spartan-scroll .token.class-name {
        opacity: 1;
      }

      .spartan-scroll .token.property,
      .spartan-scroll .token.tag,
      .spartan-scroll .token.boolean,
      .spartan-scroll .token.number,
      .spartan-scroll .token.constant,
      .spartan-scroll .token.symbol,
      .spartan-scroll .token.deleted,
      .spartan-scroll .token.selector,
      .spartan-scroll .token.attr-name,
      .spartan-scroll .token.string,
      .spartan-scroll .token.char,
      .spartan-scroll .token.builtin,
      .spartan-scroll .token.inserted,
      .spartan-scroll .token.atrule,
      .spartan-scroll .token.attr-value,
      .spartan-scroll .token.function,
      .spartan-scroll .token.regex,
      .spartan-scroll .token.important,
      .spartan-scroll .token.variable {
        opacity: 0.533;
      }

      .spartan-scroll .token.operator,
      .spartan-scroll .token.entity,
      .spartan-scroll .token.url,
      .spartan-scroll .token.keyword,
      .spartan-scroll .language-css .token.string,
      .spartan-scroll .style .token.string {
        opacity: 0.733;
      }
    `],encapsulation:2});let E=Je;const ar=["*"],Qe=class Qe{};Qe.ɵfac=function(e){return new(e||Qe)},Qe.ɵcmp=p({type:Qe,selectors:[["bna-demo-box"]],hostAttrs:[1,"preview","flex","w-full","justify-center","items-center"],standalone:!0,features:[m],ngContentSelectors:ar,decls:2,vars:0,consts:[["hlmCard","",1,"h-[600px]","overflow-auto","h-full","w-full","py-10","px-4"]],template:function(e,n){e&1&&(V(),i(0,"div",0),O(1),o())},dependencies:[oo],encapsulation:2});let I=Qe;const lr=[[["","firstTab",""]],[["","secondTab",""]]],rr=["[firstTab]","[secondTab]"],Xe=class Xe{constructor(){this.firstTab="",this.secondTab="",this.value=y(""),this._tabValue=g(()=>this.value()===""?this.firstTab:this.value()),this.tabActivated=new Ii}onTabActivated(t){this.tabActivated.emit(t)}};Xe.ɵfac=function(e){return new(e||Xe)},Xe.ɵcmp=p({type:Xe,selectors:[["bna-example-tabs"]],hostAttrs:[1,"block"],inputs:{firstTab:"firstTab",secondTab:"secondTab",value:[1,"value"]},outputs:{tabActivated:"tabActivated"},standalone:!0,features:[m],ngContentSelectors:rr,decls:10,vars:8,consts:[[1,"block",3,"tabActivated","brnTabs"],["brnTabsList","",1,"inline-flex","items-center","justify-start","w-full","p-0","mb-4","bg-transparent","border-b","rounded-none","border-border","text-muted-foreground","h-9"],[1,"inline-flex","items-center","justify-center","whitespace-nowrap","py-1","text-sm","ring-offset-background","focus-visible:outline-none","focus-visible:ring-2","focus-visible:ring-ring","focus-visible:ring-offset-2","disabled:pointer-events-none","disabled:opacity-50","data-[state=active]:bg-background","relative","h-9","rounded-none","border-b-2","border-b-transparent","bg-transparent","px-4","pb-3","pt-2","font-semibold","text-muted-foreground","shadow-none","transition-none","data-[state=active]:border-b-primary","data-[state=active]:text-foreground","data-[state=active]:shadow-none",3,"brnTabsTrigger"],[1,"mt-2","ring-offset-background","focus-visible:outline-none","focus-visible:ring-2","focus-visible:ring-ring","focus-visible:ring-offset-2",3,"brnTabsContent"]],template:function(e,n){e&1&&(V(lr),i(0,"div",0),f("tabActivated",function(d){return n.onTabActivated(d)}),i(1,"div",1)(2,"button",2),l(3),o(),i(4,"button",2),l(5),o()(),i(6,"div",3),O(7),o(),i(8,"div",3),O(9,1),o()()),e&2&&(u("brnTabs",n._tabValue()),r(),yo("aria-label","Tablist showing "+n.firstTab+" and "+n.secondTab),r(),u("brnTabsTrigger",n.firstTab),r(),se(" ",n.firstTab," "),r(),u("brnTabsTrigger",n.secondTab),r(),se(" ",n.secondTab," "),r(),u("brnTabsContent",n.firstTab),r(2),u("brnTabsContent",n.secondTab))},dependencies:[Ti,Si,Mi,wi],encapsulation:2});let F=Xe;const cr=["*"],Ze=class Ze{constructor(t){this.title=t,this.name="",this.lead="",this.hlmLead=oa,this.hlmH1=na}ngOnChanges(t){this.title.setTitle(this.name)}};Ze.ɵfac=function(e){return new(e||Ze)(b(Pa))},Ze.ɵcmp=p({type:Ze,selectors:[["bna-section-intro"]],hostAttrs:[1,"mb-8","block"],inputs:{name:"name",lead:"lead"},standalone:!0,features:[ko,m],ngContentSelectors:cr,decls:6,vars:8,consts:[[1,"mt-6"]],template:function(e,n){e&1&&(V(),i(0,"h1"),l(1),o(),i(2,"p"),l(3),o(),i(4,"div",0),O(5),o()),e&2&&(B(n.hlmH1),r(),M(n.name),r(),B(n.hlmLead),r(),M(n.lead))},encapsulation:2});let H=Ze;const Ke=class Ke{constructor(){this.textColor="default",this.backgroundColor="default"}};Ke.ɵfac=function(e){return new(e||Ke)},Ke.ɵcmp=p({type:Ke,selectors:[["bna-color-icon"]],inputs:{textColor:"textColor",backgroundColor:"backgroundColor"},standalone:!0,features:[m],decls:2,vars:2,consts:[[1,"flex","items-center","justify-center","bn-color-icon","w-[20px]","h-[20px]","border","rounded"]],template:function(e,n){e&1&&(i(0,"div",0),l(1,` A
`),o()),e&2&&yo("data-background-color",n.backgroundColor)("data-text-color",n.textColor)},dependencies:[h]});let ro=Ke;function dr(s,t){s&1&&c(0,"hlm-icon",7)}function ur(s,t){if(s&1){const e=j();i(0,"button",4),f("click",function(){const a=A(e).$implicit,d=C(2);return P(d.options.text.setColor(a))}),c(1,"bna-color-icon",5),i(2,"span",6),l(3),o(),_(4,dr,1,0,"hlm-icon",7),o()}if(s&2){const e=t.$implicit,n=C(2);r(),u("textColor",e),r(2),M(e.charAt(0).toUpperCase()+e.slice(1)),r(),$(n.options.text.color===e?4:-1)}}function pr(s,t){if(s&1&&(i(0,"div",0)(1,"div",2),l(2,"Text color"),o(),ge(3,ur,5,3,"button",3,Ri),o()),s&2){const e=C();r(3),be(e.colors)}}function mr(s,t){s&1&&c(0,"hlm-icon",7)}function hr(s,t){if(s&1){const e=j();i(0,"button",4),f("click",function(){const a=A(e).$implicit,d=C(2);return P(d.options.background.setColor(a))}),c(1,"bna-color-icon",8),i(2,"span",6),l(3),o(),_(4,mr,1,0,"hlm-icon",7),o()}if(s&2){const e=t.$implicit,n=C(2);r(),u("backgroundColor",e),r(2),M(e.charAt(0).toUpperCase()+e.slice(1)),r(),$(n.options.background.color===e?4:-1)}}function fr(s,t){if(s&1&&(i(0,"div",1)(1,"div",2),l(2,"Background color"),o(),ge(3,hr,5,3,"button",3,Ri),o()),s&2){const e=C();r(3),be(e.colors)}}const gr=["default","gray","brown","red","orange","yellow","green","blue","purple","pink"],Ye=class Ye{constructor(){this.colors=gr,this.options={}}};Ye.ɵfac=function(e){return new(e||Ye)},Ye.ɵcmp=p({type:Ye,selectors:[["bna-color-picker"]],inputs:{options:"options"},standalone:!0,features:[w([N({lucideCheck:jn})]),m],decls:2,vars:2,consts:[[1,"flex","flex-col","mb-2"],[1,"flex","flex-col"],[1,"py-1","px-2"],["hlmBtn","","variant","ghost","size","sm",1,"gap-2","justify-start","text-left","font-normal"],["hlmBtn","","variant","ghost","size","sm",1,"gap-2","justify-start","text-left","font-normal",3,"click"],[3,"textColor"],[1,"w-full"],["name","lucideCheck"],[3,"backgroundColor"]],template:function(e,n){e&1&&_(0,pr,5,0,"div",0)(1,fr,5,0,"div",1),e&2&&($(n.options.text?0:-1),r(),$(n.options.background?1:-1))},dependencies:[h,ro,v,S]});let co=Ye;const he=class he{constructor(){this.editor=T(null),this.options=T({}),this.selectedBlocks=T([]),this.sideMenuFocusedBlock=T(void 0)}setEditor(t){this.editor.set(t)}setOptions(t){this.options.set(t)}};he.ɵfac=function(e){return new(e||he)},he.ɵprov=Fi({token:he,factory:he.ɵfac});let k=he;const ee=s=>({getBoundingClientRect(){return s}}),et=class et{constructor(t,e,n){this.ngxBlockNoteService=t,this.elRef=e,this.renderer2=n,q(()=>{this.adjustVisibilityAndPosition()})}adjustVisibilityAndPosition(){this.toggleVisibility(!1);let t=()=>{};this.renderer2.addClass(this.elRef.nativeElement,"z-40"),this.renderer2.addClass(this.elRef.nativeElement,"absolute");const e=this.ngxBlockNoteService.editor();e&&e.formattingToolbar.onUpdate(async n=>{if(!n.show)t();else{const a=this.getUpdatePositionFn(n);t=Un(ee(n.referencePos),this.elRef.nativeElement,a)}this.toggleVisibility(n.show)})}getUpdatePositionFn(t){return async()=>{const e=await Ce(ee(t.referencePos),this.elRef.nativeElement,{placement:"top",strategy:"fixed",middleware:[Hn(),vo(15)]});this.renderer2.setStyle(this.elRef.nativeElement,"top",`${e.y}px`),this.renderer2.setStyle(this.elRef.nativeElement,"left",`${e.x}px`)}}toggleVisibility(t){t?(this.renderer2.removeClass(this.elRef.nativeElement,"hidden"),this.renderer2.addClass(this.elRef.nativeElement,"block")):(this.renderer2.addClass(this.elRef.nativeElement,"hidden"),this.renderer2.removeClass(this.elRef.nativeElement,"block"))}};et.ɵfac=function(e){return new(e||et)(b(k),b(ce),b(Rn))},et.ɵdir=z({type:et,selectors:[["bna-formatting-toolbar-controller"]],standalone:!0});let uo=et;const br=["*"],tt=class tt{};tt.ɵfac=function(e){return new(e||tt)},tt.ɵcmp=p({type:tt,selectors:[["bna-formatting-toolbar"]],hostAttrs:[1,"bn-toolbar"],standalone:!0,features:[m],ngContentSelectors:br,decls:1,vars:0,template:function(e,n){e&1&&(V(),O(0))},dependencies:[h]});let po=tt;const Cr=s=>({"bg-gray-900 text-gray-100":s});function yr(s,t){if(s&1&&(i(0,"span",3)(1,"p"),l(2),o(),i(3,"p",4),l(4),o()()),s&2){const e=C();r(2),M(e.basicTextStyleDict().tooltip),r(2),se(" ",e.basicTextStyleDict().secondary_tooltip," ")}}const kr={bold:"lucideBold",italic:"lucideItalic",underline:"lucideUnderline",strike:"lucideStrikethrough",code:"lucideCode2"};function vr(s,t){return s in t.schema.styleSchema&&t.schema.styleSchema[s].type===s&&t.schema.styleSchema[s].propSchema==="boolean"}const nt=class nt{constructor(t){this.ngxBlockNoteService=t,this.basicTextStyle=y.required(),this.icon=g(()=>kr[this.basicTextStyle()]),this._visibilityClass=g(()=>{const e=this.ngxBlockNoteService.editor(),n=this.ngxBlockNoteService.selectedBlocks();return vr(this.basicTextStyle(),e)?n.find(d=>d.content!==void 0)?"":"hidden":""}),this.hasTextStyle=g(()=>{const e=this.ngxBlockNoteService.editor();this.ngxBlockNoteService.selectedBlocks();const n=this.basicTextStyle();return e.getActiveStyles()[n]}),this.basicTextStyleDict=g(()=>this.ngxBlockNoteService.editor().dictionary.formatting_toolbar[this.basicTextStyle()])}toggleStyle(t){this.ngxBlockNoteService.editor().focus(),this.ngxBlockNoteService.editor()?.toggleStyles({[t]:!0})}};nt.ɵfac=function(e){return new(e||nt)(b(k))},nt.ɵcmp=p({type:nt,selectors:[["bna-basic-text-style-button"]],hostVars:2,hostBindings:function(e,n){e&2&&B(n._visibilityClass())},inputs:{basicTextStyle:[1,"basicTextStyle"]},standalone:!0,features:[w([N({lucideBold:Oa,lucideItalic:La,lucideUnderline:za,lucideStrikethrough:Va,lucideCode2:$a})]),m],decls:4,vars:4,consts:[["type","button","hlmBtn","","size","icon","variant","ghost","hlmTooltipTrigger","","aria-describedby","text-style-tooltip",1,"w-[30px]","h-[30px]",3,"click","ngClass"],["size","sm",3,"name"],["class","text-center","id","text-style-tooltip",4,"brnTooltipContent"],["id","text-style-tooltip",1,"text-center"],[1,"text-xs"]],template:function(e,n){e&1&&(i(0,"hlm-tooltip")(1,"button",0),f("click",function(){return n.toggleStyle(n.basicTextStyle())}),c(2,"hlm-icon",1),o(),_(3,yr,5,2,"span",2),o()),e&2&&(r(),u("ngClass",ye(2,Cr,n.hasTextStyle())),r(),u("name",n.icon()))},dependencies:[h,qn,v,S,J,Q,oe]});let mo=nt;const di=(s,t)=>{t.onChange(s),t.onSelectionChange(s)},xr=s=>({"bg-gray-900 text-gray-100":s});function Br(s,t){if(s&1&&(i(0,"span",3)(1,"p"),l(2),o()()),s&2){const e=C();Ai("id","text-align-",e.alignment(),"-tooltip"),r(2),M(e.textAlignDict().tooltip)}}const _r={left:"lucideAlignLeft",center:"lucideAlignCenter",right:"lucideAlignRight"},ot=class ot{constructor(t){this.ngxBlockNoteService=t,this.alignment=y.required(),this.icon=g(()=>_r[this.alignment()]),this._visibilityClass=g(()=>this.ngxBlockNoteService.selectedBlocks().find(n=>"textAlignment"in n.props)?"":"hidden"),this.alignmentBlock=T(void 0),this.hasAlignment=g(()=>{const e=this.ngxBlockNoteService.editor(),n=this.alignmentBlock();return n&&To("textAlignment",n,e)?n.props.textAlignment===this.alignment():!1}),this.textAlignDict=g(()=>this.ngxBlockNoteService.editor().dictionary.formatting_toolbar[`align_${this.alignment()}`]),this.updateAlignmentOnContentOrSelectionChange()}updateAlignmentOnContentOrSelectionChange(){di(()=>{this.alignmentBlock.set(this.ngxBlockNoteService.editor().getTextCursorPosition().block)},this.ngxBlockNoteService.editor())}toggleAlignment(t){const e=this.ngxBlockNoteService.editor();e.focus();const n=this.ngxBlockNoteService.selectedBlocks();for(const a of n)wo("textAlignment",a.type,e)&&e.updateBlock(a,{props:{textAlignment:t}})}};ot.ɵfac=function(e){return new(e||ot)(b(k))},ot.ɵcmp=p({type:ot,selectors:[["bna-text-align-button"]],hostVars:2,hostBindings:function(e,n){e&2&&B(n._visibilityClass())},inputs:{alignment:[1,"alignment"]},standalone:!0,features:[w([N({lucideAlignLeft:ja,lucideAlignCenter:Ua,lucideAlignRight:qa})]),m],decls:4,vars:6,consts:[["type","button","hlmBtn","","size","icon","variant","ghost","hlmTooltipTrigger","",1,"w-[30px]","h-[30px]",3,"click","aria-describedby","ngClass"],["size","sm",3,"name"],["class","text-center",3,"id",4,"brnTooltipContent"],[1,"text-center",3,"id"]],template:function(e,n){e&1&&(i(0,"hlm-tooltip")(1,"button",0),f("click",function(){return n.toggleAlignment(n.alignment())}),c(2,"hlm-icon",1),o(),_(3,Br,3,3,"span",2),o()),e&2&&(r(),Ai("aria-describedby","text-align-",n.alignment(),"-tooltip"),u("ngClass",ye(4,xr,n.hasAlignment())),r(),u("name",n.icon()))},dependencies:[h,qn,v,S,J,Q,oe]});let Vo=ot;const Tr=s=>[{name:s.slash_menu.paragraph.title,type:"paragraph",icon:"lucideType",isSelected:t=>t?.type==="paragraph"},{name:s.slash_menu.heading.title,type:"heading",props:{level:1},icon:"lucideHeading1",isSelected:t=>t?.type==="heading"&&"level"in t.props&&t?.props.level===1},{name:s.slash_menu.heading_2.title,type:"heading",props:{level:2},icon:"lucideHeading2",isSelected:t=>t?.type==="heading"&&"level"in t.props&&t?.props.level===2},{name:s.slash_menu.heading_3.title,type:"heading",props:{level:3},icon:"lucideHeading3",isSelected:t=>t?.type==="heading"&&"level"in t.props&&t?.props.level===3},{name:s.slash_menu.bullet_list.title,type:"bulletListItem",icon:"lucideList",isSelected:t=>t?.type==="bulletListItem"},{name:s.slash_menu.numbered_list.title,type:"numberedListItem",icon:"lucideListOrdered",isSelected:t=>t?.type==="numberedListItem"},{name:s.slash_menu.check_list.title,type:"checkListItem",icon:"lucideListChecks",isSelected:t=>t?.type==="checkListItem"}],wr=(s,t)=>t.name;function Sr(s,t){if(s&1&&c(0,"hlm-icon",2),s&2){let e;const n=C();u("name",(e=n.currentBlockType())==null?null:e.icon)}}function Mr(s,t){if(s&1&&c(0,"hlm-icon",8),s&2){const e=C().$implicit;u("name",e.icon)}}function Dr(s,t){if(s&1){const e=j();i(0,"button",6),f("click",function(){const a=A(e).$implicit,d=C(2);return P(d.changeBlockType(a.type,a.props))}),c(1,"hlm-menu-item-check"),i(2,"div",7),_(3,Mr,1,1,"hlm-icon",8),l(4),o()()}if(s&2){const e=t.$implicit,n=C(2);u("checked",n.currentBlockType()===e),r(3),$(e.icon?3:-1),r(),se(" ",e.name," ")}}function Nr(s,t){if(s&1&&(i(0,"hlm-menu")(1,"hlm-menu-group",3)(2,"div",4),ge(3,Dr,5,3,"button",5,wr),o()()()),s&2){const e=C();r(3),be(e.filteredBlockTypes())}}const st=class st{constructor(t){this.ngxBlockNoteService=t,this._visibilityClass=g(()=>{const n=this.ngxBlockNoteService.selectedBlocks()[0];return this.filteredBlockTypes().find(x=>x.type===n?.type)!==void 0?"":"hidden"}),this.blockTypeSelectItems=y(Tr),this.filteredBlockTypes=g(()=>{const e=this.ngxBlockNoteService.editor(),n=e.dictionary;return this.blockTypeSelectItems()(n).filter(d=>d.type in e.schema.blockSchema)}),this.currentBlockType=T(void 0),this.updateCurrentBlockTypeOnChanges()}updateCurrentBlockTypeOnChanges(){const t=this.ngxBlockNoteService.editor();di(()=>{this.currentBlockType.set(this.filteredBlockTypes().find(e=>e.isSelected(t.getTextCursorPosition().block)))},t)}changeBlockType(t,e){const n=this.ngxBlockNoteService.editor(),a=this.ngxBlockNoteService.selectedBlocks();n.focus();for(const d of a)n.updateBlock(d,{type:t,props:e})}};st.ɵfac=function(e){return new(e||st)(b(k))},st.ɵcmp=p({type:st,selectors:[["bna-block-type-selection-button"]],hostVars:2,hostBindings:function(e,n){e&2&&B(n._visibilityClass())},inputs:{blockTypeSelectItems:[1,"blockTypeSelectItems"]},standalone:!0,features:[w([N({lucideType:Pi,lucideHeading1:Oi,lucideHeading2:Li,lucideHeading3:zi,lucideHeading4:Ga,lucideHeading5:Wa,lucideHeading6:Ja,lucideList:Vi,lucideListOrdered:$i,lucideListChecks:ji,lucideCheck:jn})]),m],decls:6,vars:3,consts:[["menu",""],["type","button","hlmBtn","","size","xs","variant","ghost",1,"h-[30px]","min-w-[100px]",3,"brnMenuTriggerFor"],["size","sm",1,"me-2",3,"name"],[1,"px-2"],[1,"flex","flex-col","w-full"],["type","button","hlmMenuItemCheckbox","",1,"gap-2","flex","justify-start",3,"checked"],["type","button","hlmMenuItemCheckbox","",1,"gap-2","flex","justify-start",3,"click","checked"],[1,"min-w-[120px]","gap-2","flex","justify-start","items-center","w-full"],["size","sm",3,"name"]],template:function(e,n){if(e&1&&(i(0,"button",1),_(1,Sr,1,1,"hlm-icon",2),i(2,"span"),l(3),o()(),_(4,Nr,5,0,"ng-template",null,0,ne)),e&2){let a,d;const x=G(5);u("brnMenuTriggerFor",x),r(),$((a=n.currentBlockType())!=null&&a.icon?1:-1),r(2),se(" ",(d=n.currentBlockType())==null?null:d.name," ")}},dependencies:[h,v,W,Z,te,S,io,ao]});let $o=st;const it=class it{constructor(t,e){this.formBuilder=t,this.ngxBlockNoteService=e,this.initialValue={},this.form=this.formBuilder.group({url:new re("",[eo.required]),text:new re("",[eo.required])})}ngOnChanges(){this.form.patchValue(this.initialValue)}submit(){const t=this.ngxBlockNoteService.editor();if(this.form.invalid)return;const e=this.form.value;t.createLink(e.url,e.text),t.focus()}};it.ɵfac=function(e){return new(e||it)(b(Ui),b(k))},it.ɵcmp=p({type:it,selectors:[["bna-link-form"]],inputs:{initialValue:"initialValue"},standalone:!0,features:[w([N({lucideLink:qi,lucideType:Pi})]),ko,m],decls:11,vars:3,consts:[[3,"ngSubmit","formGroup"],[1,"flex","gap-2","justify-center","items-center","min-w-[350px]"],[1,"flex","justify-center","items-center","w-[20px]","h-[20px]"],["size","sm","name","lucideLink"],["type","text","placeholder","Edit URL",1,"bg-background","w-full","h-[32px]","outline-none","placeholder:italic","placeholder:text-muted-foreground","placeholder:font-normal",3,"formControl"],[1,"flex","gap-2","justify-center","items-center"],["size","sm","name","lucideType"],["type","text","placeholder","Edit title",1,"bg-background","w-full","h-[32px]","outline-none","placeholder:italic","placeholder:text-muted-foreground","placeholder:font-normal",3,"formControl"],[1,"hidden"]],template:function(e,n){e&1&&(i(0,"form",0),f("ngSubmit",function(){return n.submit()}),i(1,"div",1)(2,"div",2),c(3,"hlm-icon",3),o(),c(4,"input",4),o(),i(5,"div",5)(6,"div",2),c(7,"hlm-icon",6),o(),c(8,"input",7),o(),i(9,"button",8),l(10,"Save"),o()()),e&2&&(u("formGroup",n.form),r(4),u("formControl",n.form.controls.url),r(4),u("formControl",n.form.controls.text))},dependencies:[h,S,Gi,Gn,Wn,ke,Jn,ae,An,xo]});let ho=it;function Er(s,t){if(s&1&&(i(0,"span",4)(1,"p"),l(2),o(),i(3,"p",5),l(4),o()()),s&2){const e=C();r(2),M(e.dict.formatting_toolbar.link.tooltip),r(2),se(" ",e.dict.formatting_toolbar.link.secondary_tooltip," ")}}function Ir(s,t){if(s&1&&(i(0,"hlm-menu")(1,"hlm-menu-group",6),c(2,"bna-link-form",7),o()()),s&2){const e=C();r(2),u("initialValue",e.initialValue)}}function Fr(s){return"link"in s.schema.inlineContentSchema&&s.schema.inlineContentSchema.link==="link"}const at=class at{constructor(t){this.ngxBlockNoteService=t,this._visibilityClass=g(()=>{const e=this.ngxBlockNoteService.editor(),n=this.ngxBlockNoteService.selectedBlocks();if(!Fr(e))return"hidden";for(const a of n)if(a.content===void 0)return"hidden";return""}),this.initialValue=this.getInitialValue(),this.dict=this.ngxBlockNoteService.editor().dictionary,this.ngxBlockNoteService.editor().onSelectionChange(()=>{this.initialValue=this.getInitialValue()})}getInitialValue(){const t=this.ngxBlockNoteService.editor();return{url:t.getSelectedLinkUrl(),text:t.getSelectedText()}}};at.ɵfac=function(e){return new(e||at)(b(k))},at.ɵcmp=p({type:at,selectors:[["bna-create-link"]],hostVars:2,hostBindings:function(e,n){e&2&&B(n._visibilityClass())},standalone:!0,features:[w([N({lucideLink:qi})]),m],decls:6,vars:1,consts:[["menu",""],["type","button","hlmBtn","","size","icon","variant","ghost","hlmTooltipTrigger","","aria-describedby","create-link-tooltip",1,"w-[30px]","h-[30px]",3,"brnMenuTriggerFor"],["size","sm","name","lucideLink"],["class","text-center","id","create-link-tooltip",4,"brnTooltipContent"],["id","create-link-tooltip",1,"text-center"],[1,"text-xs"],[1,"px-2"],[3,"initialValue"]],template:function(e,n){if(e&1&&(i(0,"hlm-tooltip")(1,"button",1),c(2,"hlm-icon",2),o(),_(3,Er,5,2,"span",3)(4,Ir,3,1,"ng-template",null,0,ne),o()),e&2){const a=G(5);r(),u("brnMenuTriggerFor",a)}},dependencies:[h,v,S,W,te,Z,ho,Q,oe,J]});let jo=at;function Hr(s,t){if(s&1&&(i(0,"hlm-menu")(1,"hlm-menu-group",4),c(2,"bna-color-picker",5),o()()),s&2){const e=C();r(2),u("options",e.options)}}function Rr(s,t){if(s&1&&(i(0,"span",6)(1,"p"),l(2),o()()),s&2){const e=C();r(2),M(e.dict.formatting_toolbar.colors.tooltip)}}function ki(s,t){return`${s}Color`in t.schema.styleSchema&&t.schema.styleSchema[`${s}Color`].type===`${s}Color`&&t.schema.styleSchema[`${s}Color`].propSchema==="string"}const lt=class lt{constructor(t){this.ngxBlockNoteService=t,this._visibilityClass=g(()=>{const e=this.ngxBlockNoteService.editor(),n=this.ngxBlockNoteService.selectedBlocks(),a=ki("text",e),d=ki("background",e);if(!a&&!d)return"hidden";for(const x of n)if(x.content!==void 0)return"";return"hidden"}),this.options=this.getOptions(),this.dict=this.ngxBlockNoteService.editor().dictionary,this.ngxBlockNoteService.editor().onSelectionChange(()=>{this.options=this.getOptions()})}getOptions(){const t=this.ngxBlockNoteService.editor();return{text:{color:t.getActiveStyles().textColor||"default",setColor:e=>{e==="default"?t.removeStyles({textColor:e}):t.addStyles({textColor:e}),t.focus()}},background:{color:t.getActiveStyles().backgroundColor||"default",setColor:e=>{e==="default"?t.removeStyles({backgroundColor:e}):t.addStyles({backgroundColor:e}),t.focus()}}}}};lt.ɵfac=function(e){return new(e||lt)(b(k))},lt.ɵcmp=p({type:lt,selectors:[["bna-color-style-button"]],hostVars:2,hostBindings:function(e,n){e&2&&B(n._visibilityClass())},standalone:!0,features:[m],decls:6,vars:3,consts:[["menu",""],["type","button","hlmBtn","","size","icon","variant","ghost","hlmTooltipTrigger","","aria-describedby","color-style-tooltip",1,"w-[30px]","h-[30px]",3,"brnMenuTriggerFor"],[3,"textColor","backgroundColor"],["class","text-center","id","color-style-tooltip",4,"brnTooltipContent"],[1,"px-2","max-h-[350px]","overflow-auto"],[3,"options"],["id","color-style-tooltip",1,"text-center"]],template:function(e,n){if(e&1&&(i(0,"hlm-tooltip")(1,"button",1),c(2,"bna-color-icon",2),o(),_(3,Hr,3,1,"ng-template",null,0,ne)(5,Rr,3,1,"span",3),o()),e&2){let a,d;const x=G(4);r(),u("brnMenuTriggerFor",x),r(),u("textColor",(a=n.options.text==null?null:n.options.text.color)!==null&&a!==void 0?a:"default")("backgroundColor",(d=n.options.background==null?null:n.options.background.color)!==null&&d!==void 0?d:"default")}},dependencies:[h,v,te,W,Z,ro,co,J,Q,oe]});let Uo=lt;const rt=class rt{constructor(t,e,n){this.ngxBlockNoteService=t,this.elRef=e,this.renderer2=n,q(()=>{this.adjustVisibilityAndPosition()})}adjustVisibilityAndPosition(){let t=()=>{};const e=this.ngxBlockNoteService.editor();e&&(this.toggleVisibility(!0),this.renderer2.addClass(this.elRef.nativeElement,"z-30"),this.renderer2.addClass(this.elRef.nativeElement,"absolute"),e.sideMenu.onUpdate(async n=>{if(!n.show)t();else{this.ngxBlockNoteService.sideMenuFocusedBlock.set(n.block);const a=async()=>{const d=await Ce(ee(n.referencePos),this.elRef.nativeElement,{placement:"left",middleware:[Hn()]});this.renderer2.setStyle(this.elRef.nativeElement,"top",`${d.y}px`)};t=Un(ee(n.referencePos),this.elRef.nativeElement,a)}this.toggleVisibility(n.show)}))}toggleVisibility(t){t?(this.renderer2.removeClass(this.elRef.nativeElement,"hidden"),this.renderer2.addClass(this.elRef.nativeElement,"block")):(this.renderer2.addClass(this.elRef.nativeElement,"hidden"),this.renderer2.removeClass(this.elRef.nativeElement,"block"))}};rt.ɵfac=function(e){return new(e||rt)(b(k),b(ce),b(Rn))},rt.ɵdir=z({type:rt,selectors:[["bna-side-menu-controller"]],standalone:!0});let Nn=rt;const Ar=["*"],ct=class ct{};ct.ɵfac=function(e){return new(e||ct)},ct.ɵcmp=p({type:ct,selectors:[["bna-side-menu"]],hostAttrs:[1,"text-gray-500"],standalone:!0,features:[m],ngContentSelectors:Ar,decls:1,vars:0,template:function(e,n){e&1&&(V(),O(0))},dependencies:[h]});let En=ct;const dt=class dt{constructor(t){this.ngxBlockNoteService=t}addNewBlock(){this.ngxBlockNoteService.editor()?.sideMenu.addBlock()}};dt.ɵfac=function(e){return new(e||dt)(b(k))},dt.ɵcmp=p({type:dt,selectors:[["bna-add-block-btn"]],standalone:!0,features:[w([N({lucidePlus:Qa})]),m],decls:2,vars:1,consts:[["type","button","hlmBtn","","variant","ghost","size","xs",3,"click"],["size","sm",3,"name"]],template:function(e,n){e&1&&(i(0,"button",0),f("click",function(){return n.addNewBlock()}),c(1,"hlm-icon",1),o()),e&2&&(r(),u("name","lucidePlus"))},dependencies:[h,v,S]});let Vn=dt;const $n=s=>{if(!s)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");return s.getSelection()?.blocks||[s.getTextCursorPosition().block]};function Pr(s,t){if(s&1&&(i(0,"hlm-menu")(1,"hlm-menu-group",2),c(2,"bna-color-picker",3),o()()),s&2){const e=C();r(2),u("options",e.options())}}const ut=class ut{constructor(t){this.ngxBlockNoteService=t,this.selectedBlocks=T($n(this.ngxBlockNoteService.editor())),this.options=g(()=>{const e=this.ngxBlockNoteService.editor(),n=this.ngxBlockNoteService.sideMenuFocusedBlock();let a=this.selectedBlocks();n&&a.find(U=>U.id===n.id)===void 0&&(a=[n]);const d=a[0],x={};return d&&(wo("textColor",d.type,e)&&To("textColor",d,e)&&(x.text={color:d.props.textColor||"default",setColor:U=>{for(const ve of a)e.updateBlock(ve,{type:ve.type,props:{textColor:U}});e.focus(),e.sideMenu.unfreezeMenu()}}),wo("backgroundColor",d.type,e)&&To("backgroundColor",d,e)&&(x.background={color:d.props.backgroundColor||"default",setColor:U=>{for(const ve of a)e.updateBlock(ve,{type:ve.type,props:{backgroundColor:U}});e.focus(),e.sideMenu.unfreezeMenu()}})),x}),this.ngxBlockNoteService.editor().onSelectionChange(()=>{const e=$n(this.ngxBlockNoteService.editor());this.selectedBlocks.set(e)})}};ut.ɵfac=function(e){return new(e||ut)(b(k))},ut.ɵcmp=p({type:ut,selectors:[["bna-block-color-style"]],standalone:!0,features:[m],decls:4,vars:1,consts:[["menu",""],["type","button","hlmBtn","","size","sm","variant","ghost",1,"w-full","justify-start",3,"brnMenuTriggerFor"],[1,"px-2","max-h-[350px]","overflow-auto"],[3,"options"]],template:function(e,n){if(e&1&&(i(0,"button",1),l(1,` Color
`),o(),_(2,Pr,3,1,"ng-template",null,0,ne)),e&2){const a=G(3);u("brnMenuTriggerFor",a)}},dependencies:[h,co,v,te,W,Z]});let qo=ut;const pt=class pt{constructor(t){this.ngxBlockNoteService=t,q(()=>{const e=t.editor();e&&e.sideMenu.onUpdate(n=>{this.dragBlock=n.block})})}deleteBlock(){const t=this.ngxBlockNoteService.editor(),e=this.ngxBlockNoteService.sideMenuFocusedBlock();let n=$n(t);e&&n.find(a=>a.id===e.id)===void 0&&(n=[e]),t.removeBlocks(n),t.focus(),t.sideMenu.unfreezeMenu()}};pt.ɵfac=function(e){return new(e||pt)(b(k))},pt.ɵcmp=p({type:pt,selectors:[["bna-delete-block-item"]],hostAttrs:[1,"block"],standalone:!0,features:[m],decls:2,vars:0,consts:[["hlmBtn","","variant","ghost","size","sm","type","button",1,"w-full","justify-start",3,"click"]],template:function(e,n){e&1&&(i(0,"button",0),f("click",function(){return n.deleteBlock()}),l(1,"Delete"),o())},dependencies:[h,v]});let fo=pt;const Or=["*"];function Lr(s,t){s&1&&(li(0),c(1,"bna-delete-block-item")(2,"bna-block-color-style"),ri())}function zr(s,t){if(s&1&&(i(0,"hlm-menu",4)(1,"hlm-menu-group")(2,"div",null,1),O(4),o(),_(5,Lr,3,0,"ng-container",5),o()()),s&2){const e=G(3);r(5),u("ngIf",!e.hasChildNodes())}}const mt=class mt{constructor(t){this.ngxBlockNoteService=t}openDragMenu(){this.ngxBlockNoteService.editor().sideMenu.freezeMenu()}dragStart(t){this.ngxBlockNoteService.editor().sideMenu.blockDragStart(t)}dragEnd(){this.ngxBlockNoteService.editor().sideMenu.blockDragEnd()}};mt.ɵfac=function(e){return new(e||mt)(b(k))},mt.ɵcmp=p({type:mt,selectors:[["bna-drag-handle-menu-btn"]],standalone:!0,features:[w([N({lucideGripVertical:Wi})]),m],ngContentSelectors:Or,decls:4,vars:2,consts:[["menu",""],["dragHandleMenuItems",""],["draggable","true","type","button","hlmBtn","","variant","ghost","size","xs",3,"click","dragend","dragstart","brnMenuTriggerFor"],["size","sm",3,"name"],[1,"shadow-3xl"],[4,"ngIf"]],template:function(e,n){if(e&1){const a=j();V(),i(0,"button",2),f("click",function(){return A(a),P(n.openDragMenu())})("dragend",function(){return A(a),P(n.dragEnd())})("dragstart",function(x){return A(a),P(n.dragStart(x))}),c(1,"hlm-icon",3),o(),_(2,zr,6,1,"ng-template",null,0,ne)}if(e&2){const a=G(3);u("brnMenuTriggerFor",a),r(),u("name","lucideGripVertical")}},dependencies:[h,Ji,v,te,S,W,Z,fo,qo]});let In=mt;const ht=class ht{constructor(t,e,n){this.blockNoteEditorService=t,this.elRef=e,this.renderer2=n,this.triggerCharacter="/",q(()=>{this.adjustVisibilityAndPosition()})}adjustVisibilityAndPosition(){const t=this.blockNoteEditorService.editor();if(!t)return;this.toggleVisibility(!1);let e=()=>{};this.renderer2.addClass(this.elRef.nativeElement,"z-30"),this.renderer2.addClass(this.elRef.nativeElement,"fixed"),this.renderer2.addClass(this.elRef.nativeElement,"flex"),t.suggestionMenus.onUpdate(this.triggerCharacter,async n=>{if(!n.show)e();else{const a=async()=>{const d=await Ce(ee(n.referencePos),this.elRef.nativeElement,{strategy:"fixed",placement:"bottom-start",middleware:[vo(10),Hn(),Xa({apply:({availableWidth:x,availableHeight:U,elements:ve})=>{this.renderer2.setStyle(this.elRef.nativeElement,"maxHeight",`${U-10}px`)}})]});this.renderer2.setStyle(this.elRef.nativeElement,"top",`${d.y}px`),this.renderer2.setStyle(this.elRef.nativeElement,"left",`${d.x}px`)};e=Un(ee(n.referencePos),this.elRef.nativeElement,a)}n.show?this.toggleVisibility(!0):setTimeout(()=>{this.toggleVisibility(n.show)},250)})}toggleVisibility(t){t?(this.renderer2.removeClass(this.elRef.nativeElement,"hidden"),this.renderer2.addClass(this.elRef.nativeElement,"block")):(this.renderer2.addClass(this.elRef.nativeElement,"hidden"),this.renderer2.removeClass(this.elRef.nativeElement,"block"))}};ht.ɵfac=function(e){return new(e||ht)(b(k),b(ce),b(Rn))},ht.ɵdir=z({type:ht,selectors:[["bna-suggestions-menu-controller"]],inputs:{triggerCharacter:"triggerCharacter"},standalone:!0});let go=ht;const Vr=s=>({"bg-muted":s}),$r={heading:"lucideHeading1",heading_2:"lucideHeading2",heading_3:"lucideHeading3",check_list:"lucideListChecks",numbered_list:"lucideListOrdered",bullet_list:"lucideList",paragraph:"lucidePilcrow",image:"lucideImage",video:"lucideVideo",audio:"lucideFileAudio",table:"lucideTable",emoji:"lucideSmile"},ft=class ft{constructor(t){this.ngxBlockNoteService=t,this.suggestionItem=y.required(),this.iconName=g(()=>{const e=this.suggestionItem();if(!e)return"lucideLayoutPanelTop";const n=$r[e?.key];return n||"lucideLayoutPanelTop"}),this.selected=y(!1),this.mouseEnter=Yn()}onClick(){this.ngxBlockNoteService.editor().suggestionMenus.clearQuery(),this.suggestionItem().onItemClick(),this.ngxBlockNoteService.editor().suggestionMenus.closeMenu()}onMouseEnter(){this.mouseEnter.emit()}};ft.ɵfac=function(e){return new(e||ft)(b(k))},ft.ɵcmp=p({type:ft,selectors:[["bna-suggestion-menu-item"]],inputs:{suggestionItem:[1,"suggestionItem"],selected:[1,"selected"]},outputs:{mouseEnter:"mouseEnter"},standalone:!0,features:[w([N({lucideHeading1:Oi,lucideHeading2:Li,lucideHeading3:zi,lucideList:Vi,lucideLayoutPanelTop:Za,lucideListChecks:ji,lucideTable:Ka,lucideSmile:Ya,lucidePilcrow:el,lucideImage:Qi,lucideFileAudio:tl,lucideVideo:nl,lucideListOrdered:$i})]),m],decls:10,vars:7,consts:[["hlmBtn","","variant","ghost","type","button",1,"flex","w-full","justify-start","py-1","px-4","h-full","gap-4","text-left","font-normal",3,"click","mouseenter","ngClass"],[1,"border","border-border","h-[45px]","w-[45px]","rounded","flex","justify-center","items-center","flex-shrink-0"],["size","base",1,"",3,"name"],[1,"w-full"],[1,"text-sm","font-normal"],[1,"text-xs","text-muted-foreground"],[1,"flex-grow-0","flex-shrink-0","bg-accent","rounded","p-1","text-xs"]],template:function(e,n){e&1&&(i(0,"button",0),f("click",function(){return n.onClick()})("mouseenter",function(){return n.onMouseEnter()}),i(1,"div",1),c(2,"hlm-icon",2),o(),i(3,"div",3)(4,"p",4),l(5),o(),i(6,"p",5),l(7),o()(),i(8,"div",6),l(9),o()()),e&2&&(u("ngClass",ye(5,Vr,n.selected())),r(2),u("name",n.iconName()),r(3),M(n.suggestionItem().title),r(2),M(n.suggestionItem().subtext),r(2),se(" ",n.suggestionItem().badge," "))},dependencies:[h,qn,v,S],styles:[`.selected[_ngcontent-%COMP%] {
    --tw-bg-opacity: 1;
    background-color: rgb(209 213 219 / var(--tw-bg-opacity))
}`]});let Go=ft;const jr=(s,t)=>t.key+t.title;function Ur(s,t){if(s&1&&(i(0,"div",2),l(1),o()),s&2){const e=C().$implicit;r(),M(e.group)}}function qr(s,t){if(s&1){const e=j();_(0,Ur,2,1,"div",2),i(1,"bna-suggestion-menu-item",3),f("mouseEnter",function(){const a=A(e).$index,d=C();return P(d.selectedIndex=a)}),o()}if(s&2){const e=t.$implicit,n=t.$index,a=C();$(n===0||e.group!==a.filteredSlashMenuItems[n-1].group?0:-1),r(),u("suggestionItem",e)("selected",a.selectedIndex===n)}}function Gr(s,t){s&1&&(i(0,"div",2),l(1,"No Items found"),o())}const gt=class gt{handleKeyDown(t){if(this.isShown()){if(t.key==="ArrowUp"){t.preventDefault();const n=this.selectedIndex-1;n<0?this.selectedIndex=this.filteredSlashMenuItems.length-1:this.selectedIndex=n;return}else if(t.key==="ArrowDown"){t.preventDefault();const n=this.selectedIndex+1;n>this.filteredSlashMenuItems.length-1?this.selectedIndex=0:this.selectedIndex=n;return}else if(t.key==="Enter"){t.preventDefault(),this.insertSelectedBlock();return}}}insertSelectedBlock(){this.ngxBlockNoteService.editor().suggestionMenus.closeMenu(),this.ngxBlockNoteService.editor().suggestionMenus.clearQuery(),this.filteredSlashMenuItems[this.selectedIndex].onItemClick(),this.selectedIndex=0}constructor(t){this.ngxBlockNoteService=t,this.selectedIndex=0,this.triggerCharacter="/",this.query=T(""),this.isShown=T(!1),this.filteredSlashMenuItems=[],this.cleanUpFn=()=>{},q(()=>{this.filteredSlashMenuItems=Xi(this.getSlashMenuItems(),this.query())})}ngOnChanges(t){t.triggerCharacter&&(this.cleanUpFn(),this.cleanUpFn=this.ngxBlockNoteService.editor().suggestionMenus.onUpdate(this.triggerCharacter,e=>{this.query()!==e.query&&(this.query.set(e.query),this.selectedIndex=0),this.isShown()!==e.show&&this.isShown.set(e.show)}))}getSlashMenuItems(){const t=this.ngxBlockNoteService.editor();if(!t)return[];const e=this.ngxBlockNoteService.options().getSuggestionItems;return e?[...e(t)]:[...Pn(t)]}};gt.ɵfac=function(e){return new(e||gt)(b(k))},gt.ɵcmp=p({type:gt,selectors:[["bna-suggestions-menu"]],hostBindings:function(e,n){e&1&&f("keydown",function(d){return n.handleKeyDown(d)},!1,ol)},inputs:{triggerCharacter:"triggerCharacter"},standalone:!0,features:[ko,m],decls:4,vars:1,consts:[[1,"h-full","flex","flex-col","overflow-auto","border","border-border","bg-background","shadow-lg","shadow-border","rounded","p-1"],[3,"suggestionItem","selected"],[1,"px-2","py-1"],[3,"mouseEnter","suggestionItem","selected"]],template:function(e,n){e&1&&(i(0,"div",0),ge(1,qr,2,3,"bna-suggestion-menu-item",1,jr,!1,Gr,2,0,"div",2),o()),e&2&&(r(),be(n.filteredSlashMenuItems))},dependencies:[h,Go]});let Wo=gt;const bt=class bt{constructor(t,e,n){this.ngxBlockNoteService=t,this.elRef=e,this.renderer2=n,q(()=>{this.adjustVisibilityAndPosition()})}adjustVisibilityAndPosition(){const t=this.ngxBlockNoteService.editor();if(!t)return;this.toggleVisibility(!1);let e=()=>{};this.renderer2.addClass(this.elRef.nativeElement,"z-30"),this.renderer2.addClass(this.elRef.nativeElement,"absolute"),t.filePanel?.onUpdate(async n=>{if(!n.show)e();else{const a=async()=>{const d=await Ce(ee(n.referencePos),this.elRef.nativeElement,{placement:"bottom",middleware:[vo(10),Hn()]});this.renderer2.setStyle(this.elRef.nativeElement,"top",`${d.y}px`),this.renderer2.setStyle(this.elRef.nativeElement,"left",`${d.x}px`)};e=Un(ee(n.referencePos),this.elRef.nativeElement,a)}this.toggleVisibility(n.show)})}toggleVisibility(t){t?(this.renderer2.removeClass(this.elRef.nativeElement,"hidden"),this.renderer2.addClass(this.elRef.nativeElement,"block")):(this.renderer2.addClass(this.elRef.nativeElement,"hidden"),this.renderer2.removeClass(this.elRef.nativeElement,"block"))}};bt.ɵfac=function(e){return new(e||bt)(b(k),b(ce),b(Rn))},bt.ɵdir=z({type:bt,selectors:[["bna-file-panel-controller"]],standalone:!0});let Jo=bt;const Wr=()=>({standalone:!0}),Ct=class Ct{constructor(t){this.ngxBlockNoteService=t,this.focusedBlock=T(void 0),this.embedInputText="",this.fileControl=new re,this.ngxBlockNoteService.editor().filePanel?.onUpdate(async n=>{n.show?this.focusedBlock.set(n.block):this.focusedBlock.set(void 0)})}ngOnInit(){const e=this.ngxBlockNoteService.editor().getTextCursorPosition().block;this.focusedBlock.set(e)}async onFileInputChanged(t){const e=this.ngxBlockNoteService.editor(),n=this.focusedBlock();if(!e.uploadFile||!n){console.error("uploadFile was not provided in editor options");return}const a=t.target.files;if(!a)return;const d=a[0],x=await e.uploadFile(d);this.updateBlockWithEmbedFileUrl(n,e,x),this.focusedBlock.set(void 0),this.fileControl.reset()}insertEmbedFile(t){const e=this.ngxBlockNoteService.editor(),n=this.focusedBlock();n&&this.updateBlockWithEmbedFileUrl(n,e,t)}updateBlockWithEmbedFileUrl(t,e,n){e.updateBlock(t,{props:{url:n}}),e.filePanel?.closeMenu(),e.focus()}};Ct.ɵfac=function(e){return new(e||Ct)(b(k))},Ct.ɵcmp=p({type:Ct,selectors:[["bna-file-panel"]],standalone:!0,features:[m],decls:14,vars:4,consts:[[1,"bg-background","shadow-2xl","rounded","shadow-neutral-700","w-96"],["tab","upload"],["aria-label","file panel",1,"w-full","grid","grid-cols-2"],["hlmTabsTrigger","upload"],["hlmTabsTrigger","embed"],["hlmTabsContent","upload",1,"p-3"],["hlmInput","","type","file",1,"w-full",3,"input","formControl"],["hlmTabsContent","embed",1,"p-3"],[3,"submit"],["placeholder","Enter URL","hlmInput","","type","text",1,"w-full","mb-3",3,"ngModelChange","ngModel","ngModelOptions"],["hlmBtn","","variant","default",1,"w-full"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"hlm-tabs",1)(2,"hlm-tabs-list",2)(3,"button",3),l(4,"Upload"),o(),i(5,"button",4),l(6,"Embed"),o()(),i(7,"div",5)(8,"input",6),f("input",function(d){return n.onFileInputChanged(d)}),o()(),i(9,"div",7)(10,"form",8),f("submit",function(){return n.insertEmbedFile(n.embedInputText)}),i(11,"input",9),sl("ngModelChange",function(d){return rl(n.embedInputText,d)||(n.embedInputText=d),d}),o(),i(12,"button",10),l(13,"Embed"),o()()()()()),e&2&&(r(8),u("formControl",n.fileControl),r(3),il("ngModel",n.embedInputText),u("ngModelOptions",Di(3,Wr)))},dependencies:[so,D,Do,v,Gi,Gn,Wn,ke,Jn,al,ll,No,Mo,ae,An],encapsulation:2});let bo=Ct;const On=(s,t)=>{if(t.length!==1)return;const e=t[0];if(Zi(e,s))return e},Ln=(s,t)=>!t||cl(t,s)||!s.isEditable?"hidden":"";function Jr(s,t){if(s&1&&(i(0,"span",4)(1,"p"),l(2),o()()),s&2){const e=C();r(2),M(e.dict.formatting_toolbar.file_caption.tooltip)}}function Qr(s,t){if(s&1){const e=j();i(0,"hlm-menu")(1,"hlm-menu-group",5)(2,"form",6),f("ngSubmit",function(){A(e);const a=C();return P(a.submit())}),i(3,"div",7)(4,"div",8),c(5,"hlm-icon",2),o(),c(6,"input",9),o(),i(7,"button",10),l(8,"Save"),o()()()()}if(s&2){const e=C();r(2),u("formGroup",e.form),r(4),u("formControl",e.form.controls.caption)}}const yt=class yt{constructor(t,e){this.ngxBlockNoteService=t,this.formBuilder=e,this.fileBlock=g(()=>On(this.ngxBlockNoteService.editor(),this.ngxBlockNoteService.selectedBlocks())),this._visibilityClass=g(()=>Ln(this.ngxBlockNoteService.editor(),this.fileBlock())),this.form=this.formBuilder.group({caption:["",eo.required]}),this.dict=this.ngxBlockNoteService.editor().dictionary,q(()=>{this.patchFormValues()})}patchFormValues(){const t=this.ngxBlockNoteService.editor(),n=this.ngxBlockNoteService.selectedBlocks()[0];n&&Zi(n,t)&&this.form.setValue({caption:n.props.caption})}submit(){const t=this.ngxBlockNoteService.editor(),e=this.form.controls.caption.value,n=this.fileBlock();n&&(t.updateBlock(n,{props:{caption:e}}),t.focus())}};yt.ɵfac=function(e){return new(e||yt)(b(k),b(Ki))},yt.ɵcmp=p({type:yt,selectors:[["bna-file-caption-button"]],hostVars:2,hostBindings:function(e,n){e&2&&B(n._visibilityClass())},standalone:!0,features:[w([N({lucideTextCursorInput:dl})]),m],decls:6,vars:1,consts:[["menu",""],["type","button","hlmBtn","","size","icon","variant","ghost","hlmTooltipTrigger","","aria-describedby","file-caption-tooltip",1,"w-[30px]","h-[30px]",3,"brnMenuTriggerFor"],["size","sm","name","lucideTextCursorInput"],["class","text-center","id","file-caption-tooltip",4,"brnTooltipContent"],["id","file-caption-tooltip",1,"text-center"],[1,"px-2"],[3,"ngSubmit","formGroup"],[1,"flex","gap-2","justify-center","items-center","min-w-[350px]"],[1,"flex","justify-center","items-center","w-[20px]","h-[20px]"],["type","text","placeholder","Edit caption",1,"bg-background","w-full","h-[32px]","outline-none","placeholder:italic","placeholder:text-muted-foreground","placeholder:font-normal",3,"formControl"],[1,"hidden"]],template:function(e,n){if(e&1&&(i(0,"hlm-tooltip")(1,"button",1),c(2,"hlm-icon",2),o(),_(3,Jr,3,1,"span",3)(4,Qr,9,2,"ng-template",null,0,ne),o()),e&2){const a=G(5);r(),u("brnMenuTriggerFor",a)}},dependencies:[h,v,S,W,te,Z,ae,Gn,Wn,ke,Jn,An,xo,J,Q,oe]});let Qo=yt;function Xr(s,t){if(s&1&&(i(0,"span",3)(1,"p"),l(2),o()()),s&2){const e=C();r(2),M(e.tooltip())}}const kt=class kt{constructor(t){this.ngxBlockNoteService=t,this.fileBlock=g(()=>On(this.ngxBlockNoteService.editor(),this.ngxBlockNoteService.selectedBlocks())),this._visibilityClass=g(()=>Ln(this.ngxBlockNoteService.editor(),this.fileBlock())),this.tooltip=g(()=>{const e=this.fileBlock();return e?this.ngxBlockNoteService.editor().dictionary.formatting_toolbar.file_delete.tooltip[e.type]:""})}deleteFile(){const t=this.ngxBlockNoteService.editor(),e=this.fileBlock();e&&(t.focus(),t.removeBlocks([e]))}};kt.ɵfac=function(e){return new(e||kt)(b(k))},kt.ɵcmp=p({type:kt,selectors:[["bna-file-delete-button"]],hostVars:2,hostBindings:function(e,n){e&2&&B(n._visibilityClass())},standalone:!0,features:[w([N({lucideTrash:ci})]),m],decls:4,vars:0,consts:[["type","button","hlmBtn","","size","icon","variant","ghost","hlmTooltipTrigger","","aria-describedby","file-delete-tooltip",1,"w-[30px]","h-[30px]",3,"click"],["size","sm","name","lucideTrash"],["class","text-center","id","file-delete-tooltip",4,"brnTooltipContent"],["id","file-delete-tooltip",1,"text-center"]],template:function(e,n){e&1&&(i(0,"hlm-tooltip")(1,"button",0),f("click",function(){return n.deleteFile()}),c(2,"hlm-icon",1),o(),_(3,Xr,3,1,"span",2),o())},dependencies:[h,v,S,J,Q,oe]});let Xo=kt;function Zr(s,t){if(s&1&&(i(0,"span",3)(1,"p"),l(2),o()()),s&2){const e=C();r(2),M(e.tooltip())}}const vt=class vt{constructor(t){this.ngxBlockNoteService=t,this.fileBlock=g(()=>On(this.ngxBlockNoteService.editor(),this.ngxBlockNoteService.selectedBlocks())),this._visibilityClass=g(()=>Ln(this.ngxBlockNoteService.editor(),this.fileBlock())),this.tooltip=g(()=>{const e=this.fileBlock();return e?this.ngxBlockNoteService.editor().dictionary.formatting_toolbar.file_download.tooltip[e.type]:""})}downloadFile(){const t=this.ngxBlockNoteService.editor(),e=this.fileBlock();e&&e.props.url&&(t.focus(),t.resolveFileUrl(e.props.url).then(n=>window.open(n)))}};vt.ɵfac=function(e){return new(e||vt)(b(k))},vt.ɵcmp=p({type:vt,selectors:[["bna-file-download-button"]],hostVars:2,hostBindings:function(e,n){e&2&&B(n._visibilityClass())},standalone:!0,features:[w([N({lucideDownload:ul})]),m],decls:4,vars:0,consts:[["type","button","hlmBtn","","size","icon","variant","ghost","hlmTooltipTrigger","","aria-describedby","file-download-tooltip",1,"w-[30px]","h-[30px]",3,"click"],["size","sm","name","lucideDownload"],["class","text-center","id","file-download-tooltip",4,"brnTooltipContent"],["id","file-download-tooltip",1,"text-center"]],template:function(e,n){e&1&&(i(0,"hlm-tooltip")(1,"button",0),f("click",function(){return n.downloadFile()}),c(2,"hlm-icon",1),o(),_(3,Zr,3,1,"span",2),o())},dependencies:[h,v,S,J,Q,oe]});let Zo=vt;function Kr(s,t){if(s&1&&(i(0,"span",3)(1,"p"),l(2),o()()),s&2){const e=C();r(2),M(e.dict.formatting_toolbar.file_preview_toggle.tooltip)}}const xt=class xt{constructor(t){this.ngxBlockNoteService=t,this.fileBlock=g(()=>On(this.ngxBlockNoteService.editor(),this.ngxBlockNoteService.selectedBlocks())),this._visibilityClass=g(()=>Ln(this.ngxBlockNoteService.editor(),this.fileBlock())),this.dict=this.ngxBlockNoteService.editor().dictionary}togglePreview(){const t=this.ngxBlockNoteService.editor(),e=this.fileBlock();e&&(t.updateBlock(e,{props:{showPreview:!e.props.showPreview}}),t.focus())}};xt.ɵfac=function(e){return new(e||xt)(b(k))},xt.ɵcmp=p({type:xt,selectors:[["bna-file-preview-button"]],hostVars:2,hostBindings:function(e,n){e&2&&B(n._visibilityClass())},standalone:!0,features:[w([N({lucideImagePlus:pl})]),m],decls:4,vars:0,consts:[["type","button","hlmBtn","","size","icon","variant","ghost","hlmTooltipTrigger","","aria-describedby","file-preview-tooltip",1,"w-[30px]","h-[30px]",3,"click"],["size","sm","name","lucideImagePlus"],["class","text-center","id","file-preview-tooltip",4,"brnTooltipContent"],["id","file-preview-tooltip",1,"text-center"]],template:function(e,n){e&1&&(i(0,"hlm-tooltip")(1,"button",0),f("click",function(){return n.togglePreview()}),c(2,"hlm-icon",1),o(),_(3,Kr,3,1,"span",2),o())},dependencies:[h,v,S,J,Q,oe]});let Ko=xt;function Yr(s,t){if(s&1&&(i(0,"span",3)(1,"p"),l(2),o()()),s&2){const e=C();r(2),M(e.tooltip())}}function ec(s,t){if(s&1){const e=j();i(0,"hlm-menu")(1,"hlm-menu-group",4)(2,"form",5),f("ngSubmit",function(){A(e);const a=C();return P(a.submit())}),i(3,"div",6)(4,"div",7),l(5," A "),o(),c(6,"input",8),o(),i(7,"button",9),l(8,"Save"),o()()()()}if(s&2){const e=C();r(2),u("formGroup",e.form),r(4),u("formControl",e.form.controls.name)}}const Bt=class Bt{constructor(t,e){this.ngxBlockNoteService=t,this.formBuilder=e,this.form=this.formBuilder.group({name:["",eo.required]}),this.fileBlock=g(()=>{const n=this.ngxBlockNoteService.editor(),a=this.ngxBlockNoteService.selectedBlocks();return On(n,a)}),this._visibilityClass=g(()=>Ln(this.ngxBlockNoteService.editor(),this.fileBlock())),this.tooltip=g(()=>{const n=this.fileBlock();return n?this.ngxBlockNoteService.editor().dictionary.formatting_toolbar.file_rename.tooltip[n.type]:""})}submit(){const t=this.ngxBlockNoteService.editor(),e=this.form.controls.name.value,n=this.fileBlock();n&&(t.updateBlock(n,{props:{name:e}}),t.focus())}};Bt.ɵfac=function(e){return new(e||Bt)(b(k),b(Ki))},Bt.ɵcmp=p({type:Bt,selectors:[["bna-file-rename-button"]],hostVars:2,hostBindings:function(e,n){e&2&&B(n._visibilityClass())},standalone:!0,features:[m],decls:6,vars:1,consts:[["menu",""],["type","button","hlmBtn","","size","icon","variant","ghost","hlmTooltipTrigger","","aria-describedby","file-rename-tooltip",1,"w-[30px]","h-[30px]",3,"brnMenuTriggerFor"],["class","text-center","id","file-rename-tooltip",4,"brnTooltipContent"],["id","file-rename-tooltip",1,"text-center"],[1,"px-2"],[3,"ngSubmit","formGroup"],[1,"flex","gap-2","justify-center","items-center","min-w-[350px]"],[1,"flex","justify-center","items-center","w-[20px]","h-[20px]"],["type","text","placeholder","Rename image",1,"bg-background","w-full","h-[32px]","outline-none","placeholder:italic","placeholder:text-muted-foreground","placeholder:font-normal",3,"formControl"],[1,"hidden"]],template:function(e,n){if(e&1&&(i(0,"hlm-tooltip")(1,"button",1),l(2," A "),o(),_(3,Yr,3,1,"span",2)(4,ec,9,2,"ng-template",null,0,ne),o()),e&2){const a=G(5);r(),u("brnMenuTriggerFor",a)}},dependencies:[h,v,te,W,Z,ae,Gn,Wn,ke,Jn,An,xo,J,Q,oe]});let Yo=Bt;function tc(s,t){if(s&1&&(i(0,"span",4)(1,"p"),l(2),o()()),s&2){const e=C();r(2),M(e.tooltip())}}function nc(s,t){s&1&&(i(0,"hlm-menu")(1,"hlm-menu-group"),c(2,"bna-file-panel"),o()())}const _t=class _t{constructor(t){this.ngxBlockNoteService=t,this.fileBlock=g(()=>{const e=this.ngxBlockNoteService.editor(),n=this.ngxBlockNoteService.selectedBlocks();return On(e,n)}),this._visibilityClass=g(()=>Ln(this.ngxBlockNoteService.editor(),this.fileBlock())),this.tooltip=g(()=>{const e=this.fileBlock();return e?this.ngxBlockNoteService.editor().dictionary.formatting_toolbar.file_replace.tooltip[e.type]:""})}};_t.ɵfac=function(e){return new(e||_t)(b(k))},_t.ɵcmp=p({type:_t,selectors:[["bna-file-replace-button"]],hostVars:2,hostBindings:function(e,n){e&2&&B(n._visibilityClass())},standalone:!0,features:[w([N({lucideImage:Qi})]),m],decls:6,vars:1,consts:[["menu",""],["type","button","hlmBtn","","size","icon","variant","ghost","hlmTooltipTrigger","",1,"w-[30px]","h-[30px]",3,"brnMenuTriggerFor"],["size","sm","name","lucideImage"],["class","text-center","id","file-replace-tooltip",4,"brnTooltipContent"],["id","file-replace-tooltip",1,"text-center"]],template:function(e,n){if(e&1&&(i(0,"hlm-tooltip")(1,"button",1),c(2,"hlm-icon",2),o(),_(3,tc,3,1,"span",3)(4,nc,3,0,"ng-template",null,0,ne),o()),e&2){const a=G(5);r(),u("brnMenuTriggerFor",a)}},dependencies:[h,ae,v,te,S,Z,W,bo,J,Q,oe]});let es=_t;const Tt=class Tt{constructor(t){this.ngxBlockNoteService=t}unlink(){this.ngxBlockNoteService.editor().linkToolbar.deleteLink()}};Tt.ɵfac=function(e){return new(e||Tt)(b(k))},Tt.ɵcmp=p({type:Tt,selectors:[["bna-delete-link"]],standalone:!0,features:[w([N({lucideUnlink:ml})]),m],decls:2,vars:0,consts:[["type","button","hlmBtn","","size","icon","variant","ghost",1,"w-[30px]","h-[30px]",3,"click"],["size","sm","name","lucideUnlink"]],template:function(e,n){e&1&&(i(0,"button",0),f("click",function(){return n.unlink()}),c(1,"hlm-icon",1),o())},dependencies:[h,v,S]});let ts=Tt;function oc(s,t){if(s&1&&(i(0,"hlm-menu")(1,"hlm-menu-group",2),c(2,"bna-link-form",3),o()()),s&2){const e=C();r(2),u("initialValue",e.initialValue)}}const wt=class wt{constructor(t){this.ngxBlockNoteService=t,this.initialValue={},this.ngxBlockNoteService.editor().linkToolbar.onUpdate(e=>{this.initialValue={text:e.text,url:e.url}})}};wt.ɵfac=function(e){return new(e||wt)(b(k))},wt.ɵcmp=p({type:wt,selectors:[["bna-edit-link-button"]],standalone:!0,features:[m],decls:4,vars:1,consts:[["menu",""],["type","button","hlmBtn","","variant","ghost","size","sm",3,"brnMenuTriggerFor"],[1,"px-2"],[3,"initialValue"]],template:function(e,n){if(e&1&&(i(0,"button",1),l(1,` Edit link
`),o(),_(2,oc,3,1,"ng-template",null,0,ne)),e&2){const a=G(3);u("brnMenuTriggerFor",a)}},dependencies:[h,ho,v,W,te,Z]});let ns=wt;const St=class St{constructor(t){this.ngxBlockNoteService=t,this.ngxBlockNoteService.editor().linkToolbar.onUpdate(e=>{this.url=e.url})}goToUrl(){this.url&&window.open(this.url,"_blank")}};St.ɵfac=function(e){return new(e||St)(b(k))},St.ɵcmp=p({type:St,selectors:[["bna-open-link"]],standalone:!0,features:[w([N({lucideExternalLink:hl})]),m],decls:2,vars:0,consts:[["type","button","hlmBtn","","size","icon","variant","ghost",1,"w-[30px]","h-[30px]",3,"click"],["size","sm","name","lucideExternalLink"]],template:function(e,n){e&1&&(i(0,"button",0),f("click",function(){return n.goToUrl()}),c(1,"hlm-icon",1),o())},dependencies:[h,v,S]});let os=St;const Mt=class Mt{constructor(t,e,n){this.ngxBlockNoteService=t,this.elRef=e,this.renderer2=n,q(()=>{this.adjustVisibilityAndPosition()})}adjustVisibilityAndPosition(){this.toggleVisibility(!1);let t=()=>{};this.renderer2.addClass(this.elRef.nativeElement,"z-40"),this.renderer2.addClass(this.elRef.nativeElement,"absolute"),this.ngxBlockNoteService.editor().linkToolbar.onUpdate(async n=>{if(!n.show)t();else{const a=this.getUpdatePositionFn(n);t=Un(ee(n.referencePos),this.elRef.nativeElement,a)}this.toggleVisibility(n.show)})}getUpdatePositionFn(t){return async()=>{const e=await Ce(ee(t.referencePos),this.elRef.nativeElement,{placement:"top",middleware:[Hn()]});this.renderer2.setStyle(this.elRef.nativeElement,"top",`${e.y}px`),this.renderer2.setStyle(this.elRef.nativeElement,"left",`${e.x}px`)}}toggleVisibility(t){t?(this.renderer2.removeClass(this.elRef.nativeElement,"hidden"),this.renderer2.addClass(this.elRef.nativeElement,"block")):(this.renderer2.addClass(this.elRef.nativeElement,"hidden"),this.renderer2.removeClass(this.elRef.nativeElement,"block"))}};Mt.ɵfac=function(e){return new(e||Mt)(b(k),b(ce),b(Rn))},Mt.ɵdir=z({type:Mt,selectors:[["bna-link-toolbar-controller"]],standalone:!0});let ss=Mt;const sc=["*"],Dt=class Dt{};Dt.ɵfac=function(e){return new(e||Dt)},Dt.ɵcmp=p({type:Dt,selectors:[["bna-link-toolbar"]],hostAttrs:[1,"bn-link-toolbar"],standalone:!0,features:[m],ngContentSelectors:sc,decls:1,vars:0,template:function(e,n){e&1&&(V(),O(0))},dependencies:[h]});let is=Dt;function ic(s,t){if(s&1){const e=j();i(0,"button",0),f("click",function(){A(e);const a=C();return P(a.addColumn("right"))}),l(1,` Add Column Right
`),o(),i(2,"button",0),f("click",function(){A(e);const a=C();return P(a.addColumn("left"))}),l(3,` Add Column Left
`),o()}}function ac(s,t){if(s&1){const e=j();i(0,"button",0),f("click",function(){A(e);const a=C();return P(a.addRow("above"))}),l(1,` Add Row above
`),o(),i(2,"button",0),f("click",function(){A(e);const a=C();return P(a.addRow("below"))}),l(3,` Add Row below
`),o()}}const Nt=class Nt{constructor(t){this.ngxBlockNoteService=t,this.options=y.required()}addColumn(t){const{editor:e,block:n,index:a}=this.getProperties("column");if(!n)return;console.log(n.content);const d={type:"tableContent",rows:n.content.rows.map(x=>{const U=[...x.cells];return U.splice(a+(t==="right"?1:0),0,[]),{cells:U}})};e.updateBlock(n,{type:"table",content:d}),e.tableHandles?.unfreezeHandles(),e.focus(),this.options().closeMenu(),this.options().showOtherHandle()}addRow(t){const{editor:e,block:n,index:a}=this.getProperties("row");if(!n)return;const d=n.content.rows[a].cells.map(()=>[]),x=[...n.content.rows];x.splice(a+(t==="below"?1:0),0,{cells:d}),e.updateBlock(n,{type:"table",content:{type:"tableContent",rows:x}}),e.tableHandles?.unfreezeHandles(),e.focus(),this.options().closeMenu(),this.options().showOtherHandle()}getProperties(t){const e=this.ngxBlockNoteService.editor(),n=this.options(),a=n.tableHandles.block;console.log(a);const d=t==="row"?n.tableHandles.rowIndex:n.tableHandles.colIndex;return{editor:e,block:a,index:d}}};Nt.ɵfac=function(e){return new(e||Nt)(b(k))},Nt.ɵcmp=p({type:Nt,selectors:[["bna-add-button"]],inputs:{options:[1,"options"]},standalone:!0,features:[m],decls:2,vars:1,consts:[["type","button","hlmBtn","","variant","ghost","size","xs",1,"w-full","justify-start",3,"click"]],template:function(e,n){e&1&&_(0,ic,4,0)(1,ac,4,0),e&2&&$(n.options().orientation==="column"?0:n.options().orientation==="row"?1:-1)},dependencies:[h,v]});let as=Nt;function lc(s,t){if(s&1){const e=j();i(0,"button",1),f("click",function(){A(e);const a=C();return P(a.deleteRow())}),l(1,` Delete Row
`),o()}}function rc(s,t){if(s&1){const e=j();i(0,"button",1),f("click",function(){A(e);const a=C();return P(a.deleteColumn())}),l(1,` Delete Column
`),o()}}const Et=class Et{constructor(t){this.ngxBlockNoteService=t,this.options=y.required()}deleteColumn(){const{editor:t,block:e,index:n}=this.getProperties("column");if(!e)return;const a={type:"tableContent",rows:e.content.rows.map(d=>({cells:d.cells.filter((x,U)=>U!==n)}))};t.updateBlock(e,{type:"table",content:a}),t.tableHandles?.unfreezeHandles(),t.focus(),this.options().closeMenu(),this.options().showOtherHandle()}deleteRow(){const{editor:t,block:e,index:n}=this.getProperties("row");if(!e)return;const a={type:"tableContent",rows:e.content.rows.filter((d,x)=>x!==n)};t.updateBlock(e,{type:"table",content:a}),t.tableHandles?.unfreezeHandles(),t.focus(),this.options().closeMenu(),this.options().showOtherHandle()}getProperties(t){const e=this.ngxBlockNoteService.editor(),n=this.options(),a=n.tableHandles.block,d=t==="row"?n.tableHandles.rowIndex:n.tableHandles.colIndex;return{editor:e,block:a,index:d}}};Et.ɵfac=function(e){return new(e||Et)(b(k))},Et.ɵcmp=p({type:Et,selectors:[["bna-delete-button"]],inputs:{options:[1,"options"]},standalone:!0,features:[m],decls:2,vars:2,consts:[["type","button","hlmBtn","","variant","ghost","size","xs",1,"w-full","justify-start"],["type","button","hlmBtn","","variant","ghost","size","xs",1,"w-full","justify-start",3,"click"]],template:function(e,n){e&1&&_(0,lc,2,0,"button",0)(1,rc,2,0,"button",0),e&2&&($(n.options().orientation==="row"?0:-1),r(),$(n.options().orientation==="column"?1:-1))},dependencies:[h,v]});let ls=Et;const It=class It{constructor(){this.options=y.required()}};It.ɵfac=function(e){return new(e||It)},It.ɵcmp=p({type:It,selectors:[["bna-table-handle-menu"]],hostAttrs:[1,"block","bg-background","shadow-xl","p-2","rounded"],inputs:{options:[1,"options"]},standalone:!0,features:[m],decls:3,vars:2,consts:[[1,"min-w-[120px]"],[3,"options"]],template:function(e,n){e&1&&(i(0,"div",0),c(1,"bna-delete-button",1)(2,"bna-add-button",1),o()),e&2&&(r(),u("options",n.options()),r(),u("options",n.options()))},dependencies:[h,ls,as]});let rs=It;const cc=["button"],dc=["menu"],uc=s=>({hidden:s}),pc={row:"lucideGripVertical",column:"lucideGripHorizontal"},Ft=class Ft{onOutsideClick(t){const e=this.menu()?.nativeElement;if(!e||!t.target)return;const n=t.target;this.isMenuOpened&&(e.contains(n)||(this.isMenuOpened=!1,this.options().showOtherHandle(),this.ngxBlockNoteService.editor().tableHandles.unfreezeHandles()))}constructor(t){this.ngxBlockNoteService=t,this.options=y.required(),this.optionsWithCloseMenu=g(()=>({...this.options(),closeMenu:()=>{console.log("close menu"),this.closeMenu()}})),this.icon=g(()=>pc[this.options().orientation]),this.styles=T({}),this.button=to("button"),this.menu=to("menu"),this.isMenuOpened=!1,q(async()=>{const e=this.button()?.nativeElement,n=this.menu()?.nativeElement;if(!n||!e)return;const a=await Ce(e,n,{placement:this.options().orientation==="row"?"top":"left",strategy:"absolute",middleware:[Hn()]});this.styles.set(this.getStyles(a.y,a.x))})}getStyles(t,e){return{top:e+"px",left:t+"px"}}closeMenu(){this.isMenuOpened=!1}openMenu(t){t.stopPropagation();const e=this.ngxBlockNoteService.editor().tableHandles;e&&(e.freezeHandles(),this.options().hideOtherHandle(),this.isMenuOpened=!0)}};Ft.ɵfac=function(e){return new(e||Ft)(b(k))},Ft.ɵcmp=p({type:Ft,selectors:[["bna-table-handle"]],viewQuery:function(e,n){e&1&&(no(n.button,cc,5),no(n.menu,dc,5)),e&2&&Yi(2)},hostBindings:function(e,n){e&1&&f("click",function(d){return n.onOutsideClick(d)},!1,fl)},inputs:{options:[1,"options"]},standalone:!0,features:[w([N({lucideGripVertical:Wi,lucideGripHorizontal:gl})]),m],decls:7,vars:5,consts:[["button",""],["menu",""],[1,"relative"],["hlmBtn","","size","xs","type","button","variant","outline",1,"bg-background",3,"click"],["size","sm",3,"name"],[1,"absolute","inset-y-0","left-[40px]",3,"ngClass"],[1,"w-full",3,"options"]],template:function(e,n){if(e&1){const a=j();i(0,"div",2)(1,"button",3,0),f("click",function(x){return A(a),P(n.openMenu(x))}),c(3,"hlm-icon",4),o(),i(4,"div",5,1),c(6,"bna-table-handle-menu",6),o()()}e&2&&(r(3),u("name",n.icon()),r(),u("ngClass",ye(3,uc,!n.isMenuOpened)),r(2),u("options",n.optionsWithCloseMenu()))},dependencies:[h,qn,v,S,rs]});let cs=Ft;function mc(s,t,e){return e&&e.draggedCellOrientation==="row"?new DOMRect(t.x,e.mousePos,t.width,0):new DOMRect(t.x,s.y,t.width,s.height)}function hc(s,t,e){return e&&e.draggedCellOrientation==="col"?new DOMRect(e.mousePos,t.y,0,t.height):new DOMRect(s.x,t.y,s.width,t.height)}async function vi(s,t,e,n,a){if(t===null||e===null)return;const d=s==="row"?mc:hc;return{position:await Ce({getBoundingClientRect:()=>d(t,e,a)},n[s],{placement:s==="row"?"left":"top",middleware:[vo(s==="row"?-5:-12)]})}}const fc=async(s,t,e,n)=>{const a=await vi("row",s,t,e,n),d=await vi("col",s,t,e,n);return{rowHandle:a,colHandle:d}},gc=["rowHandle"],bc=["colHandle"];function Cc(s,t){if(s&1&&(i(0,"div",2,0),c(2,"bna-table-handle",3),o()),s&2){const e=C(2);r(2),u("options",e.rowOptions())}}function yc(s,t){if(s&1&&(i(0,"div",2,1),c(2,"bna-table-handle",3),o()),s&2){const e=C(2);r(2),u("options",e.columnOptions())}}function kc(s,t){if(s&1&&_(0,Cc,3,1,"div",2)(1,yc,3,1,"div",2),s&2){const e=C();$(e.showRowHandle()&&e.rowOptions()?0:-1),r(),$(e.showColumnHandle()&&e.columnOptions()?1:-1)}}const Ht=class Ht{constructor(t,e,n){this.ngxBlockNoteService=t,this.elRef=e,this.renderer2=n,this.rowHandleElement=to("rowHandle"),this.columnHandleElement=to("colHandle"),this.showColumnHandle=T(!0),this.showRowHandle=T(!0),this.tableHandles=T(void 0),this.options=T(void 0),this.rowOptions=g(()=>{const a=this.options();return a?{...a,orientation:"column",showOtherHandle:()=>{this.showColumnHandle.set(!0)},hideOtherHandle:()=>{this.showColumnHandle.set(!1)}}:void 0}),this.columnOptions=g(()=>{const a=this.options();return a?{...a,orientation:"column",showOtherHandle:()=>{this.showRowHandle.set(!0)},hideOtherHandle:()=>{this.showRowHandle.set(!1)}}:void 0}),q(async()=>{const a=this.tableHandles(),d=this.rowHandleElement(),x=this.columnHandleElement();!a||!d||!x||await this.adjustTableHandlePositions(a,d,x)}),this.adjustVisibilityAndOptions()}async adjustTableHandlePositions(t,e,n){const a=await fc(t.referencePosCell,t.referencePosTable,{row:e.nativeElement,col:n.nativeElement});a.rowHandle?.position&&(this.renderer2.setStyle(e.nativeElement,"top",`${a.rowHandle.position.y}px`),this.renderer2.setStyle(e.nativeElement,"left",`${a.rowHandle.position.x}px`)),a.colHandle?.position&&(this.renderer2.setStyle(n.nativeElement,"top",`${a.colHandle.position.y}px`),this.renderer2.setStyle(n.nativeElement,"left",`${a.colHandle.position.x}px`))}ngAfterViewInit(){this.adjustVisibilityAndOptions()}adjustVisibilityAndOptions(){this.toggleVisibility(!1),this.renderer2.addClass(this.elRef.nativeElement,"z-40"),this.renderer2.addClass(this.elRef.nativeElement,"absolute"),this.ngxBlockNoteService.editor().tableHandles?.onUpdate(async e=>{this.tableHandles.set(e);const n={orientation:"row",tableHandles:e,closeMenu:()=>{},showOtherHandle:()=>{},hideOtherHandle:()=>{}};this.options.set(n),this.toggleVisibility(e.show)})}toggleVisibility(t){t?(this.renderer2.removeClass(this.elRef.nativeElement,"hidden"),this.renderer2.addClass(this.elRef.nativeElement,"block")):(this.renderer2.addClass(this.elRef.nativeElement,"hidden"),this.renderer2.removeClass(this.elRef.nativeElement,"block"))}};Ht.ɵfac=function(e){return new(e||Ht)(b(k),b(ce),b(Rn))},Ht.ɵcmp=p({type:Ht,selectors:[["bna-table-handles-controller"]],viewQuery:function(e,n){e&1&&(no(n.rowHandleElement,gc,5),no(n.columnHandleElement,bc,5)),e&2&&Yi(2)},standalone:!0,features:[m],decls:1,vars:1,consts:[["rowHandle",""],["colHandle",""],[1,"absolute"],[3,"options"]],template:function(e,n){if(e&1&&_(0,kc,2,2),e&2){let a;$((a=n.tableHandles())!=null&&a.show?0:-1)}},dependencies:[h,cs]});let ds=Ht;const Rt=class Rt{constructor(t,e){this.ngxBlockNoteService=t,this.elRef=e,q(()=>{const n=this.ngxBlockNoteService.editor();n&&n.mount(this.elRef.nativeElement)})}};Rt.ɵfac=function(e){return new(e||Rt)(b(k),b(ce))},Rt.ɵdir=z({type:Rt,selectors:[["bna-view-controller"]],standalone:!0});let us=Rt;const vc=[[["bna-formatting-toolbar-controller"]],[["bna-side-menu-controller"]],"*"],xc=["bna-formatting-toolbar-controller","bna-side-menu-controller","*"];function Bc(s,t){s&1&&(li(0),i(1,"bna-formatting-toolbar-controller")(2,"bna-formatting-toolbar"),c(3,"bna-file-caption-button")(4,"bna-file-replace-button")(5,"bna-file-rename-button")(6,"bna-file-delete-button")(7,"bna-file-download-button")(8,"bna-file-preview-button")(9,"bna-block-type-selection-button")(10,"bna-basic-text-style-button",7)(11,"bna-basic-text-style-button",7)(12,"bna-basic-text-style-button",7)(13,"bna-basic-text-style-button",7)(14,"bna-text-align-button",8)(15,"bna-text-align-button",8)(16,"bna-text-align-button",8)(17,"bna-color-style-button")(18,"bna-create-link"),o()(),ri()),s&2&&(r(10),u("basicTextStyle","bold"),r(),u("basicTextStyle","italic"),r(),u("basicTextStyle","underline"),r(),u("basicTextStyle","strike"),r(),u("alignment","left"),r(),u("alignment","center"),r(),u("alignment","right"))}function _c(s,t){s&1&&(li(0),i(1,"bna-side-menu-controller")(2,"bna-side-menu"),c(3,"bna-add-block-btn")(4,"bna-drag-handle-menu-btn"),o()(),ri())}function Tc(s,t){if(s&1&&(i(0,"div",null,0),O(2),o(),_(3,Bc,19,7,"ng-container",3),i(4,"div",null,1),O(6,1),o(),_(7,_c,5,0,"ng-container",3),c(8,"bna-view-controller",4),i(9,"bna-file-panel-controller"),c(10,"bna-file-panel"),o(),i(11,"bna-suggestions-menu-controller",5),c(12,"bna-suggestions-menu",6),o(),i(13,"bna-link-toolbar-controller")(14,"bna-link-toolbar"),c(15,"bna-edit-link-button")(16,"bna-open-link")(17,"bna-delete-link"),o()(),c(18,"bna-table-handles-controller"),O(19,2)),s&2){const e=G(1),n=G(5);r(3),u("ngIf",!e.hasChildNodes()),r(4),u("ngIf",!n.hasChildNodes())}}const fe=class fe{set editor(t){this._editor=t,this.hasCustomEditor=!0,this.ngxBlockNoteService.setEditor(t),this.createEditorListeners(t)}get editor(){return this._editor}constructor(t){this.ngxBlockNoteService=t,this.contentChanged=Yn(),this.selectedBlocks=Yn(),this.onEditorReady=Yn(),this.hasCustomEditor=!1,this._editor=this.createEditor(void 0),this.firstTimeInitialized=!1,this.onChange=()=>{},this.onTouch=()=>{},this.ngxBlockNoteService.setEditor(this.editor)}writeValue(t){console.log("write content"),this.updateEditorsInitialContent(t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouch=t}setDisabledState(t){this.editor.isEditable=!t}ngOnChanges(t){!this.hasCustomEditor&&t.options&&(this.editor=this.createEditor(void 0),this.onEditorReady.emit(this.editor),this.firstTimeInitialized=!0,this.ngxBlockNoteService.setOptions(this.options??{})),!t.options&&!this.firstTimeInitialized&&(this.firstTimeInitialized=!0,this.onEditorReady.emit(this.editor)),t.initialContent&&this.updateEditorsInitialContent(t.initialContent.currentValue)}ngOnInit(){this.firstTimeInitialized||(this.firstTimeInitialized=!0,this.onEditorReady.emit(this.editor))}createEditor(t){const e=this.options?.schema,n=ea.create({schema:e||le.create({blockSpecs:{...K},inlineContentSpecs:{...de},styleSpecs:{...ue}}),initialContent:t,uploadFile:this.options?.uploadFile});return this.ngxBlockNoteService.setEditor(n),this.createEditorListeners(n),n}createEditorListeners(t){t.onChange(e=>{this.contentChanged.emit(e.document),this.onChange(e.document)}),t.onSelectionChange(()=>{const e=$n(t);this.selectedBlocks.emit(e)}),di(()=>{const e=$n(t);this.ngxBlockNoteService.selectedBlocks.set(e)},t)}updateEditorsInitialContent(t){return this.editor.replaceBlocks([...this.editor.document],t??[{type:"paragraph"}])}};fe.ɵfac=function(e){return new(e||fe)(b(k))},fe.ɵcmp=p({type:fe,selectors:[["bna-editor"]],inputs:{options:"options",initialContent:"initialContent",editor:"editor"},outputs:{contentChanged:"contentChanged",selectedBlocks:"selectedBlocks",onEditorReady:"onEditorReady"},standalone:!0,features:[w([k,{provide:Ei,useExisting:ii(()=>fe),multi:!0}]),ko,m],ngContentSelectors:xc,decls:2,vars:1,consts:[["formattingToolbar",""],["sideMenuController",""],[1,"block","h-full","py-3","bn-container"],[4,"ngIf"],[1,"block","ProseMirror","bn-editor","relative","bn-default-styles"],["triggerCharacter","/",1,"z-index-3"],["triggerCharacter","/"],[3,"basicTextStyle"],[3,"alignment"]],template:function(e,n){e&1&&(V(vc),i(0,"div",2),_(1,Tc,20,2),o()),e&2&&(r(),$(n.firstTimeInitialized?1:-1))},dependencies:[h,Ji,us,Nn,Vn,In,go,uo,mo,Vo,bo,Jo,po,En,Wo,ss,is,jo,os,ns,ts,Uo,$o,ds,Xo,Zo,Yo,Qo,es,Ko]});let R=fe;const At=class At{constructor(){this.initialContent=this.loadFromStorage()}saveToStorage(t){localStorage.setItem("editorContent",JSON.stringify(t))}loadFromStorage(){const t=localStorage.getItem("editorContent");return t?JSON.parse(t):void 0}};At.ɵfac=function(e){return new(e||At)},At.ɵcmp=p({type:At,selectors:[["bna-saving-and-loading-example"]],standalone:!0,features:[m],decls:1,vars:1,consts:[[3,"contentChanged","initialContent"]],template:function(e,n){e&1&&(i(0,"bna-editor",0),f("contentChanged",function(d){return n.saveToStorage(d)}),o()),e&2&&u("initialContent",n.initialContent)},dependencies:[h,R],encapsulation:2});let ps=At;const wc=`import { CommonModule } from '@angular/common';
import { Component } from '@angular/core';
import { BnaEditorComponent } from '@dytab/ngx-blocknote';
import { HlmButtonDirective } from '@dytab/ngx-blocknote';
import {
  Block,
  PartialBlock
} from '@blocknote/core';

@Component({
  selector: 'bna-saving-and-loading-example',
  standalone: true,
  imports: [CommonModule, BnaEditorComponent, HlmButtonDirective],
  template: \`
    <bna-editor [initialContent]="initialContent" (contentChanged)="saveToStorage($event)" />
  \`,
})
export class SavingAndLoadingExample {
  initialContent = this.loadFromStorage();

  saveToStorage(jsonBlocks: Block[]) {
    // Save contents to local storage. You might want to debounce this or replace
    // with a call to your API / database.
    localStorage.setItem("editorContent", JSON.stringify(jsonBlocks));
  }

  private loadFromStorage() {
    // Gets the previously stored editor contents.
    const storageString = localStorage.getItem("editorContent");
    return storageString
      ? (JSON.parse(storageString) as PartialBlock[])
      : undefined;
  }
}`,Pt=class Pt{constructor(){this.exampleCode=wc}};Pt.ɵfac=function(e){return new(e||Pt)},Pt.ɵcmp=p({type:Pt,selectors:[["ng-component"]],standalone:!0,features:[m],decls:22,vars:1,consts:[["name","Saving & Loading"],[1,"leading-7","[&:not(:first-child)]:mt-6","mb-8"],["tab","preview"],["firstTab","Preview","secondTab","Code"],["firstTab",""],["secondTab","",3,"code"]],template:function(e,n){e&1&&(i(0,"bna-section-intro",0)(1,"p",1),l(2," This example shows how to save the editor contents to local storage whenever a change is made, and load the saved contents when the editor is created. "),c(3,"br")(4,"br"),l(5," You can replace the "),i(6,"code"),l(7,"saveToStorage"),o(),l(8," and "),i(9,"code"),l(10,"loadFromStorage"),o(),l(11," functions with calls to your backend or database. "),c(12,"br")(13,"br"),i(14,"b"),l(15,"Try it out:"),o(),l(16," Try typing in the editor and reloading the page! "),o()(),i(17,"hlm-tabs",2)(18,"bna-example-tabs",3)(19,"bna-demo-box",4),c(20,"bna-saving-and-loading-example"),o(),c(21,"bna-code",5),o()()),e&2&&(r(21),u("code",n.exampleCode))},dependencies:[h,H,I,D,F,E,ps],encapsulation:2});let ms=Pt;const Sc=s=>({uploadFile:s}),Ot=class Ot{constructor(){this.initialContent=[{type:"paragraph",content:"Welcome to this demo!"},{type:"paragraph",content:"Upload an image using the button below"},{type:"image"},{type:"paragraph"}]}async uploadFile(t){const e=new FormData;return e.append("file",t),(await(await fetch("https://tmpfiles.org/api/v1/upload",{method:"POST",body:e})).json()).data.url.replace("tmpfiles.org/","tmpfiles.org/dl/")}};Ot.ɵfac=function(e){return new(e||Ot)},Ot.ɵcmp=p({type:Ot,selectors:[["bna-upload-file-example"]],standalone:!0,features:[m],decls:1,vars:4,consts:[[3,"initialContent","options"]],template:function(e,n){e&1&&c(0,"bna-editor",0),e&2&&u("initialContent",n.initialContent)("options",ye(2,Sc,n.uploadFile))},dependencies:[h,R],encapsulation:2});let hs=Ot;const Mc=`import { CommonModule } from '@angular/common';
import { Component } from '@angular/core';
import { BnaEditorComponent } from '@dytab/ngx-blocknote';
import { HlmButtonDirective } from '@dytab/ngx-blocknote';
import { PartialBlock } from '@blocknote/core';

@Component({
  selector: 'bna-upload-file-example',
  standalone: true,
  imports: [CommonModule, BnaEditorComponent, HlmButtonDirective],
  template: \`
    <bna-editor [initialContent]="initialContent" [options]="{uploadFile}" />
  \`
})
export class UploadFileExample{
  initialContent: PartialBlock[] = [
    {
      type: "paragraph",
      content: "Welcome to this demo!",
    },
    {
      type: "paragraph",
      content: "Upload an image using the button below",
    },
    {
      type: "image",
    },
    {
      type: "paragraph",
    },
  ];

  // Uploads a file to tmpfiles.org and returns the URL to the uploaded file.
  async uploadFile(file: File) {
    const body = new FormData();
    body.append("file", file);

    const ret = await fetch("https://tmpfiles.org/api/v1/upload", {
      method: "POST",
      body: body,
    });
    return (await ret.json()).data.url.replace(
      "tmpfiles.org/",
      "tmpfiles.org/dl/"
    );
  }
}`,Lt=class Lt{constructor(){this.exampleCode=Mc}};Lt.ɵfac=function(e){return new(e||Lt)},Lt.ɵcmp=p({type:Lt,selectors:[["ng-component"]],standalone:!0,features:[m],decls:13,vars:1,consts:[["name","Upload Files"],[1,"leading-7","[&:not(:first-child)]:mt-6","mb-8"],["tab","preview"],["firstTab","Preview","secondTab","Code"],["firstTab",""],["secondTab","",3,"code"]],template:function(e,n){e&1&&(i(0,"bna-section-intro",0)(1,"p",1),l(2," This example allows users to upload files and use them in the editor. The files are uploaded to /TMP/Files, and can be used for File, Image, Video, and Audio blocks. "),c(3,"br")(4,"br"),i(5,"b"),l(6,"Try it out:"),o(),l(7,` Click the "Add Image" button and see there's now an "Upload" tab in the toolbar! `),o()(),i(8,"hlm-tabs",2)(9,"bna-example-tabs",3)(10,"bna-demo-box",4),c(11,"bna-upload-file-example"),o(),c(12,"bna-code",5),o()()),e&2&&(r(12),u("code",n.exampleCode))},dependencies:[h,H,I,D,F,E,hs],encapsulation:2});let fs=Lt;const Dc=s=>({uploadFile:s}),zt=class zt{constructor(){this.initialContent=[{type:"paragraph",content:"Welcome to this demo!"},{type:"paragraph"},{type:"paragraph",content:[{type:"text",text:"Blocks:",styles:{bold:!0}}]},{type:"paragraph",content:"Paragraph"},{type:"heading",content:"Heading"},{type:"bulletListItem",content:"Bullet List Item"},{type:"numberedListItem",content:"Numbered List Item"},{type:"checkListItem",content:"Check List Item"},{type:"table",content:{type:"tableContent",rows:[{cells:["Table Cell","Table Cell","Table Cell"]},{cells:["Table Cell","Table Cell","Table Cell"]},{cells:["Table Cell","Table Cell","Table Cell"]}]}},{type:"file"},{type:"image",props:{url:"https://interactive-examples.mdn.mozilla.net/media/cc0-images/grapefruit-slice-332-332.jpg",caption:"From https://interactive-examples.mdn.mozilla.net/media/cc0-images/grapefruit-slice-332-332.jpg"}},{type:"video",props:{url:"https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.webm",caption:"From https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.webm"}},{type:"audio",props:{url:"https://interactive-examples.mdn.mozilla.net/media/cc0-audio/t-rex-roar.mp3",caption:"From https://interactive-examples.mdn.mozilla.net/media/cc0-audio/t-rex-roar.mp3"}},{type:"paragraph"},{type:"paragraph",content:[{type:"text",text:"Inline Content:",styles:{bold:!0}}]},{type:"paragraph",content:[{type:"text",text:"Styled Text",styles:{bold:!0,italic:!0,textColor:"red",backgroundColor:"blue"}},{type:"text",text:" ",styles:{}},{type:"link",content:"Link",href:"https://www.blocknotejs.org"}]},{type:"paragraph"}]}async uploadFile(t){const e=new FormData;return e.append("file",t),(await(await fetch("https://tmpfiles.org/api/v1/upload",{method:"POST",body:e})).json()).data.url.replace("tmpfiles.org/","tmpfiles.org/dl/")}};zt.ɵfac=function(e){return new(e||zt)},zt.ɵcmp=p({type:zt,selectors:[["bna-all-blocks-example"]],standalone:!0,features:[m],decls:1,vars:4,consts:[[3,"initialContent","options"]],template:function(e,n){e&1&&c(0,"bna-editor",0),e&2&&u("initialContent",n.initialContent)("options",ye(2,Dc,n.uploadFile))},dependencies:[h,R],encapsulation:2});let gs=zt;const Nc=`import { CommonModule } from '@angular/common';
import { Component } from '@angular/core';
import { BnaEditorComponent } from '@dytab/ngx-blocknote';

@Component({
  standalone: true,
  imports: [CommonModule, BnaEditorComponent],
  template: \`
    <bna-editor
      [initialContent]="initialContent"
    />
  \`,
})
export class AllBlocksExample {
  initialContent = [
    {
      type: 'paragraph',
      content: 'Welcome to this demo!',
    },
    {
      type: 'paragraph',
    },
    {
      type: 'paragraph',
      content: [
        {
          type: 'text',
          text: 'Blocks:',
          styles: { bold: true },
        },
      ],
    },
    {
      type: 'paragraph',
      content: 'Paragraph',
    },
    {
      type: 'heading',
      content: 'Heading',
    },
    {
      type: 'bulletListItem',
      content: 'Bullet List Item',
    },
    {
      type: 'numberedListItem',
      content: 'Numbered List Item',
    },
    {
      type: 'checkListItem',
      content: 'Check List Item',
    },
    {
      type: 'table',
      content: {
        type: 'tableContent',
        rows: [
          {
            cells: ['Table Cell', 'Table Cell', 'Table Cell'],
          },
          {
            cells: ['Table Cell', 'Table Cell', 'Table Cell'],
          },
          {
            cells: ['Table Cell', 'Table Cell', 'Table Cell'],
          },
        ],
      },
    },
    {
      type: 'file',
    },
    {
      type: 'image',
      props: {
        url: 'https://interactive-examples.mdn.mozilla.net/media/cc0-images/grapefruit-slice-332-332.jpg',
        caption:
          'From https://interactive-examples.mdn.mozilla.net/media/cc0-images/grapefruit-slice-332-332.jpg',
      },
    },
    {
      type: 'video',
      props: {
        url: 'https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.webm',
        caption:
          'From https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.webm',
      },
    },
    {
      type: 'audio',
      props: {
        url: 'https://interactive-examples.mdn.mozilla.net/media/cc0-audio/t-rex-roar.mp3',
        caption:
          'From https://interactive-examples.mdn.mozilla.net/media/cc0-audio/t-rex-roar.mp3',
      },
    },
    {
      type: 'paragraph',
    },
    {
      type: 'paragraph',
      content: [
        {
          type: 'text',
          text: 'Inline Content:',
          styles: { bold: true },
        },
      ],
    },
    {
      type: 'paragraph',
      content: [
        {
          type: 'text',
          text: 'Styled Text',
          styles: {
            bold: true,
            italic: true,
            textColor: 'red',
            backgroundColor: 'blue',
          },
        },
        {
          type: 'text',
          text: ' ',
          styles: {},
        },
        {
          type: 'link',
          content: 'Link',
          href: 'https://www.blocknotejs.org',
        },
      ],
    },
    {
      type: 'paragraph',
    },
    //TODO: remove casting
  ] as any;
}`,Vt=class Vt{constructor(){this.exampleCode=Nc}};Vt.ɵfac=function(e){return new(e||Vt)},Vt.ɵcmp=p({type:Vt,selectors:[["ng-component"]],standalone:!0,features:[m],decls:8,vars:1,consts:[["name","Default Schema Showcase"],[1,"leading-7","[&:not(:first-child)]:mt-6","mb-8"],["tab","preview"],["firstTab","Preview","secondTab","Code"],["firstTab",""],["secondTab","",3,"code"]],template:function(e,n){e&1&&(i(0,"bna-section-intro",0)(1,"p",1),l(2," This example shows the minimal code required to set up a BlockNote editor in Angular. "),o()(),i(3,"hlm-tabs",2)(4,"bna-example-tabs",3)(5,"bna-demo-box",4),c(6,"bna-all-blocks-example"),o(),c(7,"bna-code",5),o()()),e&2&&(r(7),u("code",n.exampleCode))},dependencies:[h,H,E,I,D,F,gs],encapsulation:2});let bs=Vt;const $t=class $t{readTextFromEditor(t){this.editorContent=t}};$t.ɵfac=function(e){return new(e||$t)},$t.ɵcmp=p({type:$t,selectors:[["bna-basic-setup-example"]],standalone:!0,features:[m],decls:1,vars:0,consts:[[3,"contentChanged"]],template:function(e,n){e&1&&(i(0,"bna-editor",0),f("contentChanged",function(d){return n.readTextFromEditor(d)}),o())},dependencies:[h,R],encapsulation:2});let Co=$t;const Ec=`import { CommonModule } from '@angular/common';
import { Component } from '@angular/core';
import { BnaEditorComponent } from '@dytab/ngx-blocknote';

@Component({
  standalone: true,
  imports: [CommonModule, BnaEditorComponent],
  template: \` <bna-editor (contentChanged)="readTextFromEditor($event)" /> \`,
})
export class BasicSetupExample {
  editorContent!: Block[];

  readTextFromEditor(blocks: Block[]) {
    this.editorContent = blocks;
  }
}`,jt=class jt{constructor(){this.exampleCode=Ec}};jt.ɵfac=function(e){return new(e||jt)},jt.ɵcmp=p({type:jt,selectors:[["ng-component"]],standalone:!0,features:[m],decls:8,vars:1,consts:[["name","Basic Setup"],[1,"leading-7","[&:not(:first-child)]:mt-6","mb-8"],["tab","preview"],["firstTab","Preview","secondTab","Code"],["firstTab",""],["secondTab","",3,"code"]],template:function(e,n){e&1&&(i(0,"bna-section-intro",0)(1,"p",1),l(2," This example shows the minimal code required to set up a BlockNote editor in Angular. "),o()(),i(3,"hlm-tabs",2)(4,"bna-example-tabs",3)(5,"bna-demo-box",4),c(6,"bna-basic-setup-example"),o(),c(7,"bna-code",5),o()()),e&2&&(r(7),u("code",n.exampleCode))},dependencies:[h,H,I,D,F,E,Co],encapsulation:2});let Cs=jt;const Ut=class Ut{constructor(){this.initialContent=[{type:"paragraph",content:["Hello, ",{type:"text",text:"world!",styles:{bold:!0}}]}],this.content=""}onContentChange(t){this.content=JSON.stringify(t,null,2)}async editorReady(t){this.editor=t,this.content=JSON.stringify(t.document,null,2)}};Ut.ɵfac=function(e){return new(e||Ut)},Ut.ɵcmp=p({type:Ut,selectors:[["bna-blocks-json-example"]],standalone:!0,features:[m],decls:9,vars:2,consts:[[1,"h-[250px]","block",3,"contentChanged","onEditorReady","initialContent"],[1,"border","border-black","bg-background","rounded","min-h-20","w-full","p-2","max-h-[400px]","overflow-auto"]],template:function(e,n){e&1&&(i(0,"p"),l(1,"Input (BlockNote Editor)"),o(),i(2,"bna-editor",0),f("contentChanged",function(d){return n.onContentChange(d)})("onEditorReady",function(d){return n.editorReady(d)}),o(),i(3,"p"),l(4,"Output (JSON)"),o(),i(5,"div",1)(6,"pre")(7,"code"),l(8),o()()()),e&2&&(r(2),u("initialContent",n.initialContent),r(6),M(n.content))},dependencies:[h,R],encapsulation:2});let ys=Ut;const Ic=`import { CommonModule } from '@angular/common';
import { Component } from '@angular/core';
import { BnaEditorComponent } from '@dytab/ngx-blocknote';

@Component({
  standalone: true,
  imports: [CommonModule, BnaEditorComponent],
  template: \` <bna-editor [initialContent]="initialContent" /> \`,
})
export class BasicSetupExample {
  initialContent = undefined;
}`,qt=class qt{constructor(){this.exampleCode=Ic}};qt.ɵfac=function(e){return new(e||qt)},qt.ɵcmp=p({type:qt,selectors:[["ng-component"]],standalone:!0,features:[m],decls:12,vars:1,consts:[["name","Displaying Document JSON"],[1,"leading-7","[&:not(:first-child)]:mt-6","mb-8"],["tab","preview"],["firstTab","Preview","secondTab","Code"],["firstTab",""],["secondTab","",3,"code"]],template:function(e,n){e&1&&(i(0,"bna-section-intro",0)(1,"p",1),l(2," In this example, the document's JSON representation is displayed below the editor. "),o(),i(3,"p")(4,"strong"),l(5,"Try it out"),o(),l(6,": Try typing in the editor and see the JSON update! "),o()(),i(7,"hlm-tabs",2)(8,"bna-example-tabs",3)(9,"bna-demo-box",4),c(10,"bna-blocks-json-example"),o(),c(11,"bna-code",5),o()()),e&2&&(r(11),u("code",n.exampleCode))},dependencies:[h,H,I,D,F,E,ys],encapsulation:2});let ks=qt;const Gt=class Gt{constructor(){this.initialContent=void 0}async editorReady(t){this.editor=t}insertFirstBlock(){this.editor.insertBlocks([{content:"This block was inserted at "+new Date().toLocaleTimeString()}],this.editor.document[0],"before")}updateFirstBlock(){this.editor.updateBlock(this.editor.document[0],{content:"This block was updated at "+new Date().toLocaleTimeString()})}removeFirstBlock(){this.editor.removeBlocks([this.editor.document[0]])}replaceFirstBlock(){this.editor.replaceBlocks([this.editor.document[0]],[{content:"This block was replaced at "+new Date().toLocaleTimeString()}])}};Gt.ɵfac=function(e){return new(e||Gt)},Gt.ɵcmp=p({type:Gt,selectors:[["bna-manipulating-blocks-example"]],standalone:!0,features:[m],decls:10,vars:1,consts:[[1,"flex","gap-2"],["hlmBtn","","size","sm","type","button",3,"click"],[3,"onEditorReady","initialContent"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"button",1),f("click",function(){return n.insertFirstBlock()}),l(2," Insert First Block "),o(),i(3,"button",1),f("click",function(){return n.updateFirstBlock()}),l(4," Update First Block "),o(),i(5,"button",1),f("click",function(){return n.removeFirstBlock()}),l(6," Remove First Block "),o(),i(7,"button",1),f("click",function(){return n.replaceFirstBlock()}),l(8," Replace First Block "),o()(),i(9,"bna-editor",2),f("onEditorReady",function(d){return n.editorReady(d)}),o()),e&2&&(r(9),u("initialContent",n.initialContent))},dependencies:[h,R,v],encapsulation:2});let vs=Gt;const Fc=`import { CommonModule } from '@angular/common';
import { Component } from '@angular/core';
import { BnaEditorComponent } from '@dytab/ngx-blocknote';
import { HlmButtonDirective } from '@dytab/ngx-blocknote';
import { BlockNoteEditor } from '@blocknote/core';

@Component({
  selector: 'bna-manipulating-blocks-example',
  standalone: true,
  imports: [CommonModule, BnaEditorComponent, HlmButtonDirective],
  template: \`
    <div class="flex gap-2">
      <button hlmBtn size="sm" type="button" (click)="insertFirstBlock()">Insert First Block</button>
      <button hlmBtn size="sm" type="button" (click)="updateFirstBlock()">Update First Block</button>
      <button hlmBtn size="sm" type="button" (click)="removeFirstBlock()">Remove First Block</button>
      <button hlmBtn size="sm" type="button" (click)="replaceFirstBlock()">Replace First Block</button>
    </div>
    <bna-editor [initialContent]="initialContent" (onEditorReady)="editorReady($event)" />
  \`,
})
export class ManipulatingBlocksExample{
  initialContent = undefined;
  editor!: BlockNoteEditor;

  async editorReady(editor: BlockNoteEditor) {
    this.editor = editor;
  }

  insertFirstBlock(){
    this.editor.insertBlocks(
      [
        {
          content:
            "This block was inserted at " +
            new Date().toLocaleTimeString(),
        },
      ],
      this.editor.document[0],
      "before"
    )
  }

  updateFirstBlock(){
    this.editor.updateBlock(this.editor.document[0], {
      content:
        "This block was updated at " + new Date().toLocaleTimeString(),
    })
  }

  removeFirstBlock(){
    this.editor.removeBlocks([this.editor.document[0]])
  }

  replaceFirstBlock(){
    this.editor.replaceBlocks(
      [this.editor.document[0]],
      [
        {
          content:
            "This block was replaced at " +
            new Date().toLocaleTimeString(),
        },
      ]
    )
  }
}`,Wt=class Wt{constructor(){this.exampleCode=Fc}};Wt.ɵfac=function(e){return new(e||Wt)},Wt.ɵcmp=p({type:Wt,selectors:[["ng-component"]],standalone:!0,features:[m],decls:20,vars:1,consts:[["name","Manipulating Blocks"],[1,"leading-7","[&:not(:first-child)]:mt-6","mb-8"],["tab","preview"],["firstTab","Preview","secondTab","Code"],["firstTab",""],["secondTab","",3,"code"]],template:function(e,n){e&1&&(i(0,"bna-section-intro",0)(1,"p",1),l(2," This example shows 4 buttons to manipulate the first block using the "),i(3,"code"),l(4,"insertBlocks"),o(),l(5,", "),i(6,"code"),l(7,"updateBlock"),o(),l(8,", "),i(9,"code"),l(10,"removeBlocks"),o(),l(11," and "),i(12,"code"),l(13,"replaceBlocks"),o(),l(14," methods. "),o()(),i(15,"hlm-tabs",2)(16,"bna-example-tabs",3)(17,"bna-demo-box",4),c(18,"bna-manipulating-blocks-example"),o(),c(19,"bna-code",5),o()()),e&2&&(r(19),u("code",n.exampleCode))},dependencies:[h,H,I,D,F,E,vs],encapsulation:2});let xs=Wt;const Jt=class Jt{constructor(){this.initialContent=void 0,this.options={schema:le.create({blockSpecs:{...K,audio:void 0,image:void 0}})}}};Jt.ɵfac=function(e){return new(e||Jt)},Jt.ɵcmp=p({type:Jt,selectors:[["bna-removing-default-blocks-example"]],standalone:!0,features:[m],decls:1,vars:2,consts:[[3,"initialContent","options"]],template:function(e,n){e&1&&c(0,"bna-editor",0),e&2&&u("initialContent",n.initialContent)("options",n.options)},dependencies:[h,R],encapsulation:2});let Bs=Jt;const Hc=`import { CommonModule } from '@angular/common';
import { Component } from '@angular/core';
import { BlockNoteSchema, defaultBlockSpecs } from '@blocknote/core';
import {
  BlockNoteEditorOptionsType,
  BnaEditorComponent,
} from '@dytab/ngx-blocknote';
import { HlmButtonDirective } from '@dytab/ngx-blocknote';

@Component({
  selector: 'bna-removing-default-blocks-example',
  standalone: true,
  imports: [CommonModule, BnaEditorComponent, HlmButtonDirective],
  template: \` <bna-editor [initialContent]="initialContent" [options]="options"/> \`,
})
export class RemovingDefaultBlocksExample {
  initialContent = undefined;
  options: BlockNoteEditorOptionsType = {
    schema: BlockNoteSchema.create({
      blockSpecs: {
        ...defaultBlockSpecs,
        audio: undefined as never,
        image: undefined as never,
      },
    }),
  };
}`,Qt=class Qt{constructor(){this.exampleCode=Hc}};Qt.ɵfac=function(e){return new(e||Qt)},Qt.ɵcmp=p({type:Qt,selectors:[["ng-component"]],standalone:!0,features:[m],decls:8,vars:1,consts:[["name","Removing Default Blocks from Schema"],[1,"leading-7","[&:not(:first-child)]:mt-6","mb-8"],["tab","preview"],["firstTab","Preview","secondTab","Code"],["firstTab",""],["secondTab","",3,"code"]],template:function(e,n){e&1&&(i(0,"bna-section-intro",0)(1,"p",1),l(2," This example shows how to change the default schema and disable the Audio and Image blocks. To do this, we pass in a custom schema based on the built-in, default schema, with two specific blocks removed. "),o()(),i(3,"hlm-tabs",2)(4,"bna-example-tabs",3)(5,"bna-demo-box",4),c(6,"bna-removing-default-blocks-example"),o(),c(7,"bna-code",5),o()()),e&2&&(r(7),u("code",n.exampleCode))},dependencies:[h,H,I,D,F,E,Bs],encapsulation:2});let _s=Qt;const Xt=class Xt{constructor(){this.initialContent=[{type:"paragraph",content:"Welcome to this demo!"},{type:"paragraph",content:"Select different blocks to see the JSON change below"},{type:"paragraph"}],this.selectedBlocks=0,this.content=""}onSelectionChanged(t){this.selectedBlocks=t.length,this.content=JSON.stringify(t,null,2)}};Xt.ɵfac=function(e){return new(e||Xt)},Xt.ɵcmp=p({type:Xt,selectors:[["bna-selection-blocks-example"]],standalone:!0,features:[m],decls:12,vars:3,consts:[[1,"h-[250px]","block",3,"selectedBlocks","initialContent"],[1,"border","border-black","bg-background","rounded","min-h-20","w-full","p-2","max-h-[400px]","overflow-auto"]],template:function(e,n){e&1&&(i(0,"p"),l(1,"Input (BlockNote Editor)"),o(),i(2,"bna-editor",0),f("selectedBlocks",function(d){return n.onSelectionChanged(d)}),o(),i(3,"p"),l(4," Selection Blocks (JSON): "),i(5,"strong"),l(6),o(),l(7," Blocks selected "),o(),i(8,"div",1)(9,"pre")(10,"code"),l(11),o()()()),e&2&&(r(2),u("initialContent",n.initialContent),r(4),M(n.selectedBlocks),r(5),M(n.content))},dependencies:[h,R],encapsulation:2});let Ts=Xt;const Rc=`import { CommonModule } from '@angular/common';
import { Component } from '@angular/core';
import { Block, BlockNoteEditor, PartialBlock } from '@blocknote/core';
import { BnaEditorComponent } from '@dytab/ngx-blocknote';

@Component({
  selector: 'bna-selection-blocks-example',
  standalone: true,
  imports: [CommonModule, BnaEditorComponent],
  template: \`
    <p>Input (BlockNote Editor)</p>
    <bna-editor
      class="h-[250px] block"
      [initialContent]="initialContent"
      (selectedBlocks)="onSelectionChanged($event)"
    />
    <p>
      Selection Blocks (JSON): <strong>{{ selectedBlocks }}</strong> Blocks
      selected
    </p>
    <div
      class="border border-black bg-background rounded min-h-20 w-full p-2 max-h-[400px] overflow-auto"
    >
      <pre><code>{{ content }}</code></pre>
    </div>
  \`,
})
export class SelectionBlocksExample {
  initialContent: PartialBlock[] = [
    {
      type: 'paragraph',
      content: 'Welcome to this demo!',
    },
    {
      type: 'paragraph',
      content: 'Select different blocks to see the JSON change below',
    },
    {
      type: 'paragraph',
    },
  ];
  editor!: BlockNoteEditor;
  selectedBlocks = 0;
  content = '';

  onSelectionChanged(data: Block[]) {
    this.selectedBlocks = data.length;
    this.content = JSON.stringify(data, null, 2);
  }
}`,Zt=class Zt{constructor(){this.exampleCode=Rc}};Zt.ɵfac=function(e){return new(e||Zt)},Zt.ɵcmp=p({type:Zt,selectors:[["ng-component"]],standalone:!0,features:[m],decls:12,vars:1,consts:[["name","Displaying Selected Blocks"],[1,"leading-7","[&:not(:first-child)]:mt-6","mb-8"],[1,"leading-7","[&:not(:first-child)]:mt-6"],["tab","preview"],["firstTab","Preview","secondTab","Code"],["firstTab",""],["secondTab","",3,"code"]],template:function(e,n){e&1&&(i(0,"bna-section-intro",0)(1,"p",1),l(2," In this example, the JSON representation of blocks spanned by the user's selection, is displayed below the editor. "),o(),i(3,"p",2)(4,"strong"),l(5,"Try it out"),o(),l(6,": Select different blocks in the editor and see the JSON update! "),o()(),i(7,"hlm-tabs",3)(8,"bna-example-tabs",4)(9,"bna-demo-box",5),c(10,"bna-selection-blocks-example"),o(),c(11,"bna-code",6),o()()),e&2&&(r(11),u("code",n.exampleCode))},dependencies:[h,H,I,D,F,E,Ts],encapsulation:2});let ws=Zt;const zn={warning:{icon:"⚠️",color:"#e69819",backgroundColor:"#fff6e6"},error:{icon:"⛔",color:"#d80d0d",backgroundColor:"#ffe6e6"},info:{icon:"ℹ️",color:"#507aff",backgroundColor:"#e6ebff"},success:{icon:"✅",color:"#0bc10b",backgroundColor:"#e6ffe6"}},sa=Bo({type:"alert",propSchema:{textAlignment:So.textAlignment,textColor:So.textColor,type:{default:"warning",values:["warning","error","info","success"]}},content:"inline"},{render:(s,t)=>{const e=document.createElement("div");e.className="alert",e.style.width="100%",e.style.display="flex",e.style.backgroundColor=zn[s.props.type].backgroundColor;const n=document.createElement("select");n.contentEditable="false",n.addEventListener("change",()=>{t.updateBlock(s,{type:"alert",props:{type:n.value}})}),n.options.add(new Option(zn.warning.icon,"warning",s.props.type==="warning",s.props.type==="warning")),n.options.add(new Option(zn.error.icon,"error",s.props.type==="error",s.props.type==="error")),n.options.add(new Option(zn.info.icon,"info",s.props.type==="info",s.props.type==="info")),n.options.add(new Option(zn.success.icon,"success",s.props.type==="success",s.props.type==="success")),e.appendChild(n);const a=document.createElement("div");return a.style.flexGrow="1",e.appendChild(a),{dom:e,contentDOM:a}}}),Ac=le.create({blockSpecs:{...K,alert:sa},inlineContentSpecs:{...de},styleSpecs:{...ue}}),Kt=class Kt{constructor(){this.initialContent=[{type:"alert",props:{type:"warning"},content:"Hallo Welt."}],this.options={schema:Ac,getSuggestionItems:t=>[{key:"alert",title:"Alert",onItemClick:()=>{Y(t,{type:"alert"})},badge:"BAFD",subtext:"SUBTEXT",aliases:["alert","notification","emphasize","warning","error","info","success"],group:"Other"},...Pn(t)]}}};Kt.ɵfac=function(e){return new(e||Kt)},Kt.ɵcmp=p({type:Kt,selectors:[["bna-alert-block-example"]],standalone:!0,features:[m],decls:1,vars:2,consts:[[3,"initialContent","options"]],template:function(e,n){e&1&&c(0,"bna-editor",0),e&2&&u("initialContent",n.initialContent)("options",n.options)},dependencies:[h,R],encapsulation:2});let Ss=Kt;const Pc=`import { CommonModule } from '@angular/common';
import { Component } from '@angular/core';
import {
  BlockNoteEditor,
  BlockNoteSchema,
  defaultBlockSpecs,
  defaultInlineContentSpecs,
  defaultStyleSpecs,
  insertOrUpdateBlock,
  PartialBlock,
} from '@blocknote/core';
import {
  BlockNoteEditorOptionsType,
  BnaEditorComponent,
} from '@dytab/ngx-blocknote';
import { HlmButtonDirective } from '@dytab/ngx-blocknote';
import { alertBlock } from './alert-block';

const schema = BlockNoteSchema.create({
  blockSpecs: {
    ...defaultBlockSpecs,
    alert: alertBlock,
  },
  inlineContentSpecs: { ...defaultInlineContentSpecs },
  styleSpecs: { ...defaultStyleSpecs },
});
@Component({
  selector: 'bna-alert-block-example',
  standalone: true,
  imports: [CommonModule, BnaEditorComponent, HlmButtonDirective],
  template: \`<bna-editor
    [initialContent]="initialContent"
    [options]="options"
  />\`,
})
export class AlertBlockExample {
  initialContent: PartialBlock<typeof schema.blockSchema>[] = [
    {
      type: 'alert',
      props: {
        type: 'warning',
      },
    },
  ];
  options: BlockNoteEditorOptionsType<
    typeof schema.blockSchema,
    typeof schema.inlineContentSchema,
    typeof schema.styleSchema
  > = {
    schema,
    inputSlashMenuItems: [
      (
        editor: BlockNoteEditor<
          typeof schema.blockSchema,
          typeof schema.inlineContentSchema,
          typeof schema.styleSchema
        >
      ) => ({
        title: 'Alert',
        onItemClick: () => {
          insertOrUpdateBlock(editor, {
            type: 'alert' as never,
          });
        },
        badge: 'BAFD',
        subtext: 'SUBTEXT',
        aliases: [
          'alert',
          'notification',
          'emphasize',
          'warning',
          'error',
          'info',
          'success',
        ],
        group: 'Other',
      }),
    ],
  };
}`,Yt=class Yt{constructor(){this.exampleCode=Pc}};Yt.ɵfac=function(e){return new(e||Yt)},Yt.ɵcmp=p({type:Yt,selectors:[["ng-component"]],standalone:!0,features:[m],decls:12,vars:1,consts:[["name","Alert Block"],[1,"leading-7","[&:not(:first-child)]:mt-6","mb-8"],["tab","preview"],["firstTab","Preview","secondTab","Code"],["firstTab",""],["secondTab","",3,"code"]],template:function(e,n){e&1&&(i(0,"bna-section-intro",0)(1,"p",1),l(2," In this example, we create a custom Alert block which is used to emphasize text. In addition, we create a Slash Menu item which inserts an Alert block. "),o(),i(3,"p")(4,"strong"),l(5,"Try it out"),o(),l(6,': Press the "/" key to open the Slash Menu and insert an Alert block! '),o()(),i(7,"hlm-tabs",2)(8,"bna-example-tabs",3)(9,"bna-demo-box",4),c(10,"bna-alert-block-example"),o(),c(11,"bna-code",5),o()()),e&2&&(r(11),u("code",n.exampleCode))},dependencies:[h,H,E,I,D,F,Ss],encapsulation:2});let Ms=Yt;const en=class en{constructor(t){this.ngxBlockNoteService=t,q(()=>{const e=t.editor();e&&e.sideMenu.onUpdate(n=>{this.block=n.block})})}resetBlock(){const t=this.ngxBlockNoteService.editor();this.block&&(t.updateBlock(this.block,{type:"paragraph"}),t.focus())}};en.ɵfac=function(e){return new(e||en)(b(k))},en.ɵcmp=p({type:en,selectors:[["bna-reset-block-button"]],standalone:!0,features:[w([N({lucideTrash:ci})]),m],decls:2,vars:0,consts:[["hlmBtn","","size","sm","variant","ghost",1,"w-full","justify-start",3,"click"]],template:function(e,n){e&1&&(i(0,"button",0),f("click",function(){return n.resetBlock()}),l(1," Reset Block "),o())},dependencies:[h,v]});let Ds=en;const Oc={name:{default:""},age:{default:!1},address:{default:!1}},Lc={type:"apiContent",propSchema:Oc,content:"inline"},zc=(s,t)=>{const e=document.createElement("div");e.style.backgroundColor="#BBB",e.style.width="100%",e.style.padding="4px 8px",e.style.borderRadius="4px",e.innerHTML="Content not configured";const n={name:"Max Musetrmann",age:25,address:"123 Main St"};let a="";for(const[d,x]of Object.entries(s.props))if(x){if(d==="name"){a+=`<p>${x}</p>`;continue}const U=n[d];a+=`<p>${U}</p>`}return a.length>0&&(e.innerHTML=a),{dom:e}},Vc=s=>{},$c=Bo(Lc,{render:zc,parse:Vc});function jc(s,t){if(s&1){const e=j();i(0,"hlm-dialog-content")(1,"form",3),f("ngSubmit",function(){const a=A(e).$implicit;return C().updateBlockConfiguration(),P(a.close())}),i(2,"hlm-dialog-header")(3,"h3",4),l(4,"Configure Block"),o(),i(5,"p",5),l(6," Toggle which content which should be rendered "),o(),i(7,"label",6),l(8," Name: "),c(9,"input",7),o(),i(10,"label",6),c(11,"hlm-checkbox",8),l(12," Age "),o(),i(13,"label",6),c(14,"hlm-checkbox",9),l(15," Address "),o()(),i(16,"hlm-dialog-footer")(17,"button",10),l(18,"Save changes"),o()()()()}if(s&2){const e=C();r(),u("formGroup",e.formGroup),r(8),u("size","sm")}}const Uc=le.create({blockSpecs:{...K,apiContent:$c},inlineContentSpecs:{...de},styleSpecs:{...ue}}),tn=class tn{constructor(){this.formGroup=new bl({name:new re(this.block?.props.name),age:new re(this.block?.props.age),address:new re(this.block?.props.address)}),this.initialContent=[{type:"apiContent",props:{name:"Max Mustermann",age:!0}},{type:"apiContent"}],this.options={schema:Uc}}updateBlockConfiguration(){if(!this.block||!this.editor)return;const t=this.formGroup.value;this.editor.updateBlock(this.block,{props:{...t}}),this.editor.sideMenu.unfreezeMenu()}onEditorReady(t){this.editor=t,this.editor.sideMenu.onUpdate(e=>{this.block=e.block,this.formGroup.patchValue(this.block?.props)})}};tn.ɵfac=function(e){return new(e||tn)},tn.ɵcmp=p({type:tn,selectors:[["bna-api-content-block-example"]],inputs:{block:"block",editor:"editor"},standalone:!0,features:[w([k]),m],decls:9,vars:2,consts:[[3,"onEditorReady","initialContent","options"],["hlmBtn","","brnDialogTrigger","","variant","ghost","size","sm",1,"justify-start","w-full"],[4,"brnDialogContent"],[3,"ngSubmit","formGroup"],["brnDialogTitle","","hlm",""],["brnDialogDescription","","hlm",""],["hlmLabel","",1,"flex","items-center"],["hlmInput","","formControlName","name",1,"mr-2",3,"size"],["formControlName","age",1,"mr-2"],["formControlName","address",1,"mr-2"],["hlmBtn","","type","submit"]],template:function(e,n){e&1&&(i(0,"bna-editor",0),f("onEditorReady",function(d){return n.onEditorReady(d)}),i(1,"bna-side-menu-controller")(2,"bna-side-menu"),c(3,"bna-add-block-btn"),i(4,"bna-drag-handle-menu-btn")(5,"hlm-dialog")(6,"button",1),l(7," Configure Block "),o(),_(8,jc,19,2,"hlm-dialog-content",2),o()()()()()),e&2&&u("initialContent",n.initialContent)("options",n.options)},dependencies:[h,R,v,Vn,In,En,Nn,Ao,Io,Cl,Ho,yl,kl,vl,Fo,lo,ae,Gn,Wn,ke,Jn,xo,xl,so],encapsulation:2});let Ns=tn;const qc="",nn=class nn{constructor(){this.exampleCode=qc}};nn.ɵfac=function(e){return new(e||nn)},nn.ɵcmp=p({type:nn,selectors:[["ng-component"]],standalone:!0,features:[m],decls:15,vars:1,consts:[["name","Api Content Block"],[1,"leading-7","[&:not(:first-child)]:mt-6","mb-8"],[1,"list-disc"],["tab","preview"],["firstTab","Preview","secondTab","Code"],["firstTab",""],["secondTab","",3,"code"]],template:function(e,n){e&1&&(i(0,"bna-section-intro",0)(1,"p",1),l(2," In this example, we create a custom block which is used to render content fetched by an api. "),o(),i(3,"ul",2)(4,"li"),l(5,"Block can be configured"),o(),i(6,"li"),l(7,"Block content is fetched from api with configuration data"),o(),i(8,"li"),l(9,"Fetched Content is rendered"),o()()(),i(10,"hlm-tabs",3)(11,"bna-example-tabs",4)(12,"bna-demo-box",5),c(13,"bna-api-content-block-example"),o(),c(14,"bna-code",6),o()()),e&2&&(r(14),u("code",n.exampleCode))},dependencies:[h,H,E,I,D,F,Ns],encapsulation:2});let Es=nn;const Gc={type:"mention",propSchema:{user:{default:"Unknown"}},content:"none"},Wc=s=>{const t=document.createElement("span");return t.style.backgroundColor="#9d9",t.style.width="100%",t.style.padding="4px 8px",t.style.borderRadius="4px",t.innerHTML=`${s.props.user}`,{dom:t}},Jc=Bl(Gc,{render:Wc}),Qc=(s,t)=>t.title;function Xc(s,t){if(s&1){const e=j();i(0,"button",4),f("click",function(){const a=A(e).$implicit;return P(a.onItemClick())}),l(1),o()}if(s&2){const e=t.$implicit;r(),se(" ",e.title," ")}}const Zc=s=>["Steve","Bob","Joe","Mike"].map(e=>({title:e,onItemClick:()=>{s.suggestionMenus.clearQuery(),s.insertInlineContent([{type:"mention",props:{user:e}}," "]),s.suggestionMenus.closeMenu()}})),Kc=le.create({blockSpecs:{...K},inlineContentSpecs:{...de,mention:Jc},styleSpecs:{...ue}}),on=class on{constructor(){this.query=T(""),this.filteredItems=g(()=>Xi(this.items,this.query())),this.items=[],this.initialContent=[{type:"paragraph",content:"Welcome to this demo!"},{type:"paragraph",content:[{type:"mention",props:{user:"Steve"}},{type:"text",text:" <- This is an example mention",styles:{}}]},{type:"paragraph",content:"Press the '@' key to open the mentions menu and add another"},{type:"paragraph"}],this.options={schema:Kc}}onEditorReady(t){this.items=Zc(t),t.suggestionMenus.onUpdate("@",e=>{this.query.set(e.query)})}};on.ɵfac=function(e){return new(e||on)},on.ɵcmp=p({type:on,selectors:[["bna-mentions-menu-example"]],standalone:!0,features:[m],decls:5,vars:2,consts:[[3,"onEditorReady","initialContent","options"],["triggerCharacter","@"],[1,"bg-background","shadow-2xl","shadow-neutral-500","rounded","p-1","flex","flex-col"],["hlmBtn","","variant","ghost","size","sm"],["hlmBtn","","variant","ghost","size","sm",3,"click"]],template:function(e,n){e&1&&(i(0,"bna-editor",0),f("onEditorReady",function(d){return n.onEditorReady(d)}),i(1,"bna-suggestions-menu-controller",1)(2,"div",2),ge(3,Xc,2,1,"button",3,Qc),o()()()),e&2&&(u("initialContent",n.initialContent)("options",n.options),r(3),be(n.filteredItems()))},dependencies:[h,R,v,go],encapsulation:2});let Is=on;const Yc=`import { CommonModule } from '@angular/common';
import { Component, computed, signal } from '@angular/core';
import {
  BlockNoteEditor,
  BlockNoteSchema,
  defaultBlockSpecs,
  defaultInlineContentSpecs,
  defaultStyleSpecs,
  filterSuggestionItems,
  PartialBlock,
} from '@blocknote/core';
import {
  BlockNoteEditorOptionsType,
  BnaEditorComponent,
  BnaSuggestionsMenuComponent,
  BnaSuggestionsMenuControllerDirective,
  HlmButtonDirective,
} from '@dytab/ngx-blocknote';
import { Mention } from './mentions';

const getMentionMenuItems = (editor: typeof schema.BlockNoteEditor) => {
  const users = ['Steve', 'Bob', 'Joe', 'Mike'];

  return users.map((user) => ({
    title: user,
    onItemClick: () => {
      editor.suggestionMenus.clearQuery();
      editor.insertInlineContent([
        {
          type: 'mention',
          props: {
            user,
          },
        },
        ' ', // add a space after the mention
      ]);
      editor.suggestionMenus.closeMenu();
    },
  }));
};
const schema = BlockNoteSchema.create({
  blockSpecs: {
    ...defaultBlockSpecs,
  },
  inlineContentSpecs: { ...defaultInlineContentSpecs, mention: Mention },
  styleSpecs: { ...defaultStyleSpecs },
});
@Component({
  selector: 'bna-mentions-menu-example',
  standalone: true,
  imports: [
    CommonModule,
    BnaEditorComponent,
    HlmButtonDirective,
    BnaSuggestionsMenuControllerDirective,
    BnaSuggestionsMenuComponent,
  ],
  template: \`<bna-editor
    [initialContent]="initialContent"
    [options]="options"
    (onEditorReady)="onEditorReady($event)"
    ><bna-suggestions-menu-controller triggerCharacter="@">
      <div
        class="bg-background shadow-2xl shadow-neutral-500 rounded p-1 flex flex-col"
      >
        @for(item of filteredItems();track item.title){
        <button hlmBtn variant="ghost" size="sm" (click)="item.onItemClick()">
          {{ item.title }}
        </button>
        }
      </div>
    </bna-suggestions-menu-controller></bna-editor
  >\`,
})
export class MentionsMenuExample {
  query = signal('');
  filteredItems = computed(() => {
    return filterSuggestionItems(this.items, this.query());
  });
  items: { title: string; onItemClick: () => void }[] = [];
  initialContent: PartialBlock<
    typeof schema.blockSchema,
    typeof schema.inlineContentSchema
  >[] = [
    {
      type: 'paragraph',
      content: 'Welcome to this demo!',
    },
    {
      type: 'paragraph',
      content: [
        {
          type: 'mention',
          props: {
            user: 'Steve',
          },
        },
        {
          type: 'text',
          text: ' <- This is an example mention',
          styles: {},
        },
      ],
    },
    {
      type: 'paragraph',
      content: "Press the '@' key to open the mentions menu and add another",
    },
    {
      type: 'paragraph',
    },
  ];
  options: BlockNoteEditorOptionsType = { schema };

  onEditorReady($event: BlockNoteEditor<any, any, any>) {
    this.items = getMentionMenuItems($event);
    $event.suggestionMenus.onUpdate('@', (state) => {
      this.query.set(state.query);
    });
  }
}`,sn=class sn{constructor(){this.exampleCode=Yc}};sn.ɵfac=function(e){return new(e||sn)},sn.ɵcmp=p({type:sn,selectors:[["ng-component"]],standalone:!0,features:[m],decls:12,vars:1,consts:[["name","Mentions Menu"],[1,"leading-7","[&:not(:first-child)]:mt-6","mb-8"],["tab","preview"],["firstTab","Preview","secondTab","Code"],["firstTab",""],["secondTab","",3,"code"]],template:function(e,n){e&1&&(i(0,"bna-section-intro",0)(1,"p",1),l(2,' In this example, we create a custom Mention inline content type which is used to tag people. In addition, we create a new Suggestion Menu for mentions which opens with the "@" character. '),o(),i(3,"p")(4,"strong"),l(5,"Try it out"),o(),l(6,': Press the "@" key to open the mentions menu and insert a mention! '),o()(),i(7,"hlm-tabs",2)(8,"bna-example-tabs",3)(9,"bna-demo-box",4),c(10,"bna-mentions-menu-example"),o(),c(11,"bna-code",5),o()()),e&2&&(r(11),u("code",n.exampleCode))},dependencies:[h,H,E,I,D,F,Is],encapsulation:2});let Fs=sn;const Hs=[1,2,3,4,5,6],ed={...So,level:{default:1,values:Hs}},td=_l({name:"heading",content:"inline*",group:"blockContent",addAttributes(){return{level:{default:1,parseHTML:s=>{const t=s.getAttribute("data-level"),e=parseInt(t);if(isFinite(e))return e},renderHTML:s=>({"data-level":s.level.toString()})}}},addInputRules(){return[...Hs.map(s=>new Tl({find:new RegExp(`^(#{${s}})\\s$`),handler:({state:t,chain:e,range:n})=>{Qn(this.editor)==="inline*"&&e().BNUpdateBlock(t.selection.from,{type:"heading",props:{level:s}}).deleteRange({from:n.from,to:n.to})}}))]},addKeyboardShortcuts(){return{"Mod-Alt-1":()=>Qn(this.editor)!=="inline*"?!0:this.editor.commands.BNUpdateBlock(this.editor.state.selection.anchor,{type:"heading",props:{level:1}}),"Mod-Alt-2":()=>Qn(this.editor)!=="inline*"?!0:this.editor.commands.BNUpdateBlock(this.editor.state.selection.anchor,{type:"heading",props:{level:2}}),"Mod-Alt-3":()=>Qn(this.editor)!=="inline*"?!0:this.editor.commands.BNUpdateBlock(this.editor.state.selection.anchor,{type:"heading",props:{level:3}})}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]",getAttrs:s=>typeof s=="string"?!1:{level:s.getAttribute("data-level")}},...Hs.map(s=>({tag:`h${s}`,attrs:{level:s},node:"heading"}))]},renderHTML(s){return wl(this.name,`h${s.node.attrs.level}`,{...this.options.domAttributes?.blockContent||{},...s.HTMLAttributes},this.options.domAttributes?.inlineContent||{})}}),ui=Sl(td,ed);ta({...K,heading:ui});const nd=s=>[{onItemClick:()=>{Y(s,{type:"heading",props:{level:1}})},badge:xe("Mod-Alt-1"),key:"heading",...s.dictionary.slash_menu.heading,subtext:"Big section heading"},{onItemClick:()=>{Y(s,{type:"heading",props:{level:2}})},badge:xe("Mod-Alt-2"),key:"heading_2",...s.dictionary.slash_menu.heading_2,subtext:"Medium section heading"},{onItemClick:()=>{Y(s,{type:"heading",props:{level:3}})},badge:xe("Mod-Alt-3"),key:"heading_3",...s.dictionary.slash_menu.heading_3,subtext:"Small section heading"},{...s.dictionary.slash_menu.heading_3,onItemClick:()=>{Y(s,{type:"heading",props:{level:4}})},badge:xe("Mod-Alt-4"),title:"Heading 4",key:"heading_4",subtext:"Very small section heading"},{...s.dictionary.slash_menu.heading_3,onItemClick:()=>{Y(s,{type:"heading",props:{level:5}})},badge:xe("Mod-Alt-5"),title:"Heading 5",key:"heading_5",subtext:"Smallest section heading"},{...s.dictionary.slash_menu.heading_3,onItemClick:()=>{Y(s,{type:"heading",props:{level:6}})},title:"Heading 6",badge:xe("Mod-Alt-6"),key:"heading_6",subtext:"Very big section heading"}],od=s=>s.document.filter(n=>n.type==="heading").map(n=>({headingLevel:n.props.level,id:n.id,text:(n.content&&Array.isArray(n.content)?n.content.map(a=>a.type==="text"?a.text:a.content.map(d=>d.text).join(", ")):[]).join()}));function sd(s){const t=document.querySelector(`[data-id="${s.id}"]`);t&&t.scrollIntoView({behavior:"smooth"})}function xi(s,t){t.innerHTML="";const e=document.createElement("div");e.className="toc-heading",e.textContent="Table of Content",t.appendChild(e);const n=od(s);for(const a of n){const d=document.createElement("a");d.className="toc-entry",d.setAttribute("data-level",a.headingLevel.toString()),d.setAttribute("data-heading-id",a.id),d.textContent=a.text,t.appendChild(d),d.addEventListener("click",()=>{sd(a)})}}const id={},ad={type:"table_of_contents",propSchema:id,content:"none"},ld=(s,t)=>{const e=document.createElement("div");return e.className="toc",e.contentEditable="false",xi(t,e),t.onEditorContentChange(()=>{xi(t,e)}),{dom:e}},ia=Bo(ad,{render:ld});ta({...K,tableOfContents:ia});const rd=s=>({onItemClick:()=>{Y(s,{type:"table_of_contents"})},key:"table_of_contents",group:"Special",title:"Table of Contents"}),cd={},dd={type:"page_break",propSchema:cd,content:"none"},ud=(s,t)=>{const e=document.createElement("div");e.style.pageBreakAfter="always";const n=document.createElement("div");return n.className="page-wrapper-text",n.textContent="..........PageBreak..........",e.appendChild(n),{dom:e}},pd=Bo(dd,{render:ud}),md=s=>({onItemClick:()=>{Y(s,{type:"page_break"})},key:"page_break",group:"Special",title:"Page Break",subtext:"Breaks the content"}),hd=le.create({blockSpecs:{...K,heading:ui},inlineContentSpecs:{...de},styleSpecs:{...ue}}),an=class an{constructor(){this.initialContent=[{type:"heading",props:{level:1},content:"Level 1"},{type:"heading",props:{level:2},content:"Level 2"},{type:"heading",props:{level:3},content:"Level 3"},{type:"heading",props:{level:4},content:"Level 4"},{type:"heading",props:{level:5},content:"Level 5"},{type:"heading",props:{level:6},content:"Level 6"}],this.options={schema:hd,getSuggestionItems:t=>[...nd(t),...Pn(t)]}}};an.ɵfac=function(e){return new(e||an)},an.ɵcmp=p({type:an,selectors:[["bna-heading-block-example"]],standalone:!0,features:[m],decls:1,vars:2,consts:[[3,"initialContent","options"]],template:function(e,n){e&1&&c(0,"bna-editor",0),e&2&&u("initialContent",n.initialContent)("options",n.options)},dependencies:[h,R],encapsulation:2});let Rs=an;const fd="",ln=class ln{constructor(){this.exampleCode=fd}};ln.ɵfac=function(e){return new(e||ln)},ln.ɵcmp=p({type:ln,selectors:[["ng-component"]],standalone:!0,features:[m],decls:12,vars:1,consts:[["name","Heading Block"],[1,"leading-7","[&:not(:first-child)]:mt-6","mb-8"],["tab","preview"],["firstTab","Preview","secondTab","Code"],["firstTab",""],["secondTab","",3,"code"]],template:function(e,n){e&1&&(i(0,"bna-section-intro",0)(1,"p",1),l(2," In this example, we show the custom heading which allows us to use 6 level headings instead of the default 3. "),o(),i(3,"p")(4,"strong"),l(5,"Try it out"),o(),l(6,': Press the "/" key to open the Slash Menu and insert the new heading levels! '),o()(),i(7,"hlm-tabs",2)(8,"bna-example-tabs",3)(9,"bna-demo-box",4),c(10,"bna-heading-block-example"),o(),c(11,"bna-code",5),o()()),e&2&&(r(11),u("code",n.exampleCode))},dependencies:[h,H,E,I,D,F,Rs],encapsulation:2});let As=ln;const gd=le.create({blockSpecs:{...K,page_break:pd},inlineContentSpecs:{...de},styleSpecs:{...ue}}),rn=class rn{constructor(){this.initialContent=[{type:"heading",content:"First Page",props:{level:1}},{type:"paragraph",content:"Here is a content before the page break. This should be on the first page"},{type:"page_break"},{type:"heading",content:"Second Page",props:{level:1}},{type:"paragraph",content:"Here is a content after the page break. This should be on the second page"}],this.options={schema:gd,getSuggestionItems:t=>[md(t),...Pn(t)]}}};rn.ɵfac=function(e){return new(e||rn)},rn.ɵcmp=p({type:rn,selectors:[["bna-page-break-block-example"]],standalone:!0,features:[m],decls:1,vars:2,consts:[[3,"initialContent","options"]],template:function(e,n){e&1&&c(0,"bna-editor",0),e&2&&u("initialContent",n.initialContent)("options",n.options)},dependencies:[h,R],encapsulation:2});let Ps=rn;const bd="",cn=class cn{constructor(){this.exampleCode=bd}};cn.ɵfac=function(e){return new(e||cn)},cn.ɵcmp=p({type:cn,selectors:[["ng-component"]],standalone:!0,features:[m],decls:8,vars:1,consts:[["name","Page Break"],[1,"leading-7","[&:not(:first-child)]:mt-6","mb-8"],["tab","preview"],["firstTab","Preview","secondTab","Code"],["firstTab",""],["secondTab","",3,"code"]],template:function(e,n){e&1&&(i(0,"bna-section-intro",0)(1,"p",1),l(2," In this example, we show the page break block, which helps us break pages when generating pdfs. "),o()(),i(3,"hlm-tabs",2)(4,"bna-example-tabs",3)(5,"bna-demo-box",4),c(6,"bna-page-break-block-example"),o(),c(7,"bna-code",5),o()()),e&2&&(r(7),u("code",n.exampleCode))},dependencies:[h,H,E,I,D,F,Ps],encapsulation:2});let Os=cn;const Cd=le.create({blockSpecs:{...K,table_of_contents:ia,heading:ui},inlineContentSpecs:{...de},styleSpecs:{...ue}}),dn=class dn{constructor(){this.initialContent=[{type:"table_of_contents"},{type:"heading",props:{level:1},content:"First Heading 1"},{type:"heading",props:{level:2},content:"Level 2"},{type:"heading",props:{level:3},content:"Level 3"},{type:"heading",props:{level:4},content:"Level 4"},{type:"heading",props:{level:5},content:"Level 5"},{type:"heading",props:{level:6},content:"Level 6"},{type:"heading",props:{level:1},content:"Second Heading 1"},{type:"heading",props:{level:2},content:"(1.1)"},{type:"heading",props:{level:2},content:"(1.2)"}],this.options={schema:Cd,getSuggestionItems:t=>[rd(t),...Pn(t)]}}};dn.ɵfac=function(e){return new(e||dn)},dn.ɵcmp=p({type:dn,selectors:[["bna-table-of-contents-block-example"]],standalone:!0,features:[m],decls:1,vars:2,consts:[[3,"initialContent","options"]],template:function(e,n){e&1&&c(0,"bna-editor",0),e&2&&u("initialContent",n.initialContent)("options",n.options)},dependencies:[h,R],encapsulation:2});let Ls=dn;const yd=`import { CommonModule } from '@angular/common';
import { Component } from '@angular/core';
import {
  BlockNoteEditor,
  BlockNoteSchema,
  defaultBlockSpecs,
  defaultInlineContentSpecs,
  defaultStyleSpecs,
  insertOrUpdateBlock,
  PartialBlock,
} from '@blocknote/core';
import {
  BlockNoteEditorOptionsType,
  BnaEditorComponent,
} from '@dytab/ngx-blocknote';
import { HlmButtonDirective } from '@dytab/ngx-blocknote';
import { alertBlock } from './alert-block';

const schema = BlockNoteSchema.create({
  blockSpecs: {
    ...defaultBlockSpecs,
    alert: alertBlock,
  },
  inlineContentSpecs: { ...defaultInlineContentSpecs },
  styleSpecs: { ...defaultStyleSpecs },
});
@Component({
  selector: 'bna-alert-block-example',
  standalone: true,
  imports: [CommonModule, BnaEditorComponent, HlmButtonDirective],
  template: \`<bna-editor
    [initialContent]="initialContent"
    [options]="options"
  />\`,
})
export class AlertBlockExample {
  initialContent: PartialBlock<typeof schema.blockSchema>[] = [
    {
      type: 'alert',
      props: {
        type: 'warning',
      },
    },
  ];
  options: BlockNoteEditorOptionsType<
    typeof schema.blockSchema,
    typeof schema.inlineContentSchema,
    typeof schema.styleSchema
  > = {
    schema,
    inputSlashMenuItems: [
      (
        editor: BlockNoteEditor<
          typeof schema.blockSchema,
          typeof schema.inlineContentSchema,
          typeof schema.styleSchema
        >
      ) => ({
        title: 'Alert',
        onItemClick: () => {
          insertOrUpdateBlock(editor, {
            type: 'alert' as never,
          });
        },
        badge: 'BAFD',
        subtext: 'SUBTEXT',
        aliases: [
          'alert',
          'notification',
          'emphasize',
          'warning',
          'error',
          'info',
          'success',
        ],
        group: 'Other',
      }),
    ],
  };
}`,un=class un{constructor(){this.exampleCode=yd}};un.ɵfac=function(e){return new(e||un)},un.ɵcmp=p({type:un,selectors:[["ng-component"]],standalone:!0,features:[m],decls:8,vars:1,consts:[["name","Table of contents"],[1,"leading-7","[&:not(:first-child)]:mt-6","mb-8"],["tab","preview"],["firstTab","Preview","secondTab","Code"],["firstTab",""],["secondTab","",3,"code"]],template:function(e,n){e&1&&(i(0,"bna-section-intro",0)(1,"p",1),l(2," In this example, we show the table of contents block, which shows us all the headings. When you click on an entry in the toc you get to the corresponding heading. "),o()(),i(3,"hlm-tabs",2)(4,"bna-example-tabs",3)(5,"bna-demo-box",4),c(6,"bna-table-of-contents-block-example"),o(),c(7,"bna-code",5),o()()),e&2&&(r(7),u("code",n.exampleCode))},dependencies:[h,H,E,I,D,F,Ls],encapsulation:2});let zs=un;const pn=class pn{constructor(){this.initialContent=[{type:"paragraph",content:["Hello, ",{type:"text",text:"world!",styles:{bold:!0}}]}],this.htmlString=""}async onContentChange(t){this.htmlString=await this.editor.blocksToHTMLLossy()}async editorReady(t){this.editor=t,this.htmlString=await this.editor.blocksToHTMLLossy()}};pn.ɵfac=function(e){return new(e||pn)},pn.ɵcmp=p({type:pn,selectors:[["bna-convert-to-html-example"]],standalone:!0,features:[m],decls:7,vars:2,consts:[[1,"h-[250px]","block",3,"contentChanged","onEditorReady","initialContent"],[1,"border","border-black","bg-background","rounded","min-h-20","w-full","p-2"]],template:function(e,n){e&1&&(i(0,"p"),l(1,"Input (BlockNote Editor)"),o(),i(2,"bna-editor",0),f("contentChanged",function(d){return n.onContentChange(d)})("onEditorReady",function(d){return n.editorReady(d)}),o(),i(3,"p"),l(4,"Output (HTML)"),o(),i(5,"div",1),l(6),o()),e&2&&(r(2),u("initialContent",n.initialContent),r(4),se(" ",n.htmlString," "))},dependencies:[h,R],encapsulation:2});let Vs=pn;const kd=`import { CommonModule } from '@angular/common';
import { Component } from '@angular/core';
import { Block, BlockNoteEditor, PartialBlock } from '@blocknote/core';
import { BnaEditorComponent } from '@dytab/ngx-blocknote';

@Component({
  selector: 'bna-convert-to-html-example',
  standalone: true,
  imports: [CommonModule, BnaEditorComponent],
  template: \`
    <p>Input (BlockNote Editor)</p>
    <bna-editor
      class="h-[250px] block"
      [initialContent]="initialContent"
      (contentChanged)="onContentChange($event)"
      (onEditorReady)="editorReady($event)"
    />
    <p>Output (HTML)</p>
    <div class="border border-black bg-background rounded min-h-20 w-full p-2">
      {{ htmlString }}
    </div>
  \`,
})
export class ConvertToHtmlExample {
  initialContent: PartialBlock[] = [
    {
      type: 'paragraph',
      content: [
        'Hello, ',
        {
          type: 'text',
          text: 'world!',
          styles: {
            bold: true,
          },
        },
      ],
    },
  ];
  editor!: BlockNoteEditor;

  htmlString = '';

  async onContentChange(blocks: Block[]) {
    this.htmlString = await this.editor.blocksToHTMLLossy();
  }

  async editorReady(editor: BlockNoteEditor) {
    this.editor = editor;
    this.htmlString = await this.editor.blocksToHTMLLossy();
  }
}`,mn=class mn{constructor(){this.exampleCode=kd}};mn.ɵfac=function(e){return new(e||mn)},mn.ɵcmp=p({type:mn,selectors:[["ng-component"]],standalone:!0,features:[m],decls:8,vars:1,consts:[["name","Convert Blocks to HTML"],[1,"leading-7","[&:not(:first-child)]:mt-6","mb-8"],["tab","preview"],["firstTab","Preview","secondTab","Code"],["firstTab",""],["secondTab","",3,"code"]],template:function(e,n){e&1&&(i(0,"bna-section-intro",0)(1,"p",1),l(2," This example exports the current document (all blocks) as HTML and displays it below the editor. "),o()(),i(3,"hlm-tabs",2)(4,"bna-example-tabs",3)(5,"bna-demo-box",4),c(6,"bna-convert-to-html-example"),o(),c(7,"bna-code",5),o()()),e&2&&(r(7),u("code",n.exampleCode))},dependencies:[h,H,I,D,F,E,Vs],encapsulation:2});let $s=mn;const hn=class hn{constructor(){this.initialContent=[{type:"paragraph",content:"Welcome to this demo!"},{type:"paragraph",content:"<- Click the Drag Handle to see the new item"},{type:"bulletListItem",content:"Try resetting this block's type using the new Drag Handle Menu item"},{type:"paragraph"}]}};hn.ɵfac=function(e){return new(e||hn)},hn.ɵcmp=p({type:hn,selectors:[["bna-adding-side-menu-drag-handle-items-example"]],standalone:!0,features:[m],decls:7,vars:1,consts:[[3,"initialContent"]],template:function(e,n){e&1&&(i(0,"bna-editor",0)(1,"bna-side-menu-controller")(2,"bna-side-menu"),c(3,"bna-add-block-btn"),i(4,"bna-drag-handle-menu-btn"),c(5,"bna-delete-block-item")(6,"bna-reset-block-button"),o()()()()),e&2&&u("initialContent",n.initialContent)},dependencies:[h,R,Nn,En,Vn,Ds,In,fo],encapsulation:2});let js=hn;const vd=`import { CommonModule } from '@angular/common';
import { Component } from '@angular/core';
import { BnaEditorComponent } from '@dytab/ngx-blocknote';

@Component({
  standalone: true,
  imports: [CommonModule, BnaEditorComponent],
  template: \` <bna-editor [initialContent]="initialContent" /> \`,
})
export class BasicSetupExample {
  initialContent = undefined;
}`,fn=class fn{constructor(){this.exampleCode=vd}};fn.ɵfac=function(e){return new(e||fn)},fn.ɵcmp=p({type:fn,selectors:[["bna-adding-side-menu-drag-handle-items"]],standalone:!0,features:[m],decls:12,vars:1,consts:[["name","Adding Drag Handle Menu Items"],[1,"leading-7","[&:not(:first-child)]:mt-6","mb-8"],["tab","preview"],["firstTab","Preview","secondTab","Code"],["firstTab",""],["secondTab","",3,"code"]],template:function(e,n){e&1&&(i(0,"bna-section-intro",0)(1,"p",1),l(2," In this example, we add an item to the Drag Handle Menu, which resets the hovered block to a paragraph. "),o(),i(3,"p")(4,"strong"),l(5,"Try it out"),o(),l(6,':Hover a block to open the Block Side Menu, and click "Reset Type" in the Drag Handle Menu to reset the selected block! '),o()(),i(7,"hlm-tabs",2)(8,"bna-example-tabs",3)(9,"bna-demo-box",4),c(10,"bna-adding-side-menu-drag-handle-items-example"),o(),c(11,"bna-code",5),o()()),e&2&&(r(11),u("code",n.exampleCode))},dependencies:[h,H,I,D,F,E,js],encapsulation:2});let Us=fn;const gn=class gn{constructor(t){this.ngxBlockNoteService=t,q(()=>{const e=t.editor();e&&e.sideMenu.onUpdate(n=>{this.block=n.block})})}deleteBlock(){!this.ngxBlockNoteService.editor()||!this.block||this.ngxBlockNoteService.editor().removeBlocks([this.block])}};gn.ɵfac=function(e){return new(e||gn)(b(k))},gn.ɵcmp=p({type:gn,selectors:[["bna-remove-block-button"]],standalone:!0,features:[w([N({lucideTrash:ci})]),m],decls:2,vars:0,consts:[["hlmBtn","","size","xs","variant","ghost",3,"click"],["size","xs","name","lucideTrash"]],template:function(e,n){e&1&&(i(0,"button",0),f("click",function(){return n.deleteBlock()}),c(1,"hlm-icon",1),o())},dependencies:[h,v,S]});let qs=gn;const bn=class bn{constructor(){this.initialContent=[{type:"paragraph",content:"Welcome to this demo!"},{type:"paragraph",content:"<- Notice the new button in the side menu"},{type:"paragraph",content:"Click it to remove the hovered block"},{type:"paragraph"}]}};bn.ɵfac=function(e){return new(e||bn)},bn.ɵcmp=p({type:bn,selectors:[["bna-formatting-side-menu-buttons-example"]],standalone:!0,features:[m],decls:5,vars:1,consts:[[3,"initialContent"]],template:function(e,n){e&1&&(i(0,"bna-editor",0)(1,"bna-side-menu-controller")(2,"bna-side-menu"),c(3,"bna-remove-block-button")(4,"bna-drag-handle-menu-btn"),o()()()),e&2&&u("initialContent",n.initialContent)},dependencies:[h,R,Nn,En,qs,In],encapsulation:2});let Gs=bn;const xd=`import { CommonModule } from '@angular/common';
import { Component } from '@angular/core';
import { BnaEditorComponent } from '@dytab/ngx-blocknote';

@Component({
  standalone: true,
  imports: [CommonModule, BnaEditorComponent],
  template: \` <bna-editor [initialContent]="initialContent" /> \`,
})
export class BasicSetupExample {
  initialContent = undefined;
}`,Cn=class Cn{constructor(){this.exampleCode=xd}};Cn.ɵfac=function(e){return new(e||Cn)},Cn.ɵcmp=p({type:Cn,selectors:[["bna-formatting-side-menu-buttons"]],standalone:!0,features:[m],decls:12,vars:1,consts:[["name","Adding Formatting Toolbar Buttons"],[1,"leading-7","[&:not(:first-child)]:mt-6","mb-8"],["tab","preview"],["firstTab","Preview","secondTab","Code"],["firstTab",""],["secondTab","",3,"code"]],template:function(e,n){e&1&&(i(0,"bna-section-intro",0)(1,"p",1),l(2," In this example, we add a blue text/background color and code style button to the Formatting Toolbar. "),o(),i(3,"p")(4,"strong"),l(5,"Try it out"),o(),l(6,": Select some text to open the Formatting Toolbar, and click one of the new buttons! "),o()(),i(7,"hlm-tabs",2)(8,"bna-example-tabs",3)(9,"bna-demo-box",4),c(10,"bna-formatting-side-menu-buttons-example"),o(),c(11,"bna-code",5),o()()),e&2&&(r(11),u("code",n.exampleCode))},dependencies:[h,H,I,D,F,E,Gs],encapsulation:2});let Ws=Cn;const Bd=s=>({"bg-gray-900 text-gray-100":s}),yn=class yn{constructor(t){this.ngxBlockNoteService=t}changeToBlue(){this.ngxBlockNoteService.editor()?.toggleStyles({textColor:"blue",backgroundColor:"blue"})}};yn.ɵfac=function(e){return new(e||yn)(b(k))},yn.ɵcmp=p({type:yn,selectors:[["bna-blue-button"]],standalone:!0,features:[m],decls:3,vars:3,consts:[["hlmBtn","","size","icon","variant","ghost",3,"click","ngClass"]],template:function(e,n){e&1&&(i(0,"button",0),f("click",function(){return n.changeToBlue()}),l(1," Blue"),c(2,"button"),o()),e&2&&u("ngClass",ye(1,Bd,n.ngxBlockNoteService.editor()?n.ngxBlockNoteService.editor().getActiveStyles().textColor==="blue"&&n.ngxBlockNoteService.editor().getActiveStyles().backgroundColor==="blue":!1))},dependencies:[h,qn,v]});let Js=yn;const kn=class kn{constructor(){this.initialContent=[{type:"paragraph",content:"Welcome to this demo!"},{type:"paragraph",content:[{type:"text",text:"You can now toggle ",styles:{}},{type:"text",text:"blue",styles:{textColor:"blue",backgroundColor:"blue"}},{type:"text",text:" and ",styles:{}},{type:"text",text:"code",styles:{code:!0}},{type:"text",text:" styles with new buttons in the Formatting Toolbar",styles:{}}]},{type:"paragraph",content:"Select some text to try them out"},{type:"paragraph"}]}};kn.ɵfac=function(e){return new(e||kn)},kn.ɵcmp=p({type:kn,selectors:[["bna-formatting-toolbar-buttons-example"]],standalone:!0,features:[m],decls:6,vars:3,consts:[[3,"initialContent"],[3,"basicTextStyle"]],template:function(e,n){e&1&&(i(0,"bna-editor",0)(1,"bna-formatting-toolbar-controller")(2,"bna-formatting-toolbar"),c(3,"bna-blue-button")(4,"bna-basic-text-style-button",1)(5,"bna-basic-text-style-button",1),o()()()),e&2&&(u("initialContent",n.initialContent),r(4),u("basicTextStyle","italic"),r(),u("basicTextStyle","bold"))},dependencies:[h,R,uo,mo,po,Js],encapsulation:2});let Qs=kn;const _d=`import { CommonModule } from '@angular/common';
import { Component } from '@angular/core';
import { BnaEditorComponent } from '@dytab/ui';

@Component({
  standalone: true,
  imports: [CommonModule, BnaEditorComponent],
  template: \` <bna-editor [initialContent]="initialContent" /> \`,
})
export class BasicSetupExample {
  initialContent = undefined;
}`,vn=class vn{constructor(){this.exampleCode=_d}};vn.ɵfac=function(e){return new(e||vn)},vn.ɵcmp=p({type:vn,selectors:[["ng-component"]],standalone:!0,features:[m],decls:12,vars:1,consts:[["name","Adding Formatting Toolbar Buttons"],[1,"leading-7","[&:not(:first-child)]:mt-6","mb-8"],["tab","preview"],["firstTab","Preview","secondTab","Code"],["firstTab",""],["secondTab","",3,"code"]],template:function(e,n){e&1&&(i(0,"bna-section-intro",0)(1,"p",1),l(2," In this example, we add a blue text/background color and code style button to the Formatting Toolbar. "),o(),i(3,"p")(4,"strong"),l(5,"Try it out"),o(),l(6,": Select some text to open the Formatting Toolbar, and click one of the new buttons! "),o()(),i(7,"hlm-tabs",2)(8,"bna-example-tabs",3)(9,"bna-demo-box",4),c(10,"bna-formatting-toolbar-buttons-example"),o(),c(11,"bna-code",5),o()()),e&2&&(r(11),u("code",n.exampleCode))},dependencies:[h,H,I,D,F,E,Qs],encapsulation:2});let Xs=vn;const xn=class xn{constructor(t){this.formBuilder=t,this.form=this.formBuilder.group({editor:new re([{type:"paragraph",content:["Hello, ",{type:"text",text:"world!",styles:{bold:!0}}]}])})}patchFormValue(){this.form.patchValue({editor:[{type:"paragraph",content:["Hello, ",{type:"text",text:"new Content!",styles:{bold:!0}}]}]})}disableForm(){this.form.disable()}enableForm(){this.form.enable()}};xn.ɵfac=function(e){return new(e||xn)(b(Ui))},xn.ɵcmp=p({type:xn,selectors:[["bna-form-example"]],standalone:!0,features:[m],decls:15,vars:4,consts:[[1,"flex","gap-2"],["type","button","hlmBtn","","size","sm",3,"click"],[3,"formControl"],[1,"border","border-black","bg-background","rounded","min-h-20","w-full","p-2","max-h-[400px]","overflow-auto"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"button",1),f("click",function(){return n.patchFormValue()}),l(2," Patch Value "),o(),i(3,"button",1),f("click",function(){return n.disableForm()}),l(4," Disable "),o(),i(5,"button",1),f("click",function(){return n.enableForm()}),l(6," Enable "),o()(),c(7,"bna-editor",2),i(8,"p"),l(9,"Form Value (JSON)"),o(),i(10,"div",3)(11,"pre")(12,"code"),l(13),Zn(14,"json"),o()()()),e&2&&(r(7),u("formControl",n.form.controls.editor),r(6),M(Kn(14,2,n.form.value)))},dependencies:[h,Ml,R,v,ae,ke,An],encapsulation:2});let Zs=xn;const Td=`import { CommonModule } from '@angular/common';
import { Component } from '@angular/core';
import { FormBuilder, FormControl, ReactiveFormsModule } from '@angular/forms';
import { Block, PartialBlock } from '@blocknote/core';
import { BnaEditorComponent } from '@dytab/ngx-blocknote';
import { HlmButtonDirective } from '@dytab/ui';

@Component({
  selector: 'bna-form-example',
  standalone: true,
  imports: [
    CommonModule,
    BnaEditorComponent,
    HlmButtonDirective,
    ReactiveFormsModule,
  ],
  template: \`
    <button type="button" hlmBtn (click)="patchFormValue()">
      Patch Value
    </button>
    <bna-editor [formControl]="form.controls.editor" />
    <p>Form Value (JSON)</p>
    <div
      class="border border-black bg-background rounded min-h-20 w-full p-2 max-h-[400px] overflow-auto"
    >
      <pre><code>{{ form.value | json}}</code></pre>
    </div>
  \`,
})
export class FormExample {
  editorContent!: Block[];
  form = this.formBuilder.group({
    editor: new FormControl<Block[] | PartialBlock[]>([
      {
        type: 'paragraph',
        content: [
          'Hello, ',
          {
            type: 'text',
            text: 'world!',
            styles: {
              bold: true,
            },
          },
        ],
      },
    ]),
  });

  constructor(private formBuilder: FormBuilder) {}

  patchFormValue() {
    this.form.patchValue({
      editor: [
        {
          type: 'paragraph',
          content: [
            'Hello, ',
            {
              type: 'text',
              text: 'new Content!',
              styles: {
                bold: true,
              },
            },
          ],
        },
      ],
    });
  }
}`,Bn=class Bn{constructor(){this.exampleCode=Td}};Bn.ɵfac=function(e){return new(e||Bn)},Bn.ɵcmp=p({type:Bn,selectors:[["ng-component"]],standalone:!0,features:[m],decls:8,vars:1,consts:[["name","Form"],[1,"leading-7","[&:not(:first-child)]:mt-6","mb-8"],["tab","preview"],["firstTab","Preview","secondTab","Code"],["firstTab",""],["secondTab","",3,"code"]],template:function(e,n){e&1&&(i(0,"bna-section-intro",0)(1,"p",1),l(2," This example shows how the editor can be integrated in every form. "),o()(),i(3,"hlm-tabs",2)(4,"bna-example-tabs",3)(5,"bna-demo-box",4),c(6,"bna-form-example"),o(),c(7,"bna-code",5),o()()),e&2&&(r(7),u("code",n.exampleCode))},dependencies:[h,H,I,D,F,E,Zs],encapsulation:2});let Ks=Bn;const _n=class _n{constructor(t){this.httpClient=t,this.ssrContent="",this.control=new re([{type:"paragraph",content:"Welcome to this demo!"},{type:"paragraph",content:"Try to get the html result"}])}logSSR(){this.httpClient.post("http://localhost:3000/api/test-html",this.control.value,{responseType:"text"}).subscribe(t=>{console.log(t),this.ssrContent=t})}};_n.ɵfac=function(e){return new(e||_n)(b(Dl))},_n.ɵcmp=p({type:_n,selectors:[["bna-server-side-rendering-example"]],standalone:!0,features:[m],decls:6,vars:2,consts:[["type","button","hlmBtn","","size","sm","type","",3,"click"],[3,"formControl"],[1,"bg"]],template:function(e,n){e&1&&(i(0,"button",0),f("click",function(){return n.logSSR()}),l(1," Log SSR "),o(),c(2,"bna-editor",1),l(3," SSR Output "),i(4,"div",2),l(5),o()),e&2&&(r(2),u("formControl",n.control),r(3),M(n.ssrContent))},dependencies:[h,ae,ke,An,R,v],encapsulation:2});let Ys=_n;const wd=`
TO BE ADDED`,Tn=class Tn{constructor(){this.exampleCode=wd}};Tn.ɵfac=function(e){return new(e||Tn)},Tn.ɵcmp=p({type:Tn,selectors:[["ng-component"]],standalone:!0,features:[m],decls:8,vars:1,consts:[["name","Server Side Rendering"],[1,"leading-7","[&:not(:first-child)]:mt-6","mb-8"],["tab","preview"],["firstTab","Preview","secondTab","Code"],["firstTab",""],["secondTab","",3,"code"]],template:function(e,n){e&1&&(i(0,"bna-section-intro",0)(1,"p",1),l(2," This example only works locally with the running server from apps/api. "),o()(),i(3,"hlm-tabs",2)(4,"bna-example-tabs",3)(5,"bna-demo-box",4),c(6,"bna-server-side-rendering-example"),o(),c(7,"bna-code",5),o()()),e&2&&(r(7),u("code",n.exampleCode))},dependencies:[h,H,I,D,F,E,Ys],encapsulation:2});let ei=Tn;const Sd=le.create({blockSpecs:{...K,alert:sa},inlineContentSpecs:{...de},styleSpecs:{...ue}}),wn=class wn{constructor(){this.editor=ea.create({schema:Sd}),this.initialContent=[{type:"paragraph",content:"test"},{type:"alert",props:{type:"warning"},content:"Hallo Welt."}],this.options={getSuggestionItems:t=>[{key:"alert",title:"Alert",onItemClick:()=>{Y(t,{type:"alert"})},badge:"BAFD",subtext:"SUBTEXT",aliases:["alert","notification","emphasize","warning","error","info","success"],group:"Other"},...Pn(t)]}}onEditorReady(t){console.log("editor ready",t)}};wn.ɵfac=function(e){return new(e||wn)},wn.ɵcmp=p({type:wn,selectors:[["bna-custom-editor-example"]],standalone:!0,features:[w([k]),m],decls:1,vars:3,consts:[[3,"onEditorReady","initialContent","editor","options"]],template:function(e,n){e&1&&(i(0,"bna-editor",0),f("onEditorReady",function(d){return n.onEditorReady(d)}),o()),e&2&&u("initialContent",n.initialContent)("editor",n.editor)("options",n.options)},dependencies:[h,R,ae],encapsulation:2});let ti=wn;const Md="",Sn=class Sn{constructor(){this.exampleCode=Md}};Sn.ɵfac=function(e){return new(e||Sn)},Sn.ɵcmp=p({type:Sn,selectors:[["ng-component"]],standalone:!0,features:[m],decls:8,vars:1,consts:[["name","Custom Editor"],[1,"leading-7","[&:not(:first-child)]:mt-6","mb-8"],["tab","preview"],["firstTab","Preview","secondTab","Code"],["firstTab",""],["secondTab","",3,"code"]],template:function(e,n){e&1&&(i(0,"bna-section-intro",0)(1,"p",1),l(2," In this example, we want to give a custom editor as input "),o()(),i(3,"hlm-tabs",2)(4,"bna-example-tabs",3)(5,"bna-demo-box",4),c(6,"bna-custom-editor-example"),o(),c(7,"bna-code",5),o()()),e&2&&(r(7),u("code",n.exampleCode))},dependencies:[h,H,E,I,D,F,ti],encapsulation:2});let ni=Sn;const aa=[{groupName:"Basic",url:"basic/minimal",name:"Basic Setup",component:Cs},{groupName:"Basic",url:"basic/manipulating-blocks",name:"Manipulating Blocks",component:xs},{groupName:"Basic",url:"basic/removing-default-blocks",name:"Removing Default Blocks",component:_s},{groupName:"Basic",url:"basic/selection-blocks",name:"Displaying Selected Blocks",component:ws},{groupName:"Basic",url:"basic/blocks-json",name:"Displaying Document JSON",component:ks},{groupName:"Basic",url:"basic/all-blocks",name:"Default Schema Showcase",component:bs},{groupName:"Basic",url:"basic/form",name:"Form",component:Ks},{groupName:"Backend",url:"backend/saving-and-loading",name:"Saving & Loading",component:ms},{groupName:"Backend",url:"backend/upload-files",name:"Upload Files",component:fs},{groupName:"Backend",url:"backend/server-side-rendering",name:"Server Side Rendering",component:ei},{groupName:"Custom",url:"custom/alert-block",name:"Alert Block",component:Ms},{groupName:"Custom",url:"custom/api-content-block",name:"Api Content Block",component:Es},{groupName:"Custom",url:"custom/mentions-menu",name:"Mentions Menu",component:Fs},{groupName:"Custom",url:"custom/editor",name:"Custom Editor",component:ni},{groupName:"Extensions",url:"extensions/heading-block",name:"Heading Block",component:As},{groupName:"Extensions",url:"extensions/table-of-contents",name:"Table Of Contents",component:zs},{groupName:"Extensions",url:"extensions/page-break",name:"Page Break",component:Os},{groupName:"Interoperability",url:"interoperability/convert-to-html",name:"Converting Blocks to HTML",component:$s},{groupName:"Ui Components",url:"ui-components/formatting-toolbar-buttons",name:"Adding Formatting Toolbar Buttons",component:Xs},{groupName:"Ui Components",url:"ui-components/formatting-side-menu-buttons",name:"Adding Block Side Menu Buttons",component:Ws},{groupName:"Ui Components",url:"ui-components/adding-side-menu-drag-handle-items",name:"Adding Drag Handle Menu Items",component:Us}];function Dd(s){const t=s.reduce((e,n)=>(e[n.groupName]||(e[n.groupName]=[]),e[n.groupName].push(n),e),{});return Object.entries(t).map(([e,n])=>({groupName:e,links:n}))}const Nd=Dd(aa),Ed=(s,t)=>t.groupName,Id=(s,t)=>t.url;function Fd(s,t){if(s&1&&(i(0,"a",4),l(1),o()),s&2){const e=t.$implicit;u("routerLink",e.url),r(),M(e.name)}}function Hd(s,t){if(s&1&&(i(0,"div"),l(1),o(),ge(2,Fd,2,2,"a",4,Id)),s&2){const e=t.$implicit;r(),M(e.groupName),r(),be(e.links)}}const Mn=class Mn{constructor(){this.exampleGroupedLinks=Nd}};Mn.ɵfac=function(e){return new(e||Mn)},Mn.ɵcmp=p({type:Mn,selectors:[["ng-component"]],hostAttrs:[1,"block","py-3","mx-auto","max-w-[90rem]"],standalone:!0,features:[m],decls:6,vars:0,consts:[[1,"flex","flex-1","items-start","md:grid","md:grid-cols-[220px_minmax(0,1fr)]","lg:grid-cols-[240px_minmax(0,1fr)]","md:gap-6","lg:gap-10","px-10"],[1,"flex","flex-col"],[1,"overflow-hidden","py-6"],[1,"hidden"],["hlmBtn","","variant","link","routerLinkActive","!text-foreground",1,"justify-start","text-muted-foreground",3,"routerLink"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"aside",1),ge(2,Hd,4,1,null,null,Ed),o(),i(4,"main",2),c(5,"router-outlet",3),o()()),e&2&&(r(2),be(n.exampleGroupedLinks))},dependencies:[h,Hi,v,ai,Nl],encapsulation:2});let oi=Mn;const Dn=class Dn{};Dn.ɵfac=function(e){return new(e||Dn)},Dn.ɵcmp=p({type:Dn,selectors:[["ng-component"]],standalone:!0,features:[m],decls:29,vars:0,consts:[[1,"relative","flex","h-fit","w-full","justify-center","overflow-hidden","pb-36","pt-24","xl:pt-36"],[1,"z-20","flex","w-full","flex-col","items-center","justify-between","gap-6","px-6","md:max-w-screen-md","xl:max-w-[1440px]","xl:flex-row"],[1,"relative","flex","h-fit","flex-col","items-center","justify-center","gap-6","text-center","xl:w-[584px]","xl:items-start","xl:text-left"],[1,"hero-glow","text-glow","absolute","block","h-full","w-full","sm:hidden"],[1,"leading-none","text-6xl","font-medium","md:text-7xl","z-10"],[1,"font-space-grotesk","text-lg","leading-snug","md:text-xl","z-10"],["hlmBtn","","variant","default","routerLink","/examples"],[1,"relative","h-[36rem]","w-full","shrink-0","grow-0","rounded-lg","sm:block","xl:w-[584px]"],[1,"absolute","h-full","w-full","-inset-0,5","bg-gradient-to-r","from-purple-600","to-sky-400","rouned-lg","blur","opacity-75"],["hlmCard","",1,"relative","z-20","h-full","w-full","rounded-lg"],[1,"relative","flex","h-fit","w-full","justify-center","overflow-hidden","pb-36","pt-24","xl:pt-36","border-b","border-t","border-border","shadow-sm"],[1,"flex","flex-col","justify-center","items-center"],[1,"scroll-m-20","pb-2","text-3xl","font-semibold","tracking-tight","transition-colors","first:mt-0"],[1,"text-xl","text-muted-foreground","text-center","xl:w-[584px]","mb-5"],["hlmBtn","","variant","default","href","https://www.blocknotejs.org/"]],template:function(e,n){e&1&&(i(0,"section",0)(1,"div",1)(2,"div",2),c(3,"div",3),i(4,"h1",4),l(5," NGX "),c(6,"br"),i(7,"strong"),l(8,"BlockNote"),o(),c(9,"br"),o(),i(10,"p",5),l(11," A beautiful text editor that just works in "),i(12,"strong"),l(13,"angular"),o(),l(14,". Easily add an editor to your app that users will love. Customize it with your own functionality like custom blocks or AI tooling. "),o(),i(15,"a",6),l(16,"Get Started"),o()(),i(17,"div",7),c(18,"div",8),i(19,"div",9),c(20,"bna-basic-setup-example"),o()()()(),i(21,"section",10)(22,"div",11)(23,"h2",12),l(24,"Disclaimer"),o(),i(25,"p",13),l(26," This is not an official Angular wrapper for BlockNote. This wrapper was created on our own because we needed a solution for Angular. For this reason, we would like to offer it here in case other developers also need a corresponding solution for Angular. "),o(),i(27,"a",14),l(28,"Go to BlockNote"),o()()())},dependencies:[ai,v,oo,Co],encapsulation:2});let si=Dn;const Rd=[{path:"",redirectTo:"overview",pathMatch:"full"},{path:"overview",component:si,title:"Overview"},{path:"examples",component:oi,children:[{path:"",redirectTo:"basic/minimal",pathMatch:"full"},{path:"**",redirectTo:"overview"},...aa.map(s=>({path:s.url,component:s.component}))]}],Ad={providers:[El({eventCoalescing:!0}),Il(Rd),Fl(),Hl({lineNumbersLoader:()=>Xn(()=>import("./ngx-highlightjs-line-numbers-BlD_2oHz.js"),__vite__mapDeps([0,1])),coreLibraryLoader:()=>Xn(()=>import("./core-DfxoLEDQ.js"),__vite__mapDeps([2,3])),languages:{typescript:()=>Xn(()=>import("./typescript-BVybyj25.js"),[]),css:()=>Xn(()=>import("./css-CNcoTEx5.js"),[])}}),Rl()]};Al(zo,Ad).catch(s=>console.error(s));
