const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DStS94NO.js","assets/_commonjsHelpers-CqkleIqs.js","assets/index-npyI-yx5.js","assets/index-DE5EcRlk.js","assets/index-BUG1B8v1.js","assets/index-C2o2j-tx.js","assets/index-c2V3InAJ.js","assets/index-z_TnAjhb.js","assets/index-C0nYIjA0.js","assets/index-Ch_qCilz.js","assets/index-Cfkf-ciZ.js","assets/index-DL-UHulA.js","assets/index-vY-h4J_N.js","assets/index-BSAZhzZx.js","assets/index-C_aolqmU.js","assets/index-BHMClKH2.js","assets/index-CvBTqz6Y.js","assets/index-Dwteuxnt.js","assets/list-item-xb9BgIlX.js","assets/index-D7TIu75F.js","assets/index-DJ9TW23k.js","assets/index-D0Zq5UJG.js","assets/index-BJQJQbXe.js"])))=>i.map(i=>d[i]);
/**
 * @license Angular v<unknown>
 * (c) 2010-2024 Google LLC. https://angular.io/
 * License: MIT
 */const vi=globalThis;function cr(t){return(vi.__Zone_symbol_prefix||"__zone_symbol__")+t}function SU(){const t=vi.performance;function e(Q){t&&t.mark&&t.mark(Q)}function r(Q,j){t&&t.measure&&t.measure(Q,j)}e("Zone");let n=(()=>{const j=class j{static assertZonePatched(){if(vi.Promise!==q.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let _=j.current;for(;_.parent;)_=_.parent;return _}static get current(){return H.zone}static get currentTask(){return ne}static __load_patch(_,G,re=!1){if(q.hasOwnProperty(_)){const ge=vi[cr("forceDuplicateZoneCheck")]===!0;if(!re&&ge)throw Error("Already loaded patch: "+_)}else if(!vi["__Zone_disable_"+_]){const ge="Zone:"+_;e(ge),q[_]=G(vi,j,K),r(ge,ge)}}get parent(){return this._parent}get name(){return this._name}constructor(_,G){this._parent=_,this._name=G?G.name||"unnamed":"<root>",this._properties=G&&G.properties||{},this._zoneDelegate=new s(this,this._parent&&this._parent._zoneDelegate,G)}get(_){const G=this.getZoneWith(_);if(G)return G._properties[_]}getZoneWith(_){let G=this;for(;G;){if(G._properties.hasOwnProperty(_))return G;G=G._parent}return null}fork(_){if(!_)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,_)}wrap(_,G){if(typeof _!="function")throw new Error("Expecting function got: "+_);const re=this._zoneDelegate.intercept(this,_,G),ge=this;return function(){return ge.runGuarded(re,this,arguments,G)}}run(_,G,re,ge){H={parent:H,zone:this};try{return this._zoneDelegate.invoke(this,_,G,re,ge)}finally{H=H.parent}}runGuarded(_,G=null,re,ge){H={parent:H,zone:this};try{try{return this._zoneDelegate.invoke(this,_,G,re,ge)}catch(he){if(this._zoneDelegate.handleError(this,he))throw he}}finally{H=H.parent}}runTask(_,G,re){if(_.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(_.zone||m).name+"; Execution: "+this.name+")");const ge=_,{type:he,data:{isPeriodic:Go=!1,isRefreshable:Xi=!1}={}}=_;if(_.state===y&&(he===$||he===R))return;const Pr=_.state!=C;Pr&&ge._transitionTo(C,b);const hl=ne;ne=ge,H={parent:H,zone:this};try{he==R&&_.data&&!Go&&!Xi&&(_.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,ge,G,re)}catch(B){if(this._zoneDelegate.handleError(this,B))throw B}}finally{const B=_.state;if(B!==y&&B!==T)if(he==$||Go||Xi&&B===v)Pr&&ge._transitionTo(b,C,v);else{const L=ge._zoneDelegates;this._updateTaskCount(ge,-1),Pr&&ge._transitionTo(y,C,y),Xi&&(ge._zoneDelegates=L)}H=H.parent,ne=hl}}scheduleTask(_){if(_.zone&&_.zone!==this){let re=this;for(;re;){if(re===_.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${_.zone.name}`);re=re.parent}}_._transitionTo(v,y);const G=[];_._zoneDelegates=G,_._zone=this;try{_=this._zoneDelegate.scheduleTask(this,_)}catch(re){throw _._transitionTo(T,v,y),this._zoneDelegate.handleError(this,re),re}return _._zoneDelegates===G&&this._updateTaskCount(_,1),_.state==v&&_._transitionTo(b,v),_}scheduleMicroTask(_,G,re,ge){return this.scheduleTask(new o(F,_,G,re,ge,void 0))}scheduleMacroTask(_,G,re,ge,he){return this.scheduleTask(new o(R,_,G,re,ge,he))}scheduleEventTask(_,G,re,ge,he){return this.scheduleTask(new o($,_,G,re,ge,he))}cancelTask(_){if(_.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(_.zone||m).name+"; Execution: "+this.name+")");if(!(_.state!==b&&_.state!==C)){_._transitionTo(M,b,C);try{this._zoneDelegate.cancelTask(this,_)}catch(G){throw _._transitionTo(T,M),this._zoneDelegate.handleError(this,G),G}return this._updateTaskCount(_,-1),_._transitionTo(y,M),_.runCount=-1,_}}_updateTaskCount(_,G){const re=_._zoneDelegates;G==-1&&(_._zoneDelegates=null);for(let ge=0;ge<re.length;ge++)re[ge]._updateTaskCount(_.type,G)}};j.__symbol__=cr;let Q=j;return Q})();const i={name:"",onHasTask:(Q,j,x,_)=>Q.hasTask(x,_),onScheduleTask:(Q,j,x,_)=>Q.scheduleTask(x,_),onInvokeTask:(Q,j,x,_,G,re)=>Q.invokeTask(x,_,G,re),onCancelTask:(Q,j,x,_)=>Q.cancelTask(x,_)};class s{get zone(){return this._zone}constructor(j,x,_){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this._zone=j,this._parentDelegate=x,this._forkZS=_&&(_&&_.onFork?_:x._forkZS),this._forkDlgt=_&&(_.onFork?x:x._forkDlgt),this._forkCurrZone=_&&(_.onFork?this._zone:x._forkCurrZone),this._interceptZS=_&&(_.onIntercept?_:x._interceptZS),this._interceptDlgt=_&&(_.onIntercept?x:x._interceptDlgt),this._interceptCurrZone=_&&(_.onIntercept?this._zone:x._interceptCurrZone),this._invokeZS=_&&(_.onInvoke?_:x._invokeZS),this._invokeDlgt=_&&(_.onInvoke?x:x._invokeDlgt),this._invokeCurrZone=_&&(_.onInvoke?this._zone:x._invokeCurrZone),this._handleErrorZS=_&&(_.onHandleError?_:x._handleErrorZS),this._handleErrorDlgt=_&&(_.onHandleError?x:x._handleErrorDlgt),this._handleErrorCurrZone=_&&(_.onHandleError?this._zone:x._handleErrorCurrZone),this._scheduleTaskZS=_&&(_.onScheduleTask?_:x._scheduleTaskZS),this._scheduleTaskDlgt=_&&(_.onScheduleTask?x:x._scheduleTaskDlgt),this._scheduleTaskCurrZone=_&&(_.onScheduleTask?this._zone:x._scheduleTaskCurrZone),this._invokeTaskZS=_&&(_.onInvokeTask?_:x._invokeTaskZS),this._invokeTaskDlgt=_&&(_.onInvokeTask?x:x._invokeTaskDlgt),this._invokeTaskCurrZone=_&&(_.onInvokeTask?this._zone:x._invokeTaskCurrZone),this._cancelTaskZS=_&&(_.onCancelTask?_:x._cancelTaskZS),this._cancelTaskDlgt=_&&(_.onCancelTask?x:x._cancelTaskDlgt),this._cancelTaskCurrZone=_&&(_.onCancelTask?this._zone:x._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const G=_&&_.onHasTask,re=x&&x._hasTaskZS;(G||re)&&(this._hasTaskZS=G?_:i,this._hasTaskDlgt=x,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,_.onScheduleTask||(this._scheduleTaskZS=i,this._scheduleTaskDlgt=x,this._scheduleTaskCurrZone=this._zone),_.onInvokeTask||(this._invokeTaskZS=i,this._invokeTaskDlgt=x,this._invokeTaskCurrZone=this._zone),_.onCancelTask||(this._cancelTaskZS=i,this._cancelTaskDlgt=x,this._cancelTaskCurrZone=this._zone))}fork(j,x){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,j,x):new n(j,x)}intercept(j,x,_){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,j,x,_):x}invoke(j,x,_,G,re){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,j,x,_,G,re):x.apply(_,G)}handleError(j,x){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,j,x):!0}scheduleTask(j,x){let _=x;if(this._scheduleTaskZS)this._hasTaskZS&&_._zoneDelegates.push(this._hasTaskDlgtOwner),_=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,j,x),_||(_=x);else if(x.scheduleFn)x.scheduleFn(x);else if(x.type==F)p(x);else throw new Error("Task is missing scheduleFn.");return _}invokeTask(j,x,_,G){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,j,x,_,G):x.callback.apply(_,G)}cancelTask(j,x){let _;if(this._cancelTaskZS)_=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,j,x);else{if(!x.cancelFn)throw Error("Task is not cancelable");_=x.cancelFn(x)}return _}hasTask(j,x){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,j,x)}catch(_){this.handleError(j,_)}}_updateTaskCount(j,x){const _=this._taskCounts,G=_[j],re=_[j]=G+x;if(re<0)throw new Error("More tasks executed then were scheduled.");if(G==0||re==0){const ge={microTask:_.microTask>0,macroTask:_.macroTask>0,eventTask:_.eventTask>0,change:j};this.hasTask(this._zone,ge)}}}class o{constructor(j,x,_,G,re,ge){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=j,this.source=x,this.data=G,this.scheduleFn=re,this.cancelFn=ge,!_)throw new Error("callback is not defined");this.callback=_;const he=this;j===$&&G&&G.useG?this.invoke=o.invokeTask:this.invoke=function(){return o.invokeTask.call(vi,he,this,arguments)}}static invokeTask(j,x,_){j||(j=this),He++;try{return j.runCount++,j.zone.runTask(j,x,_)}finally{He==1&&g(),He--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(y,v)}_transitionTo(j,x,_){if(this._state===x||this._state===_)this._state=j,j==y&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${j}', expecting state '${x}'${_?" or '"+_+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const a=cr("setTimeout"),l=cr("Promise"),c=cr("then");let u=[],d=!1,h;function f(Q){if(h||vi[l]&&(h=vi[l].resolve(0)),h){let j=h[c];j||(j=h.then),j.call(h,Q)}else vi[a](Q,0)}function p(Q){He===0&&u.length===0&&f(g),Q&&u.push(Q)}function g(){if(!d){for(d=!0;u.length;){const Q=u;u=[];for(let j=0;j<Q.length;j++){const x=Q[j];try{x.zone.runTask(x,null,null)}catch(_){K.onUnhandledError(_)}}}K.microtaskDrainDone(),d=!1}}const m={name:"NO ZONE"},y="notScheduled",v="scheduling",b="scheduled",C="running",M="canceling",T="unknown",F="microTask",R="macroTask",$="eventTask",q={},K={symbol:cr,currentZoneFrame:()=>H,onUnhandledError:Le,microtaskDrainDone:Le,scheduleMicroTask:p,showUncaughtError:()=>!n[cr("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:Le,patchMethod:()=>Le,bindArguments:()=>[],patchThen:()=>Le,patchMacroTask:()=>Le,patchEventPrototype:()=>Le,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>Le,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>Le,wrapWithCurrentZone:()=>Le,filterProperties:()=>[],attachOriginToPatched:()=>Le,_redefineProperty:()=>Le,patchCallbacks:()=>Le,nativeScheduleMicroTask:f};let H={parent:null,zone:new n(null,null)},ne=null,He=0;function Le(){}return r("Zone","Zone"),n}function TU(){const t=globalThis,e=t[cr("forceDuplicateZoneCheck")]===!0;if(t.Zone&&(e||typeof t.Zone.__symbol__!="function"))throw new Error("Zone already loaded.");return t.Zone??(t.Zone=SU()),t.Zone}const cd=Object.getOwnPropertyDescriptor,g0=Object.defineProperty,m0=Object.getPrototypeOf,IU=Object.create,xU=Array.prototype.slice,y0="addEventListener",v0="removeEventListener",$v=cr(y0),zv=cr(v0),as="true",ls="false",ud=cr("");function b0(t,e){return Zone.current.wrap(t,e)}function w0(t,e,r,n,i){return Zone.current.scheduleMacroTask(t,e,r,n,i)}const $e=cr,zm=typeof window<"u",Oc=zm?window:void 0,Vt=zm&&Oc||globalThis,AU="removeAttribute";function _0(t,e){for(let r=t.length-1;r>=0;r--)typeof t[r]=="function"&&(t[r]=b0(t[r],e+"_"+r));return t}function OU(t,e){const r=t.constructor.name;for(let n=0;n<e.length;n++){const i=e[n],s=t[i];if(s){const o=cd(t,i);if(!aA(o))continue;t[i]=(a=>{const l=function(){return a.apply(this,_0(arguments,r+"."+i))};return hs(l,a),l})(s)}}}function aA(t){return t?t.writable===!1?!1:!(typeof t.get=="function"&&typeof t.set>"u"):!0}const lA=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Wm=!("nw"in Vt)&&typeof Vt.process<"u"&&Vt.process.toString()==="[object process]",C0=!Wm&&!lA&&!!(zm&&Oc.HTMLElement),cA=typeof Vt.process<"u"&&Vt.process.toString()==="[object process]"&&!lA&&!!(zm&&Oc.HTMLElement),Op={},RU=$e("enable_beforeunload"),mM=function(t){if(t=t||Vt.event,!t)return;let e=Op[t.type];e||(e=Op[t.type]=$e("ON_PROPERTY"+t.type));const r=this||t.target||Vt,n=r[e];let i;if(C0&&r===Oc&&t.type==="error"){const s=t;i=n&&n.call(this,s.message,s.filename,s.lineno,s.colno,s.error),i===!0&&t.preventDefault()}else i=n&&n.apply(this,arguments),t.type==="beforeunload"&&Vt[RU]&&typeof i=="string"?t.returnValue=i:i!=null&&!i&&t.preventDefault();return i};function yM(t,e,r){let n=cd(t,e);if(!n&&r&&cd(r,e)&&(n={enumerable:!0,configurable:!0}),!n||!n.configurable)return;const i=$e("on"+e+"patched");if(t.hasOwnProperty(i)&&t[i])return;delete n.writable,delete n.value;const s=n.get,o=n.set,a=e.slice(2);let l=Op[a];l||(l=Op[a]=$e("ON_PROPERTY"+a)),n.set=function(c){let u=this;if(!u&&t===Vt&&(u=Vt),!u)return;typeof u[l]=="function"&&u.removeEventListener(a,mM),o&&o.call(u,null),u[l]=c,typeof c=="function"&&u.addEventListener(a,mM,!1)},n.get=function(){let c=this;if(!c&&t===Vt&&(c=Vt),!c)return null;const u=c[l];if(u)return u;if(s){let d=s.call(this);if(d)return n.set.call(this,d),typeof c[AU]=="function"&&c.removeAttribute(e),d}return null},g0(t,e,n),t[i]=!0}function uA(t,e,r){if(e)for(let n=0;n<e.length;n++)yM(t,"on"+e[n],r);else{const n=[];for(const i in t)i.slice(0,2)=="on"&&n.push(i);for(let i=0;i<n.length;i++)yM(t,n[i],r)}}const Fr=$e("originalInstance");function ku(t){const e=Vt[t];if(!e)return;Vt[$e(t)]=e,Vt[t]=function(){const i=_0(arguments,t);switch(i.length){case 0:this[Fr]=new e;break;case 1:this[Fr]=new e(i[0]);break;case 2:this[Fr]=new e(i[0],i[1]);break;case 3:this[Fr]=new e(i[0],i[1],i[2]);break;case 4:this[Fr]=new e(i[0],i[1],i[2],i[3]);break;default:throw new Error("Arg list too long.")}},hs(Vt[t],e);const r=new e(function(){});let n;for(n in r)t==="XMLHttpRequest"&&n==="responseBlob"||function(i){typeof r[i]=="function"?Vt[t].prototype[i]=function(){return this[Fr][i].apply(this[Fr],arguments)}:g0(Vt[t].prototype,i,{set:function(s){typeof s=="function"?(this[Fr][i]=b0(s,t+"."+i),hs(this[Fr][i],s)):this[Fr][i]=s},get:function(){return this[Fr][i]}})}(n);for(n in e)n!=="prototype"&&e.hasOwnProperty(n)&&(Vt[t][n]=e[n])}function ds(t,e,r){let n=t;for(;n&&!n.hasOwnProperty(e);)n=m0(n);!n&&t[e]&&(n=t);const i=$e(e);let s=null;if(n&&(!(s=n[i])||!n.hasOwnProperty(i))){s=n[i]=n[e];const o=n&&cd(n,e);if(aA(o)){const a=r(s,i,e);n[e]=function(){return a(this,arguments)},hs(n[e],s)}}return s}function NU(t,e,r){let n=null;function i(s){const o=s.data;return o.args[o.cbIdx]=function(){s.invoke.apply(this,arguments)},n.apply(o.target,o.args),s}n=ds(t,e,s=>function(o,a){const l=r(o,a);return l.cbIdx>=0&&typeof a[l.cbIdx]=="function"?w0(l.name,a[l.cbIdx],l,i):s.apply(o,a)})}function hs(t,e){t[$e("OriginalDelegate")]=e}let vM=!1,Wv=!1;function PU(){try{const t=Oc.navigator.userAgent;if(t.indexOf("MSIE ")!==-1||t.indexOf("Trident/")!==-1)return!0}catch{}return!1}function LU(){if(vM)return Wv;vM=!0;try{const t=Oc.navigator.userAgent;(t.indexOf("MSIE ")!==-1||t.indexOf("Trident/")!==-1||t.indexOf("Edge/")!==-1)&&(Wv=!0)}catch{}return Wv}function bM(t){return typeof t=="function"}function wM(t){return typeof t=="number"}let Al=!1;if(typeof window<"u")try{const t=Object.defineProperty({},"passive",{get:function(){Al=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch{Al=!1}const FU={useG:!0},dr={},dA={},hA=new RegExp("^"+ud+"(\\w+)(true|false)$"),fA=$e("propagationStopped");function pA(t,e){const r=(e?e(t):t)+ls,n=(e?e(t):t)+as,i=ud+r,s=ud+n;dr[t]={},dr[t][ls]=i,dr[t][as]=s}function BU(t,e,r,n){const i=n&&n.add||y0,s=n&&n.rm||v0,o=n&&n.listeners||"eventListeners",a=n&&n.rmAll||"removeAllListeners",l=$e(i),c="."+i+":",u="prependListener",d="."+u+":",h=function(v,b,C){if(v.isRemoved)return;const M=v.callback;typeof M=="object"&&M.handleEvent&&(v.callback=R=>M.handleEvent(R),v.originalDelegate=M);let T;try{v.invoke(v,b,[C])}catch(R){T=R}const F=v.options;if(F&&typeof F=="object"&&F.once){const R=v.originalDelegate?v.originalDelegate:v.callback;b[s].call(b,C.type,R,F)}return T};function f(v,b,C){if(b=b||t.event,!b)return;const M=v||b.target||t,T=M[dr[b.type][C?as:ls]];if(T){const F=[];if(T.length===1){const R=h(T[0],M,b);R&&F.push(R)}else{const R=T.slice();for(let $=0;$<R.length&&!(b&&b[fA]===!0);$++){const q=h(R[$],M,b);q&&F.push(q)}}if(F.length===1)throw F[0];for(let R=0;R<F.length;R++){const $=F[R];e.nativeScheduleMicroTask(()=>{throw $})}}}const p=function(v){return f(this,v,!1)},g=function(v){return f(this,v,!0)};function m(v,b){if(!v)return!1;let C=!0;b&&b.useG!==void 0&&(C=b.useG);const M=b&&b.vh;let T=!0;b&&b.chkDup!==void 0&&(T=b.chkDup);let F=!1;b&&b.rt!==void 0&&(F=b.rt);let R=v;for(;R&&!R.hasOwnProperty(i);)R=m0(R);if(!R&&v[i]&&(R=v),!R||R[l])return!1;const $=b&&b.eventNameToString,q={},K=R[l]=R[i],H=R[$e(s)]=R[s],ne=R[$e(o)]=R[o],He=R[$e(a)]=R[a];let Le;b&&b.prepend&&(Le=R[$e(b.prepend)]=R[b.prepend]);function Q(E,V){return!Al&&typeof E=="object"&&E?!!E.capture:!Al||!V?E:typeof E=="boolean"?{capture:E,passive:!0}:E?typeof E=="object"&&E.passive!==!1?{...E,passive:!0}:E:{passive:!0}}const j=function(E){if(!q.isExisting)return K.call(q.target,q.eventName,q.capture?g:p,q.options)},x=function(E){if(!E.isRemoved){const V=dr[E.eventName];let ie;V&&(ie=V[E.capture?as:ls]);const le=ie&&E.target[ie];if(le){for(let ee=0;ee<le.length;ee++)if(le[ee]===E){le.splice(ee,1),E.isRemoved=!0,E.removeAbortListener&&(E.removeAbortListener(),E.removeAbortListener=null),le.length===0&&(E.allRemoved=!0,E.target[ie]=null);break}}}if(E.allRemoved)return H.call(E.target,E.eventName,E.capture?g:p,E.options)},_=function(E){return K.call(q.target,q.eventName,E.invoke,q.options)},G=function(E){return Le.call(q.target,q.eventName,E.invoke,q.options)},re=function(E){return H.call(E.target,E.eventName,E.invoke,E.options)},ge=C?j:_,he=C?x:re,Go=function(E,V){const ie=typeof V;return ie==="function"&&E.callback===V||ie==="object"&&E.originalDelegate===V},Xi=b&&b.diff?b.diff:Go,Pr=Zone[$e("UNPATCHED_EVENTS")],hl=t[$e("PASSIVE_EVENTS")];function B(E){if(typeof E=="object"&&E!==null){const V={...E};return E.signal&&(V.signal=E.signal),V}return E}const L=function(E,V,ie,le,ee=!1,be=!1){return function(){const Ce=this||t;let Ee=arguments[0];b&&b.transferEventName&&(Ee=b.transferEventName(Ee));let nt=arguments[1];if(!nt)return E.apply(this,arguments);if(Wm&&Ee==="uncaughtException")return E.apply(this,arguments);let rt=!1;if(typeof nt!="function"){if(!nt.handleEvent)return E.apply(this,arguments);rt=!0}if(M&&!M(E,nt,Ce,arguments))return;const Ps=Al&&!!hl&&hl.indexOf(Ee)!==-1,pi=B(Q(arguments[2],Ps)),fl=pi?.signal;if(fl?.aborted)return;if(Pr){for(let gi=0;gi<Pr.length;gi++)if(Ee===Pr[gi])return Ps?E.call(Ce,Ee,nt,pi):E.apply(this,arguments)}const jv=pi?typeof pi=="boolean"?!0:pi.capture:!1,dM=pi&&typeof pi=="object"?pi.once:!1,MU=Zone.current;let Uv=dr[Ee];Uv||(pA(Ee,$),Uv=dr[Ee]);const hM=Uv[jv?as:ls];let pl=Ce[hM],fM=!1;if(pl){if(fM=!0,T){for(let gi=0;gi<pl.length;gi++)if(Xi(pl[gi],nt))return}}else pl=Ce[hM]=[];let Xh;const pM=Ce.constructor.name,gM=dA[pM];gM&&(Xh=gM[Ee]),Xh||(Xh=pM+V+($?$(Ee):Ee)),q.options=pi,dM&&(q.options.once=!1),q.target=Ce,q.capture=jv,q.eventName=Ee,q.isExisting=fM;const gu=C?FU:void 0;gu&&(gu.taskData=q),fl&&(q.options.signal=void 0);const Lr=MU.scheduleEventTask(Xh,nt,gu,ie,le);if(fl){q.options.signal=fl;const gi=()=>Lr.zone.cancelTask(Lr);E.call(fl,"abort",gi,{once:!0}),Lr.removeAbortListener=()=>fl.removeEventListener("abort",gi)}if(q.target=null,gu&&(gu.taskData=null),dM&&(q.options.once=!0),!Al&&typeof Lr.options=="boolean"||(Lr.options=pi),Lr.target=Ce,Lr.capture=jv,Lr.eventName=Ee,rt&&(Lr.originalDelegate=nt),be?pl.unshift(Lr):pl.push(Lr),ee)return Ce}};return R[i]=L(K,c,ge,he,F),Le&&(R[u]=L(Le,d,G,he,F,!0)),R[s]=function(){const E=this||t;let V=arguments[0];b&&b.transferEventName&&(V=b.transferEventName(V));const ie=arguments[2],le=ie?typeof ie=="boolean"?!0:ie.capture:!1,ee=arguments[1];if(!ee)return H.apply(this,arguments);if(M&&!M(H,ee,E,arguments))return;const be=dr[V];let Ce;be&&(Ce=be[le?as:ls]);const Ee=Ce&&E[Ce];if(Ee)for(let nt=0;nt<Ee.length;nt++){const rt=Ee[nt];if(Xi(rt,ee)){if(Ee.splice(nt,1),rt.isRemoved=!0,Ee.length===0&&(rt.allRemoved=!0,E[Ce]=null,!le&&typeof V=="string")){const Ps=ud+"ON_PROPERTY"+V;E[Ps]=null}return rt.zone.cancelTask(rt),F?E:void 0}}return H.apply(this,arguments)},R[o]=function(){const E=this||t;let V=arguments[0];b&&b.transferEventName&&(V=b.transferEventName(V));const ie=[],le=gA(E,$?$(V):V);for(let ee=0;ee<le.length;ee++){const be=le[ee];let Ce=be.originalDelegate?be.originalDelegate:be.callback;ie.push(Ce)}return ie},R[a]=function(){const E=this||t;let V=arguments[0];if(V){b&&b.transferEventName&&(V=b.transferEventName(V));const ie=dr[V];if(ie){const le=ie[ls],ee=ie[as],be=E[le],Ce=E[ee];if(be){const Ee=be.slice();for(let nt=0;nt<Ee.length;nt++){const rt=Ee[nt];let Ps=rt.originalDelegate?rt.originalDelegate:rt.callback;this[s].call(this,V,Ps,rt.options)}}if(Ce){const Ee=Ce.slice();for(let nt=0;nt<Ee.length;nt++){const rt=Ee[nt];let Ps=rt.originalDelegate?rt.originalDelegate:rt.callback;this[s].call(this,V,Ps,rt.options)}}}}else{const ie=Object.keys(E);for(let le=0;le<ie.length;le++){const ee=ie[le],be=hA.exec(ee);let Ce=be&&be[1];Ce&&Ce!=="removeListener"&&this[a].call(this,Ce)}this[a].call(this,"removeListener")}if(F)return this},hs(R[i],K),hs(R[s],H),He&&hs(R[a],He),ne&&hs(R[o],ne),!0}let y=[];for(let v=0;v<r.length;v++)y[v]=m(r[v],n);return y}function gA(t,e){if(!e){const s=[];for(let o in t){const a=hA.exec(o);let l=a&&a[1];if(l&&(!e||l===e)){const c=t[o];if(c)for(let u=0;u<c.length;u++)s.push(c[u])}}return s}let r=dr[e];r||(pA(e),r=dr[e]);const n=t[r[ls]],i=t[r[as]];return n?i?n.concat(i):n.slice():i?i.slice():[]}function VU(t,e){const r=t.Event;r&&r.prototype&&e.patchMethod(r.prototype,"stopImmediatePropagation",n=>function(i,s){i[fA]=!0,n&&n.apply(i,s)})}function HU(t,e){e.patchMethod(t,"queueMicrotask",r=>function(n,i){Zone.current.scheduleMicroTask("queueMicrotask",i[0])})}const Qh=$e("zoneTask");function gl(t,e,r,n){let i=null,s=null;e+=n,r+=n;const o={};function a(c){const u=c.data;u.args[0]=function(){return c.invoke.apply(this,arguments)};const d=i.apply(t,u.args);return wM(d)?u.handleId=d:(u.handle=d,u.isRefreshable=bM(d.refresh)),c}function l(c){const{handle:u,handleId:d}=c.data;return s.call(t,u??d)}i=ds(t,e,c=>function(u,d){if(bM(d[0])){const h={isRefreshable:!1,isPeriodic:n==="Interval",delay:n==="Timeout"||n==="Interval"?d[1]||0:void 0,args:d},f=d[0];d[0]=function(){try{return f.apply(this,arguments)}finally{const{handle:C,handleId:M,isPeriodic:T,isRefreshable:F}=h;!T&&!F&&(M?delete o[M]:C&&(C[Qh]=null))}};const p=w0(e,d[0],h,a,l);if(!p)return p;const{handleId:g,handle:m,isRefreshable:y,isPeriodic:v}=p.data;if(g)o[g]=p;else if(m&&(m[Qh]=p,y&&!v)){const b=m.refresh;m.refresh=function(){const{zone:C,state:M}=p;return M==="notScheduled"?(p._state="scheduled",C._updateTaskCount(p,1)):M==="running"&&(p._state="scheduling"),b.call(this)}}return m??g??p}else return c.apply(t,d)}),s=ds(t,r,c=>function(u,d){const h=d[0];let f;wM(h)?(f=o[h],delete o[h]):(f=h?.[Qh],f?h[Qh]=null:f=h),f?.type?f.cancelFn&&f.zone.cancelTask(f):c.apply(t,d)})}function jU(t,e){const{isBrowser:r,isMix:n}=e.getGlobalObjects();if(!r&&!n||!t.customElements||!("customElements"in t))return;const i=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];e.patchCallbacks(e,t.customElements,"customElements","define",i)}function UU(t,e){if(Zone[e.symbol("patchEventTarget")])return;const{eventNames:r,zoneSymbolEventNames:n,TRUE_STR:i,FALSE_STR:s,ZONE_SYMBOL_PREFIX:o}=e.getGlobalObjects();for(let l=0;l<r.length;l++){const c=r[l],u=c+s,d=c+i,h=o+u,f=o+d;n[c]={},n[c][s]=h,n[c][i]=f}const a=t.EventTarget;if(!(!a||!a.prototype))return e.patchEventTarget(t,e,[a&&a.prototype]),!0}function $U(t,e){e.patchEventPrototype(t,e)}function mA(t,e,r){if(!r||r.length===0)return e;const n=r.filter(s=>s.target===t);if(!n||n.length===0)return e;const i=n[0].ignoreProperties;return e.filter(s=>i.indexOf(s)===-1)}function _M(t,e,r,n){if(!t)return;const i=mA(t,e,r);uA(t,i,n)}function Iw(t){return Object.getOwnPropertyNames(t).filter(e=>e.startsWith("on")&&e.length>2).map(e=>e.substring(2))}function zU(t,e){if(Wm&&!cA||Zone[t.symbol("patchEvents")])return;const r=e.__Zone_ignore_on_properties;let n=[];if(C0){const i=window;n=n.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const s=PU()?[{target:i,ignoreProperties:["error"]}]:[];_M(i,Iw(i),r&&r.concat(s),m0(i))}n=n.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let i=0;i<n.length;i++){const s=e[n[i]];s&&s.prototype&&_M(s.prototype,Iw(s.prototype),r)}}function WU(t){t.__load_patch("legacy",e=>{const r=e[t.__symbol__("legacyPatch")];r&&r()}),t.__load_patch("timers",e=>{const r="set",n="clear";gl(e,r,n,"Timeout"),gl(e,r,n,"Interval"),gl(e,r,n,"Immediate")}),t.__load_patch("requestAnimationFrame",e=>{gl(e,"request","cancel","AnimationFrame"),gl(e,"mozRequest","mozCancel","AnimationFrame"),gl(e,"webkitRequest","webkitCancel","AnimationFrame")}),t.__load_patch("blocking",(e,r)=>{const n=["alert","prompt","confirm"];for(let i=0;i<n.length;i++){const s=n[i];ds(e,s,(o,a,l)=>function(c,u){return r.current.run(o,e,u,l)})}}),t.__load_patch("EventTarget",(e,r,n)=>{$U(e,n),UU(e,n);const i=e.XMLHttpRequestEventTarget;i&&i.prototype&&n.patchEventTarget(e,n,[i.prototype])}),t.__load_patch("MutationObserver",(e,r,n)=>{ku("MutationObserver"),ku("WebKitMutationObserver")}),t.__load_patch("IntersectionObserver",(e,r,n)=>{ku("IntersectionObserver")}),t.__load_patch("FileReader",(e,r,n)=>{ku("FileReader")}),t.__load_patch("on_property",(e,r,n)=>{zU(n,e)}),t.__load_patch("customElements",(e,r,n)=>{jU(e,n)}),t.__load_patch("XHR",(e,r)=>{c(e);const n=$e("xhrTask"),i=$e("xhrSync"),s=$e("xhrListener"),o=$e("xhrScheduled"),a=$e("xhrURL"),l=$e("xhrErrorBeforeScheduled");function c(u){const d=u.XMLHttpRequest;if(!d)return;const h=d.prototype;function f(K){return K[n]}let p=h[$v],g=h[zv];if(!p){const K=u.XMLHttpRequestEventTarget;if(K){const H=K.prototype;p=H[$v],g=H[zv]}}const m="readystatechange",y="scheduled";function v(K){const H=K.data,ne=H.target;ne[o]=!1,ne[l]=!1;const He=ne[s];p||(p=ne[$v],g=ne[zv]),He&&g.call(ne,m,He);const Le=ne[s]=()=>{if(ne.readyState===ne.DONE)if(!H.aborted&&ne[o]&&K.state===y){const j=ne[r.__symbol__("loadfalse")];if(ne.status!==0&&j&&j.length>0){const x=K.invoke;K.invoke=function(){const _=ne[r.__symbol__("loadfalse")];for(let G=0;G<_.length;G++)_[G]===K&&_.splice(G,1);!H.aborted&&K.state===y&&x.call(K)},j.push(K)}else K.invoke()}else!H.aborted&&ne[o]===!1&&(ne[l]=!0)};return p.call(ne,m,Le),ne[n]||(ne[n]=K),$.apply(ne,H.args),ne[o]=!0,K}function b(){}function C(K){const H=K.data;return H.aborted=!0,q.apply(H.target,H.args)}const M=ds(h,"open",()=>function(K,H){return K[i]=H[2]==!1,K[a]=H[1],M.apply(K,H)}),T="XMLHttpRequest.send",F=$e("fetchTaskAborting"),R=$e("fetchTaskScheduling"),$=ds(h,"send",()=>function(K,H){if(r.current[R]===!0||K[i])return $.apply(K,H);{const ne={target:K,url:K[a],isPeriodic:!1,args:H,aborted:!1},He=w0(T,b,ne,v,C);K&&K[l]===!0&&!ne.aborted&&He.state===y&&He.invoke()}}),q=ds(h,"abort",()=>function(K,H){const ne=f(K);if(ne&&typeof ne.type=="string"){if(ne.cancelFn==null||ne.data&&ne.data.aborted)return;ne.zone.cancelTask(ne)}else if(r.current[F]===!0)return q.apply(K,H)})}}),t.__load_patch("geolocation",e=>{e.navigator&&e.navigator.geolocation&&OU(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),t.__load_patch("PromiseRejectionEvent",(e,r)=>{function n(i){return function(s){gA(e,i).forEach(a=>{const l=e.PromiseRejectionEvent;if(l){const c=new l(i,{promise:s.promise,reason:s.rejection});a.invoke(c)}})}}e.PromiseRejectionEvent&&(r[$e("unhandledPromiseRejectionHandler")]=n("unhandledrejection"),r[$e("rejectionHandledHandler")]=n("rejectionhandled"))}),t.__load_patch("queueMicrotask",(e,r,n)=>{HU(e,n)})}function GU(t){t.__load_patch("ZoneAwarePromise",(e,r,n)=>{const i=Object.getOwnPropertyDescriptor,s=Object.defineProperty;function o(B){if(B&&B.toString===Object.prototype.toString){const L=B.constructor&&B.constructor.name;return(L||"")+": "+JSON.stringify(B)}return B?B.toString():Object.prototype.toString.call(B)}const a=n.symbol,l=[],c=e[a("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,u=a("Promise"),d=a("then"),h="__creationTrace__";n.onUnhandledError=B=>{if(n.showUncaughtError()){const L=B&&B.rejection;L?console.error("Unhandled Promise rejection:",L instanceof Error?L.message:L,"; Zone:",B.zone.name,"; Task:",B.task&&B.task.source,"; Value:",L,L instanceof Error?L.stack:void 0):console.error(B)}},n.microtaskDrainDone=()=>{for(;l.length;){const B=l.shift();try{B.zone.runGuarded(()=>{throw B.throwOriginal?B.rejection:B})}catch(L){p(L)}}};const f=a("unhandledPromiseRejectionHandler");function p(B){n.onUnhandledError(B);try{const L=r[f];typeof L=="function"&&L.call(this,B)}catch{}}function g(B){return B&&B.then}function m(B){return B}function y(B){return he.reject(B)}const v=a("state"),b=a("value"),C=a("finally"),M=a("parentPromiseValue"),T=a("parentPromiseState"),F="Promise.then",R=null,$=!0,q=!1,K=0;function H(B,L){return E=>{try{Q(B,L,E)}catch(V){Q(B,!1,V)}}}const ne=function(){let B=!1;return function(E){return function(){B||(B=!0,E.apply(null,arguments))}}},He="Promise resolved with itself",Le=a("currentTaskTrace");function Q(B,L,E){const V=ne();if(B===E)throw new TypeError(He);if(B[v]===R){let ie=null;try{(typeof E=="object"||typeof E=="function")&&(ie=E&&E.then)}catch(le){return V(()=>{Q(B,!1,le)})(),B}if(L!==q&&E instanceof he&&E.hasOwnProperty(v)&&E.hasOwnProperty(b)&&E[v]!==R)x(E),Q(B,E[v],E[b]);else if(L!==q&&typeof ie=="function")try{ie.call(E,V(H(B,L)),V(H(B,!1)))}catch(le){V(()=>{Q(B,!1,le)})()}else{B[v]=L;const le=B[b];if(B[b]=E,B[C]===C&&L===$&&(B[v]=B[T],B[b]=B[M]),L===q&&E instanceof Error){const ee=r.currentTask&&r.currentTask.data&&r.currentTask.data[h];ee&&s(E,Le,{configurable:!0,enumerable:!1,writable:!0,value:ee})}for(let ee=0;ee<le.length;)_(B,le[ee++],le[ee++],le[ee++],le[ee++]);if(le.length==0&&L==q){B[v]=K;let ee=E;try{throw new Error("Uncaught (in promise): "+o(E)+(E&&E.stack?`
`+E.stack:""))}catch(be){ee=be}c&&(ee.throwOriginal=!0),ee.rejection=E,ee.promise=B,ee.zone=r.current,ee.task=r.currentTask,l.push(ee),n.scheduleMicroTask()}}}return B}const j=a("rejectionHandledHandler");function x(B){if(B[v]===K){try{const L=r[j];L&&typeof L=="function"&&L.call(this,{rejection:B[b],promise:B})}catch{}B[v]=q;for(let L=0;L<l.length;L++)B===l[L].promise&&l.splice(L,1)}}function _(B,L,E,V,ie){x(B);const le=B[v],ee=le?typeof V=="function"?V:m:typeof ie=="function"?ie:y;L.scheduleMicroTask(F,()=>{try{const be=B[b],Ce=!!E&&C===E[C];Ce&&(E[M]=be,E[T]=le);const Ee=L.run(ee,void 0,Ce&&ee!==y&&ee!==m?[]:[be]);Q(E,!0,Ee)}catch(be){Q(E,!1,be)}},E)}const G="function ZoneAwarePromise() { [native code] }",re=function(){},ge=e.AggregateError;class he{static toString(){return G}static resolve(L){return L instanceof he?L:Q(new this(null),$,L)}static reject(L){return Q(new this(null),q,L)}static withResolvers(){const L={};return L.promise=new he((E,V)=>{L.resolve=E,L.reject=V}),L}static any(L){if(!L||typeof L[Symbol.iterator]!="function")return Promise.reject(new ge([],"All promises were rejected"));const E=[];let V=0;try{for(let ee of L)V++,E.push(he.resolve(ee))}catch{return Promise.reject(new ge([],"All promises were rejected"))}if(V===0)return Promise.reject(new ge([],"All promises were rejected"));let ie=!1;const le=[];return new he((ee,be)=>{for(let Ce=0;Ce<E.length;Ce++)E[Ce].then(Ee=>{ie||(ie=!0,ee(Ee))},Ee=>{le.push(Ee),V--,V===0&&(ie=!0,be(new ge(le,"All promises were rejected")))})})}static race(L){let E,V,ie=new this((be,Ce)=>{E=be,V=Ce});function le(be){E(be)}function ee(be){V(be)}for(let be of L)g(be)||(be=this.resolve(be)),be.then(le,ee);return ie}static all(L){return he.allWithCallback(L)}static allSettled(L){return(this&&this.prototype instanceof he?this:he).allWithCallback(L,{thenCallback:V=>({status:"fulfilled",value:V}),errorCallback:V=>({status:"rejected",reason:V})})}static allWithCallback(L,E){let V,ie,le=new this((Ee,nt)=>{V=Ee,ie=nt}),ee=2,be=0;const Ce=[];for(let Ee of L){g(Ee)||(Ee=this.resolve(Ee));const nt=be;try{Ee.then(rt=>{Ce[nt]=E?E.thenCallback(rt):rt,ee--,ee===0&&V(Ce)},rt=>{E?(Ce[nt]=E.errorCallback(rt),ee--,ee===0&&V(Ce)):ie(rt)})}catch(rt){ie(rt)}ee++,be++}return ee-=2,ee===0&&V(Ce),le}constructor(L){const E=this;if(!(E instanceof he))throw new Error("Must be an instanceof Promise.");E[v]=R,E[b]=[];try{const V=ne();L&&L(V(H(E,$)),V(H(E,q)))}catch(V){Q(E,!1,V)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return he}then(L,E){let V=this.constructor?.[Symbol.species];(!V||typeof V!="function")&&(V=this.constructor||he);const ie=new V(re),le=r.current;return this[v]==R?this[b].push(le,ie,L,E):_(this,le,ie,L,E),ie}catch(L){return this.then(null,L)}finally(L){let E=this.constructor?.[Symbol.species];(!E||typeof E!="function")&&(E=he);const V=new E(re);V[C]=C;const ie=r.current;return this[v]==R?this[b].push(ie,V,L,L):_(this,ie,V,L,L),V}}he.resolve=he.resolve,he.reject=he.reject,he.race=he.race,he.all=he.all;const Go=e[u]=e.Promise;e.Promise=he;const Xi=a("thenPatched");function Pr(B){const L=B.prototype,E=i(L,"then");if(E&&(E.writable===!1||!E.configurable))return;const V=L.then;L[d]=V,B.prototype.then=function(ie,le){return new he((be,Ce)=>{V.call(this,be,Ce)}).then(ie,le)},B[Xi]=!0}n.patchThen=Pr;function hl(B){return function(L,E){let V=B.apply(L,E);if(V instanceof he)return V;let ie=V.constructor;return ie[Xi]||Pr(ie),V}}return Go&&(Pr(Go),ds(e,"fetch",B=>hl(B))),Promise[r.__symbol__("uncaughtPromiseErrors")]=l,he})}function qU(t){t.__load_patch("toString",e=>{const r=Function.prototype.toString,n=$e("OriginalDelegate"),i=$e("Promise"),s=$e("Error"),o=function(){if(typeof this=="function"){const u=this[n];if(u)return typeof u=="function"?r.call(u):Object.prototype.toString.call(u);if(this===Promise){const d=e[i];if(d)return r.call(d)}if(this===Error){const d=e[s];if(d)return r.call(d)}}return r.call(this)};o[n]=r,Function.prototype.toString=o;const a=Object.prototype.toString,l="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?l:a.call(this)}})}function KU(t,e,r,n,i){const s=Zone.__symbol__(n);if(e[s])return;const o=e[s]=e[n];e[n]=function(a,l,c){return l&&l.prototype&&i.forEach(function(u){const d=`${r}.${n}::`+u,h=l.prototype;try{if(h.hasOwnProperty(u)){const f=t.ObjectGetOwnPropertyDescriptor(h,u);f&&f.value?(f.value=t.wrapWithCurrentZone(f.value,d),t._redefineProperty(l.prototype,u,f)):h[u]&&(h[u]=t.wrapWithCurrentZone(h[u],d))}else h[u]&&(h[u]=t.wrapWithCurrentZone(h[u],d))}catch{}}),o.call(e,a,l,c)},t.attachOriginToPatched(e[n],o)}function ZU(t){t.__load_patch("util",(e,r,n)=>{const i=Iw(e);n.patchOnProperties=uA,n.patchMethod=ds,n.bindArguments=_0,n.patchMacroTask=NU;const s=r.__symbol__("BLACK_LISTED_EVENTS"),o=r.__symbol__("UNPATCHED_EVENTS");e[o]&&(e[s]=e[o]),e[s]&&(r[s]=r[o]=e[s]),n.patchEventPrototype=VU,n.patchEventTarget=BU,n.isIEOrEdge=LU,n.ObjectDefineProperty=g0,n.ObjectGetOwnPropertyDescriptor=cd,n.ObjectCreate=IU,n.ArraySlice=xU,n.patchClass=ku,n.wrapWithCurrentZone=b0,n.filterProperties=mA,n.attachOriginToPatched=hs,n._redefineProperty=Object.defineProperty,n.patchCallbacks=KU,n.getGlobalObjects=()=>({globalSources:dA,zoneSymbolEventNames:dr,eventNames:i,isBrowser:C0,isMix:cA,isNode:Wm,TRUE_STR:as,FALSE_STR:ls,ZONE_SYMBOL_PREFIX:ud,ADD_EVENT_LISTENER_STR:y0,REMOVE_EVENT_LISTENER_STR:v0})})}function YU(t){GU(t),qU(t),ZU(t)}const yA=TU();YU(yA);WU(yA);/**
 * @license Angular v18.2.0
 * (c) 2010-2024 Google LLC. https://angular.io/
 * License: MIT
 */function vA(t,e){return Object.is(t,e)}let Bt=null,Bu=!1,Zf=1;const Er=Symbol("SIGNAL");function pe(t){const e=Bt;return Bt=t,e}function JU(){return Bt}function XU(){return Bu}const ih={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Gm(t){if(Bu)throw new Error("");if(Bt===null)return;Bt.consumerOnSignalRead(t);const e=Bt.nextProducerIndex++;if(Km(Bt),e<Bt.producerNode.length&&Bt.producerNode[e]!==t&&dd(Bt)){const r=Bt.producerNode[e];qm(r,Bt.producerIndexOfThis[e])}Bt.producerNode[e]!==t&&(Bt.producerNode[e]=t,Bt.producerIndexOfThis[e]=dd(Bt)?EA(t,Bt,e):0),Bt.producerLastReadVersion[e]=t.version}function QU(){Zf++}function bA(t){if(!(dd(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Zf)){if(!t.producerMustRecompute(t)&&!D0(t)){t.dirty=!1,t.lastCleanEpoch=Zf;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Zf}}function wA(t){if(t.liveConsumerNode===void 0)return;const e=Bu;Bu=!0;try{for(const r of t.liveConsumerNode)r.dirty||CA(r)}finally{Bu=e}}function _A(){return Bt?.consumerAllowSignalWrites!==!1}function CA(t){t.dirty=!0,wA(t),t.consumerMarkedDirty?.(t)}function Rp(t){return t&&(t.nextProducerIndex=0),pe(t)}function E0(t,e){if(pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(dd(t))for(let r=t.nextProducerIndex;r<t.producerNode.length;r++)qm(t.producerNode[r],t.producerIndexOfThis[r]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function D0(t){Km(t);for(let e=0;e<t.producerNode.length;e++){const r=t.producerNode[e],n=t.producerLastReadVersion[e];if(n!==r.version||(bA(r),n!==r.version))return!0}return!1}function k0(t){if(Km(t),dd(t))for(let e=0;e<t.producerNode.length;e++)qm(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function EA(t,e,r){if(DA(t),t.liveConsumerNode.length===0&&kA(t))for(let n=0;n<t.producerNode.length;n++)t.producerIndexOfThis[n]=EA(t.producerNode[n],t,n);return t.liveConsumerIndexOfThis.push(r),t.liveConsumerNode.push(e)-1}function qm(t,e){if(DA(t),t.liveConsumerNode.length===1&&kA(t))for(let n=0;n<t.producerNode.length;n++)qm(t.producerNode[n],t.producerIndexOfThis[n]);const r=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[r],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[r],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const n=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Km(i),i.producerIndexOfThis[n]=e}}function dd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Km(t){t.producerNode??(t.producerNode=[]),t.producerIndexOfThis??(t.producerIndexOfThis=[]),t.producerLastReadVersion??(t.producerLastReadVersion=[])}function DA(t){t.liveConsumerNode??(t.liveConsumerNode=[]),t.liveConsumerIndexOfThis??(t.liveConsumerIndexOfThis=[])}function kA(t){return t.producerNode!==void 0}function MA(t){const e=Object.create(e$);e.computation=t;const r=()=>{if(bA(e),Gm(e),e.value===Yf)throw e.error;return e.value};return r[Er]=e,r}const Gv=Symbol("UNSET"),qv=Symbol("COMPUTING"),Yf=Symbol("ERRORED"),e$={...ih,value:Gv,dirty:!0,error:null,equal:vA,producerMustRecompute(t){return t.value===Gv||t.value===qv},producerRecomputeValue(t){if(t.value===qv)throw new Error("Detected cycle in computations.");const e=t.value;t.value=qv;const r=Rp(t);let n;try{n=t.computation()}catch(i){n=Yf,t.error=i}finally{E0(t,r)}if(e!==Gv&&e!==Yf&&n!==Yf&&t.equal(e,n)){t.value=e;return}t.value=n,t.version++}};function t$(){throw new Error}let SA=t$;function TA(){SA()}function n$(t){SA=t}function r$(t){const e=Object.create(IA);e.value=t;const r=()=>(Gm(e),e.value);return r[Er]=e,r}function Zm(t,e){_A()||TA(),t.equal(t.value,e)||(t.value=e,s$(t))}function i$(t,e){_A()||TA(),Zm(t,e(t.value))}const IA={...ih,equal:vA,value:void 0};function s$(t){t.version++,QU(),wA(t)}function o$(t,e,r){const n=Object.create(a$);r&&(n.consumerAllowSignalWrites=!0),n.fn=t,n.schedule=e;const i=l=>{n.cleanupFn=l};function s(l){return l.fn===null&&l.schedule===null}function o(l){s(l)||(k0(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=xw)}const a=()=>{if(n.fn===null)return;if(XU())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(n.dirty=!1,n.hasRun&&!D0(n))return;n.hasRun=!0;const l=Rp(n);try{n.cleanupFn(),n.cleanupFn=xw,n.fn(i)}finally{E0(n,l)}};return n.ref={notify:()=>CA(n),run:a,cleanup:()=>n.cleanupFn(),destroy:()=>o(n),[Er]:n},n.ref}const xw=()=>{},a$={...ih,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:xw};var Aw=function(t,e){return Aw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Aw(t,e)};function ii(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Aw(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function l$(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function xA(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function wa(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ac(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function hd(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function Ul(t){return this instanceof Ul?(this.v=t,this):new Ul(t)}function c$(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){n[f]&&(i[f]=function(g){return new Promise(function(m,y){s.push([f,g,m,y])>1||l(f,g)})},p&&(i[f]=p(i[f])))}function l(f,p){try{c(n[f](p))}catch(g){h(s[0][3],g)}}function c(f){f.value instanceof Ul?Promise.resolve(f.value.v).then(u,d):h(s[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),s.shift(),s.length&&l(s[0][0],s[0][1])}}function u$(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof wa=="function"?wa(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}function Ve(t){return typeof t=="function"}function M0(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Kv=M0(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function Np(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var vn=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,r,n,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=wa(o),l=a.next();!l.done;l=a.next()){var c=l.value;c.remove(this)}}catch(g){e={error:g}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}else o.remove(this);var u=this.initialTeardown;if(Ve(u))try{u()}catch(g){s=g instanceof Kv?g.errors:[g]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var h=wa(d),f=h.next();!f.done;f=h.next()){var p=f.value;try{CM(p)}catch(g){s=s??[],g instanceof Kv?s=hd(hd([],ac(s)),ac(g.errors)):s.push(g)}}}catch(g){n={error:g}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}}if(s)throw new Kv(s)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)CM(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&Np(r,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&Np(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),AA=vn.EMPTY;function OA(t){return t instanceof vn||t&&"closed"in t&&Ve(t.remove)&&Ve(t.add)&&Ve(t.unsubscribe)}function CM(t){Ve(t)?t():t.unsubscribe()}var RA={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},NA={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,hd([t,e],ac(r)))},clearTimeout:function(t){var e=NA.delegate;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function PA(t){NA.setTimeout(function(){throw t})}function Ow(){}function Jf(t){t()}var S0=function(t){ii(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,OA(r)&&r.add(n)):n.destination=p$,n}return e.create=function(r,n,i){return new Pp(r,n,i)},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(vn),d$=Function.prototype.bind;function Zv(t,e){return d$.call(t,e)}var h$=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(n){ef(n)}},t.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(n){ef(n)}else ef(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){ef(r)}},t}(),Pp=function(t){ii(e,t);function e(r,n,i){var s=t.call(this)||this,o;if(Ve(r)||!r)o={next:r??void 0,error:n??void 0,complete:i??void 0};else{var a;s&&RA.useDeprecatedNextContext?(a=Object.create(r),a.unsubscribe=function(){return s.unsubscribe()},o={next:r.next&&Zv(r.next,a),error:r.error&&Zv(r.error,a),complete:r.complete&&Zv(r.complete,a)}):o=r}return s.destination=new h$(o),s}return e}(S0);function ef(t){PA(t)}function f$(t){throw t}var p$={closed:!0,next:Ow,error:f$,complete:Ow},T0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function To(t){return t}function g$(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return LA(t)}function LA(t){return t.length===0?To:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var ut=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this,s=y$(e)?e:new Pp(e,r,n);return Jf(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=EM(r),new r(function(i,s){var o=new Pp({next:function(a){try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});n.subscribe(o)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[T0]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return LA(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=EM(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function EM(t){var e;return(e=t??RA.Promise)!==null&&e!==void 0?e:Promise}function m$(t){return t&&Ve(t.next)&&Ve(t.error)&&Ve(t.complete)}function y$(t){return t&&t instanceof S0||m$(t)&&OA(t)}function FA(t){return Ve(t?.lift)}function Ft(t){return function(e){if(FA(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function gt(t,e,r,n,i){return new v$(t,e,r,n,i)}var v$=function(t){ii(e,t);function e(r,n,i,s,o,a){var l=t.call(this,r)||this;return l.onFinalize=o,l.shouldUnsubscribe=a,l._next=n?function(c){try{n(c)}catch(u){r.error(u)}}:t.prototype._next,l._error=s?function(c){try{s(c)}catch(u){r.error(u)}finally{this.unsubscribe()}}:t.prototype._error,l._complete=i?function(){try{i()}catch(c){r.error(c)}finally{this.unsubscribe()}}:t.prototype._complete,l}return e.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},e}(S0);function Rw(){return Ft(function(t,e){var r=null;t._refCount++;var n=gt(e,void 0,void 0,void 0,function(){if(!t||t._refCount<=0||0<--t._refCount){r=null;return}var i=t._connection,s=r;r=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(r=t.connect())})}var DM=function(t){ii(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._subject=null,i._refCount=0,i._connection=null,FA(r)&&(i.lift=r.lift),i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype._teardown=function(){this._refCount=0;var r=this._connection;this._subject=this._connection=null,r?.unsubscribe()},e.prototype.connect=function(){var r=this,n=this._connection;if(!n){n=this._connection=new vn;var i=this.getSubject();n.add(this.source.subscribe(gt(i,void 0,function(){r._teardown(),i.complete()},function(s){r._teardown(),i.error(s)},function(){return r._teardown()}))),n.closed&&(this._connection=null,n=vn.EMPTY)}return n},e.prototype.refCount=function(){return Rw()(this)},e}(ut),b$=M0(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),de=function(t){ii(e,t);function e(){var r=t.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype.lift=function(r){var n=new kM(this,this);return n.operator=r,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new b$},e.prototype.next=function(r){var n=this;Jf(function(){var i,s;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var o=wa(n.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(r)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(r){var n=this;Jf(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},e.prototype.complete=function(){var r=this;Jf(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(r){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},e.prototype._innerSubscribe=function(r){var n=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?AA:(this.currentObservers=null,a.push(r),new vn(function(){n.currentObservers=null,Np(a,r)}))},e.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,s=n.thrownError,o=n.isStopped;i?r.error(s):o&&r.complete()},e.prototype.asObservable=function(){var r=new ut;return r.source=this,r},e.create=function(r,n){return new kM(r,n)},e}(ut),kM=function(t){ii(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},e.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},e.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},e.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:AA},e}(de),An=function(t){ii(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){var r=this,n=r.hasError,i=r.thrownError,s=r._value;if(n)throw i;return this._throwIfClosed(),s},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(de),I0={now:function(){return(I0.delegate||Date).now()},delegate:void 0},Ppe=function(t){ii(e,t);function e(r,n,i){r===void 0&&(r=1/0),n===void 0&&(n=1/0),i===void 0&&(i=I0);var s=t.call(this)||this;return s._bufferSize=r,s._windowTime=n,s._timestampProvider=i,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=n===1/0,s._bufferSize=Math.max(1,r),s._windowTime=Math.max(1,n),s}return e.prototype.next=function(r){var n=this,i=n.isStopped,s=n._buffer,o=n._infiniteTimeWindow,a=n._timestampProvider,l=n._windowTime;i||(s.push(r),!o&&s.push(a.now()+l)),this._trimBuffer(),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(r),i=this,s=i._infiniteTimeWindow,o=i._buffer,a=o.slice(),l=0;l<a.length&&!r.closed;l+=s?1:2)r.next(a[l]);return this._checkFinalizedStatuses(r),n},e.prototype._trimBuffer=function(){var r=this,n=r._bufferSize,i=r._timestampProvider,s=r._buffer,o=r._infiniteTimeWindow,a=(o?1:2)*n;if(n<1/0&&a<s.length&&s.splice(0,s.length-a),!o){for(var l=i.now(),c=0,u=1;u<s.length&&s[u]<=l;u+=2)c=u;c&&s.splice(0,c+1)}},e}(de),w$=function(t){ii(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(vn),Nw={setInterval:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setInterval.apply(void 0,hd([t,e],ac(r)))},clearInterval:function(t){var e=Nw.delegate;return(e?.clearInterval||clearInterval)(t)},delegate:void 0},_$=function(t){ii(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){var i;if(n===void 0&&(n=0),this.closed)return this;this.state=r;var s=this.id,o=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(o,s,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),Nw.setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Nw.clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s;try{this.work(r)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s},e.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,i=r.scheduler,s=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Np(s,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(w$),MM=function(){function t(e,r){r===void 0&&(r=t.now),this.schedulerActionCtor=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,e).schedule(n,r)},t.now=I0.now,t}(),C$=function(t){ii(e,t);function e(r,n){n===void 0&&(n=MM.now);var i=t.call(this,r,n)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var i;this._active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(MM),x0=new C$(_$),E$=x0,fr=new ut(function(t){return t.complete()});function BA(t){return t&&Ve(t.schedule)}function A0(t){return t[t.length-1]}function VA(t){return Ve(A0(t))?t.pop():void 0}function sh(t){return BA(A0(t))?t.pop():void 0}function D$(t,e){return typeof A0(t)=="number"?t.pop():e}var O0=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function HA(t){return Ve(t?.then)}function jA(t){return Ve(t[T0])}function UA(t){return Symbol.asyncIterator&&Ve(t?.[Symbol.asyncIterator])}function $A(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function k$(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var zA=k$();function WA(t){return Ve(t?.[zA])}function GA(t){return c$(this,arguments,function(){var r,n,i,s;return xA(this,function(o){switch(o.label){case 0:r=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Ul(r.read())];case 3:return n=o.sent(),i=n.value,s=n.done,s?[4,Ul(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Ul(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function qA(t){return Ve(t?.getReader)}function nr(t){if(t instanceof ut)return t;if(t!=null){if(jA(t))return M$(t);if(O0(t))return S$(t);if(HA(t))return T$(t);if(UA(t))return KA(t);if(WA(t))return I$(t);if(qA(t))return x$(t)}throw $A(t)}function M$(t){return new ut(function(e){var r=t[T0]();if(Ve(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function S$(t){return new ut(function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function T$(t){return new ut(function(e){t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,PA)})}function I$(t){return new ut(function(e){var r,n;try{for(var i=wa(t),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}e.complete()})}function KA(t){return new ut(function(e){A$(t,e).catch(function(r){return e.error(r)})})}function x$(t){return KA(GA(t))}function A$(t,e){var r,n,i,s;return l$(this,void 0,void 0,function(){var o,a;return xA(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),r=u$(t),l.label=1;case 1:return[4,r.next()];case 2:if(n=l.sent(),!!n.done)return[3,4];if(o=n.value,e.next(o),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),i={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),n&&!n.done&&(s=r.return)?[4,s.call(r)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function no(t,e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var s=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(s),!i)return s}function ZA(t,e){return e===void 0&&(e=0),Ft(function(r,n){r.subscribe(gt(n,function(i){return no(n,t,function(){return n.next(i)},e)},function(){return no(n,t,function(){return n.complete()},e)},function(i){return no(n,t,function(){return n.error(i)},e)}))})}function YA(t,e){return e===void 0&&(e=0),Ft(function(r,n){n.add(t.schedule(function(){return r.subscribe(n)},e))})}function O$(t,e){return nr(t).pipe(YA(e),ZA(e))}function R$(t,e){return nr(t).pipe(YA(e),ZA(e))}function N$(t,e){return new ut(function(r){var n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}function P$(t,e){return new ut(function(r){var n;return no(r,e,function(){n=t[zA](),no(r,e,function(){var i,s,o;try{i=n.next(),s=i.value,o=i.done}catch(a){r.error(a);return}o?r.complete():r.next(s)},0,!0)}),function(){return Ve(n?.return)&&n.return()}})}function JA(t,e){if(!t)throw new Error("Iterable cannot be null");return new ut(function(r){no(r,e,function(){var n=t[Symbol.asyncIterator]();no(r,e,function(){n.next().then(function(i){i.done?r.complete():r.next(i.value)})},0,!0)})})}function L$(t,e){return JA(GA(t),e)}function F$(t,e){if(t!=null){if(jA(t))return O$(t,e);if(O0(t))return N$(t,e);if(HA(t))return R$(t,e);if(UA(t))return JA(t,e);if(WA(t))return P$(t,e);if(qA(t))return L$(t,e)}throw $A(t)}function bt(t,e){return e?F$(t,e):nr(t)}function J(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=sh(t);return bt(t,r)}function cs(t,e){var r=Ve(t)?t:function(){return t},n=function(i){return i.error(r())};return new ut(n)}function Ym(t){return!!t&&(t instanceof ut||Ve(t.lift)&&Ve(t.subscribe))}var oh=M0(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function XA(t,e){return new Promise(function(r,n){var i=new Pp({next:function(s){r(s),i.unsubscribe()},error:n,complete:function(){n(new oh)}});t.subscribe(i)})}function B$(t){return t instanceof Date&&!isNaN(t)}function ke(t,e){return Ft(function(r,n){var i=0;r.subscribe(gt(n,function(s){n.next(t.call(e,s,i++))}))})}var V$=Array.isArray;function H$(t,e){return V$(e)?t.apply(void 0,hd([],ac(e))):t(e)}function R0(t){return ke(function(e){return H$(t,e)})}var j$=Array.isArray,U$=Object.getPrototypeOf,$$=Object.prototype,z$=Object.keys;function QA(t){if(t.length===1){var e=t[0];if(j$(e))return{args:e,keys:null};if(W$(e)){var r=z$(e);return{args:r.map(function(n){return e[n]}),keys:r}}}return{args:t,keys:null}}function W$(t){return t&&typeof t=="object"&&U$(t)===$$}function eO(t,e){return t.reduce(function(r,n,i){return r[n]=e[i],r},{})}function N0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=sh(t),n=VA(t),i=QA(t),s=i.args,o=i.keys;if(s.length===0)return bt([],r);var a=new ut(G$(s,r,o?function(l){return eO(o,l)}:To));return n?a.pipe(R0(n)):a}function G$(t,e,r){return r===void 0&&(r=To),function(n){SM(e,function(){for(var i=t.length,s=new Array(i),o=i,a=i,l=function(u){SM(e,function(){var d=bt(t[u],e),h=!1;d.subscribe(gt(n,function(f){s[u]=f,h||(h=!0,a--),a||n.next(r(s.slice()))},function(){--o||n.complete()}))},n)},c=0;c<i;c++)l(c)},n)}}function SM(t,e,r){t?no(r,t,e):e()}function q$(t,e,r,n,i,s,o,a){var l=[],c=0,u=0,d=!1,h=function(){d&&!l.length&&!c&&e.complete()},f=function(g){return c<n?p(g):l.push(g)},p=function(g){c++;var m=!1;nr(r(g,u++)).subscribe(gt(e,function(y){e.next(y)},function(){m=!0},void 0,function(){if(m)try{c--;for(var y=function(){var v=l.shift();o||p(v)};l.length&&c<n;)y();h()}catch(v){e.error(v)}}))};return t.subscribe(gt(e,f,function(){d=!0,h()})),function(){}}function Nt(t,e,r){return r===void 0&&(r=1/0),Ve(e)?Nt(function(n,i){return ke(function(s,o){return e(n,s,i,o)})(nr(t(n,i)))},r):(typeof e=="number"&&(r=e),Ft(function(n,i){return q$(n,i,t,r)}))}function bs(t){return t===void 0&&(t=1/0),Nt(To,t)}function K$(){return bs(1)}function Pw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return K$()(bt(t,sh(t)))}function fd(t){return new ut(function(e){nr(t()).subscribe(e)})}function tO(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=VA(t),n=QA(t),i=n.args,s=n.keys,o=new ut(function(a){var l=i.length;if(!l){a.complete();return}for(var c=new Array(l),u=l,d=l,h=function(p){var g=!1;nr(i[p]).subscribe(gt(a,function(m){g||(g=!0,d--),c[p]=m},function(){return u--},void 0,function(){(!u||!g)&&(d||a.next(s?eO(s,c):c),a.complete())}))},f=0;f<l;f++)h(f)});return r?o.pipe(R0(r)):o}var Z$=["addListener","removeListener"],Y$=["addEventListener","removeEventListener"],J$=["on","off"];function go(t,e,r,n){if(Ve(r)&&(n=r,r=void 0),n)return go(t,e,r).pipe(R0(n));var i=ac(ez(t)?Y$.map(function(a){return function(l){return t[a](e,l,r)}}):X$(t)?Z$.map(TM(t,e)):Q$(t)?J$.map(TM(t,e)):[],2),s=i[0],o=i[1];if(!s&&O0(t))return Nt(function(a){return go(a,e,r)})(nr(t));if(!s)throw new TypeError("Invalid event target");return new ut(function(a){var l=function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return a.next(1<c.length?c:c[0])};return s(l),function(){return o(l)}})}function TM(t,e){return function(r){return function(n){return t[r](e,n)}}}function X$(t){return Ve(t.addListener)&&Ve(t.removeListener)}function Q$(t){return Ve(t.on)&&Ve(t.off)}function ez(t){return Ve(t.addEventListener)&&Ve(t.removeEventListener)}function tz(t,e,r){t===void 0&&(t=0),r===void 0&&(r=E$);var n=-1;return e!=null&&(BA(e)?r=e:n=e),new ut(function(i){var s=B$(t)?+t-r.now():t;s<0&&(s=0);var o=0;return r.schedule(function(){i.closed||(i.next(o++),0<=n?this.schedule(void 0,n):i.complete())},s)})}function Jm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=sh(t),n=D$(t,1/0),i=t;return i.length?i.length===1?nr(i[0]):bs(n)(bt(i,r)):fr}function Zt(t,e){return Ft(function(r,n){var i=0;r.subscribe(gt(n,function(s){return t.call(e,s,i++)&&n.next(s)}))})}function nz(t){return Ft(function(e,r){var n=!1,i=null,s=null,o=!1,a=function(){if(s?.unsubscribe(),s=null,n){n=!1;var c=i;i=null,r.next(c)}o&&r.complete()},l=function(){s=null,o&&r.complete()};e.subscribe(gt(r,function(c){n=!0,i=c,s||nr(t(c)).subscribe(s=gt(r,a,l))},function(){o=!0,(!n||!s||s.closed)&&r.complete()}))})}function nO(t,e){return e===void 0&&(e=x0),nz(function(){return tz(t,e)})}function ca(t){return Ft(function(e,r){var n=null,i=!1,s;n=e.subscribe(gt(r,void 0,void 0,function(o){s=nr(t(o,ca(t)(e))),n?(n.unsubscribe(),n=null,s.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,s.subscribe(r))})}function rz(t,e,r,n,i){return function(s,o){var a=r,l=e,c=0;s.subscribe(gt(o,function(u){var d=c++;l=a?t(l,u,d):(a=!0,u),o.next(l)},i))}}function lc(t,e){return Ve(e)?Nt(t,e,1):Nt(t,1)}function Xm(t,e){return e===void 0&&(e=x0),Ft(function(r,n){var i=null,s=null,o=null,a=function(){if(i){i.unsubscribe(),i=null;var c=s;s=null,n.next(c)}};function l(){var c=o+t,u=e.now();if(u<c){i=this.schedule(void 0,c-u),n.add(i);return}a()}r.subscribe(gt(n,function(c){s=c,o=e.now(),i||(i=e.schedule(l,t),n.add(i))},function(){a(),n.complete()},void 0,function(){s=i=null}))})}function Qm(t){return Ft(function(e,r){var n=!1;e.subscribe(gt(r,function(i){n=!0,r.next(i)},function(){n||r.next(t),r.complete()}))})}function Dr(t){return t<=0?function(){return fr}:Ft(function(e,r){var n=0;e.subscribe(gt(r,function(i){++n<=t&&(r.next(i),t<=n&&r.complete())}))})}function Lp(t){return ke(function(){return t})}function rO(t,e){return e===void 0&&(e=To),t=t??iz,Ft(function(r,n){var i,s=!0;r.subscribe(gt(n,function(o){var a=e(o);(s||!t(i,a))&&(s=!1,i=a,n.next(o))}))})}function iz(t,e){return t===e}function iO(t){return t===void 0&&(t=sz),Ft(function(e,r){var n=!1;e.subscribe(gt(r,function(i){n=!0,r.next(i)},function(){return n?r.complete():r.error(t())}))})}function sz(){return new oh}function Fp(t){return Ft(function(e,r){try{e.subscribe(r)}finally{r.add(t)}})}function Io(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Zt(function(i,s){return t(i,s,n)}):To,Dr(1),r?Qm(e):iO(function(){return new oh}))}}function P0(t){return t<=0?function(){return fr}:Ft(function(e,r){var n=[];e.subscribe(gt(r,function(i){n.push(i),t<n.length&&n.shift()},function(){var i,s;try{for(var o=wa(n),a=o.next();!a.done;a=o.next()){var l=a.value;r.next(l)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}r.complete()},void 0,function(){n=null}))})}function oz(t,e){var r=arguments.length>=2;return function(n){return n.pipe(To,P0(1),r?Qm(e):iO(function(){return new oh}))}}function az(t,e){return Ft(rz(t,e,arguments.length>=2,!0))}function lz(t){return Zt(function(e,r){return t<=r})}function cc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=sh(t);return Ft(function(n,i){(r?Pw(t,n,r):Pw(t,n)).subscribe(i)})}function gn(t,e){return Ft(function(r,n){var i=null,s=0,o=!1,a=function(){return o&&!i&&n.complete()};r.subscribe(gt(n,function(l){i?.unsubscribe();var c=0,u=s++;nr(t(l,u)).subscribe(i=gt(n,function(d){return n.next(e?e(l,d,u,c++):d)},function(){i=null,a()}))},function(){o=!0,a()}))})}function qe(t){return Ft(function(e,r){nr(t).subscribe(gt(r,function(){return r.complete()},Ow)),!r.closed&&e.subscribe(r)})}function Tt(t,e,r){var n=Ve(t)||e||r?{next:t,error:e,complete:r}:t;return n?Ft(function(i,s){var o;(o=n.subscribe)===null||o===void 0||o.call(n);var a=!0;i.subscribe(gt(s,function(l){var c;(c=n.next)===null||c===void 0||c.call(n,l),s.next(l)},function(){var l;a=!1,(l=n.complete)===null||l===void 0||l.call(n),s.complete()},function(l){var c;a=!1,(c=n.error)===null||c===void 0||c.call(n,l),s.error(l)},function(){var l,c;a&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(c=n.finalize)===null||c===void 0||c.call(n)}))}):To}/**
 * @license Angular v18.2.0
 * (c) 2010-2024 Google LLC. https://angular.io/
 * License: MIT
 */const Ut={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},cz=[Ut.CLICK,Ut.DBLCLICK,Ut.FOCUSIN,Ut.FOCUSOUT,Ut.KEYDOWN,Ut.KEYUP,Ut.KEYPRESS,Ut.MOUSEOVER,Ut.MOUSEOUT,Ut.SUBMIT,Ut.TOUCHSTART,Ut.TOUCHEND,Ut.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],uz=[Ut.FOCUS,Ut.BLUR,Ut.ERROR,Ut.LOAD,Ut.TOGGLE],Lpe=cz.concat(uz);/**
 * @license Angular v18.2.0
 * (c) 2010-2024 Google LLC. https://angular.io/
 * License: MIT
 */const sO="https://g.co/ng/security#xss";class z extends Error{constructor(e,r){super(dz(e,r)),this.code=e}}function dz(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}const ey=Symbol("InputSignalNode#UNSET"),oO={...IA,transformFn:void 0,applyValueToInputSignal(t,e){Zm(t,e)}};function aO(t,e){const r=Object.create(oO);r.value=t,r.transformFn=e?.transform;function n(){if(Gm(r),r.value===ey)throw new z(-950,!1);return r.value}return n[Er]=r,n}function xo(t){return{toString:t}.toString()}const Ol="__annotations__",Rl="__parameters__",Nl="__prop__metadata__";function ah(t,e,r,n,i){return xo(()=>{const s=L0(e);function o(...a){if(this instanceof o)return s.call(this,...a),this;const l=new o(...a);return function(u){return i&&i(u,...a),(u.hasOwnProperty(Ol)?u[Ol]:Object.defineProperty(u,Ol,{value:[]})[Ol]).push(l),u}}return r&&(o.prototype=Object.create(r.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}function L0(t){return function(...r){if(t){const n=t(...r);for(const i in n)this[i]=n[i]}}}function Rc(t,e,r){return xo(()=>{const n=L0(e);function i(...s){if(this instanceof i)return n.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(Rl)?l[Rl]:Object.defineProperty(l,Rl,{value:[]})[Rl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Ao(t,e,r,n){return xo(()=>{const i=L0(e);function s(...o){if(this instanceof s)return i.apply(this,o),this;const a=new s(...o);function l(c,u){if(c===void 0)throw new Error("Standard Angular field decorators are not supported in JIT mode.");const d=c.constructor,h=d.hasOwnProperty(Nl)?d[Nl]:Object.defineProperty(d,Nl,{value:{}})[Nl];h[u]=h.hasOwnProperty(u)&&h[u]||[],h[u].unshift(a)}return l}return r&&(s.prototype=Object.create(r.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s})}const Ti=globalThis;function We(t){for(let e in t)if(t[e]===We)return e;throw Error("Could not find renamed property on target object.")}function hz(t,e){for(const r in e)e.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function dn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(dn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(e==null)return""+e;const r=e.indexOf(`
`);return r===-1?e:e.substring(0,r)}function Lw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}const fz=We({__forward_ref__:We});function Ye(t){return t.__forward_ref__=Ye,t.toString=function(){return dn(this())},t}function Be(t){return ty(t)?t():t}function ty(t){return typeof t=="function"&&t.hasOwnProperty(fz)&&t.__forward_ref__===Ye}function pz(t,e,r){t!=e&&gz(r,t,e,"==")}function gz(t,e,r,n){throw new Error(`ASSERTION ERROR: ${t}`+(n==null?"":` [Expected=> ${r} ${n} ${e} <=Actual]`))}function P(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Za(t){return{providers:t.providers||[],imports:t.imports||[]}}function ny(t){return IM(t,Bp)||IM(t,lO)}function mz(t){return ny(t)!==null}function IM(t,e){return t.hasOwnProperty(e)?t[e]:null}function yz(t){const e=t&&(t[Bp]||t[lO]);return e||null}function xM(t){return t&&(t.hasOwnProperty(Fw)||t.hasOwnProperty(vz))?t[Fw]:null}const Bp=We({ɵprov:We}),Fw=We({ɵinj:We}),lO=We({ngInjectableDef:We}),vz=We({ngInjectorDef:We});class A{constructor(e,r){this._desc=e,this.ngMetadataName="InjectionToken",this.ɵprov=void 0,typeof r=="number"?this.__NG_ELEMENT_ID__=r:r!==void 0&&(this.ɵprov=P({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function cO(t){return t&&!!t.ɵproviders}const ry=We({ɵcmp:We}),F0=We({ɵdir:We}),B0=We({ɵpipe:We}),uO=We({ɵmod:We}),ws=We({ɵfac:We}),Vu=We({__NG_ELEMENT_ID__:We}),AM=We({__NG_ENV_ID__:We});function fe(t){return typeof t=="string"?t:t==null?"":String(t)}function Ei(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():fe(t)}function bz(t,e){const r=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new z(-200,t)}function V0(t,e){throw new z(-201,!1)}var De=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(De||{});let Bw;function dO(){return Bw}function Tn(t){const e=Bw;return Bw=t,e}function hO(t,e,r){const n=ny(t);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(r&De.Optional)return null;if(e!==void 0)return e;V0(t,"Injector")}const wz={},pd=wz,Vw="__NG_DI_FLAG__",Vp="ngTempTokenPath",_z="ngTokenPath",Cz=/\n/gm,Ez="ɵ",OM="__source";let $l;function Dz(){return $l}function js(t){const e=$l;return $l=t,e}function kz(t,e=De.Default){if($l===void 0)throw new z(-203,!1);return $l===null?hO(t,void 0,e):$l.get(t,e&De.Optional?null:void 0,e)}function I(t,e=De.Default){return(dO()||kz)(Be(t),e)}function fO(t){throw new z(202,!1)}function w(t,e=De.Default){return I(t,iy(e))}function iy(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Hw(t){const e=[];for(let r=0;r<t.length;r++){const n=Be(t[r]);if(Array.isArray(n)){if(n.length===0)throw new z(900,!1);let i,s=De.Default;for(let o=0;o<n.length;o++){const a=n[o],l=Mz(a);typeof l=="number"?l===-1?i=a.token:s|=l:i=a}e.push(I(i,s))}else e.push(I(n))}return e}function lh(t,e){return t[Vw]=e,t.prototype[Vw]=e,t}function Mz(t){return t[Vw]}function Sz(t,e,r,n){const i=t[Vp];throw e[OM]&&i.unshift(e[OM]),t.message=Tz(`
`+t.message,i,r,n),t[_z]=i,t[Vp]=null,t}function Tz(t,e,r,n=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Ez?t.slice(2):t;let i=dn(e);if(Array.isArray(e))i=e.map(dn).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):dn(a)))}i=`{${s.join(", ")}}`}return`${r}${n?"("+n+")":""}[${i}]: ${t.replace(Cz,`
  `)}`}const H0=lh(Rc("Inject",t=>({token:t})),-1),Ya=lh(Rc("Optional"),8),Iz=lh(Rc("Self"),2),Ja=lh(Rc("SkipSelf"),4),xz=lh(Rc("Host"),1);function _a(t,e){const r=t.hasOwnProperty(ws);return r?t[ws]:null}function Az(t,e,r){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],s=e[n];if(r&&(i=r(i),s=r(s)),s!==i)return!1}return!0}function Di(t){return t.flat(Number.POSITIVE_INFINITY)}function j0(t,e){t.forEach(r=>Array.isArray(r)?j0(r,e):e(r))}function pO(t,e,r){e>=t.length?t.push(r):t.splice(e,0,r)}function Hp(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Xf(t,e){const r=[];for(let n=0;n<t;n++)r.push(e);return r}function RM(t,e,r){const n=t.length-r;for(;e<n;)t[e]=t[e+r],e++;for(;r--;)t.pop()}function gO(t,e,r,n){let i=t.length;if(i==e)t.push(r,n);else if(i===1)t.push(n,t[0]),t[0]=r;else{for(i--,t.push(t[i-1],t[i]);i>e;){const s=i-2;t[i]=t[s],i--}t[e]=r,t[e+1]=n}}function rr(t,e,r){let n=ch(t,e);return n>=0?t[n|1]=r:(n=~n,gO(t,n,e,r)),n}function Yv(t,e){const r=ch(t,e);if(r>=0)return t[r|1]}function ch(t,e){return Oz(t,e,1)}function Oz(t,e,r){let n=0,i=t.length>>r;for(;i!==n;){const s=n+(i-n>>1),o=t[s<<r];if(e===o)return s<<r;o>e?i=s:n=s+1}return~(i<<r)}const Pi={},Fe=[],gd=new A(""),mO=new A("",-1),yO=new A("");class vO{get(e,r=pd){if(r===pd){const n=new Error(`NullInjectorError: No provider for ${dn(e)}!`);throw n.name="NullInjectorError",n}return r}}var U0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(U0||{}),Ii=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ii||{}),mo=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(mo||{});function Rz(t,e,r){let n=t.length;for(;;){const i=t.indexOf(e,r);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===n||t.charCodeAt(i+s)<=32)return i}r=i+1}}function jw(t,e,r){let n=0;for(;n<r.length;){const i=r[n];if(typeof i=="number"){if(i!==0)break;n++;const s=r[n++],o=r[n++],a=r[n++];t.setAttribute(e,o,a,s)}else{const s=i,o=r[++n];Nz(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),n++}}return n}function bO(t){return t===3||t===4||t===6}function Nz(t){return t.charCodeAt(0)===64}function md(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let r=-1;for(let n=0;n<e.length;n++){const i=e[n];typeof i=="number"?r=i:r===0||(r===-1||r===2?NM(t,r,i,null,e[++n]):NM(t,r,i,null,null))}}return t}function NM(t,e,r,n,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){const a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if(typeof a=="number")break;if(a===r){i!==null&&(t[s+1]=i);return}s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}const wO="ng-template";function Pz(t,e,r,n){let i=0;if(n){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Rz(e[i+1].toLowerCase(),r,0)!==-1)return!0}else if($0(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===r)return!0}return!1}function $0(t){return t.type===4&&t.value!==wO}function Lz(t,e,r){const n=t.type===4&&!r?wO:t.value;return e===n}function Fz(t,e,r){let n=4;const i=t.attrs,s=i!==null?Hz(i):0;let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if(typeof l=="number"){if(!o&&!Br(n)&&!Br(l))return!1;if(o&&Br(l))continue;o=!1,n=l|n&1;continue}if(!o)if(n&4){if(n=2|n&1,l!==""&&!Lz(t,l,r)||l===""&&e.length===1){if(Br(n))return!1;o=!0}}else if(n&8){if(i===null||!Pz(t,i,l,r)){if(Br(n))return!1;o=!0}}else{const c=e[++a],u=Bz(l,i,$0(t),r);if(u===-1){if(Br(n))return!1;o=!0;continue}if(c!==""){let d;if(u>s?d="":d=i[u+1].toLowerCase(),n&2&&c!==d){if(Br(n))return!1;o=!0}}}}return Br(n)||o}function Br(t){return(t&1)===0}function Bz(t,e,r,n){if(e===null)return-1;let i=0;if(n||!r){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return jz(e,t)}function _O(t,e,r=!1){for(let n=0;n<e.length;n++)if(Fz(t,e[n],r))return!0;return!1}function Vz(t){const e=t.attrs;if(e!=null){const r=e.indexOf(5);if(!(r&1))return e[r+1]}return null}function Hz(t){for(let e=0;e<t.length;e++){const r=t[e];if(bO(r))return e}return t.length}function jz(t,e){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){const n=t[r];if(typeof n=="number")return-1;if(n===e)return r;r++}return-1}function Uz(t,e){e:for(let r=0;r<e.length;r++){const n=e[r];if(t.length===n.length){for(let i=0;i<t.length;i++)if(t[i]!==n[i])continue e;return!0}}return!1}function PM(t,e){return t?":not("+e.trim()+")":e}function $z(t){let e=t[0],r=1,n=2,i="",s=!1;for(;r<t.length;){let o=t[r];if(typeof o=="string")if(n&2){const a=t[++r];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else n&8?i+="."+o:n&4&&(i+=" "+o);else i!==""&&!Br(o)&&(e+=PM(s,i),i=""),n=o,s=s||!Br(n);r++}return i!==""&&(e+=PM(s,i)),e}function zz(t){return t.map($z).join(",")}function Wz(t){const e=[],r=[];let n=1,i=2;for(;n<t.length;){let s=t[n];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++n]):i===8&&r.push(s);else{if(!Br(i))break;i=s}n++}return{attrs:e,classes:r}}function Oo(t){return xo(()=>{const e=CO(t),r={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===U0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ii.Emulated,styles:t.styles||Fe,_:null,schemas:t.schemas||null,tView:null,id:""};EO(r);const n=t.dependencies;return r.directiveDefs=Up(n,!1),r.pipeDefs=Up(n,!0),r.id=Kz(r),r})}function Gz(t){return Pt(t)||si(t)}function qz(t){return t!==null}function Nc(t){return xo(()=>({type:t.type,bootstrap:t.bootstrap||Fe,declarations:t.declarations||Fe,imports:t.imports||Fe,exports:t.exports||Fe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function LM(t,e){if(t==null)return Pi;const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n];let s,o,a=mo.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(r[s]=a!==mo.None?[n,a]:n,e[s]=o):r[s]=n}return r}function W(t){return xo(()=>{const e=CO(t);return EO(e),e})}function Ln(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Pt(t){return t[ry]||null}function si(t){return t[F0]||null}function Ds(t){return t[B0]||null}function jp(t){const e=Pt(t)||si(t)||Ds(t);return e!==null?e.standalone:!1}function yo(t,e){const r=t[uO]||null;if(!r&&e===!0)throw new Error(`Type ${dn(t)} does not have 'ɵmod' property.`);return r}function CO(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Pi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Fe,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:LM(t.inputs,e),outputs:LM(t.outputs),debugInfo:null}}function EO(t){t.features?.forEach(e=>e(t))}function Up(t,e){if(!t)return null;const r=e?Ds:Gz;return()=>(typeof t=="function"?t():t).map(n=>r(n)).filter(qz)}function Kz(t){let e=0;const r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of r)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function uh(t){return{ɵproviders:t}}function Zz(...t){return{ɵproviders:z0(!0,t),ɵfromNgModule:!0}}function z0(t,...e){const r=[],n=new Set;let i;const s=o=>{r.push(o)};return j0(e,o=>{const a=o;Uw(a,s,[],n)&&(i||(i=[]),i.push(a))}),i!==void 0&&DO(i,s),r}function DO(t,e){for(let r=0;r<t.length;r++){const{ngModule:n,providers:i}=t[r];W0(i,s=>{e(s,n)})}}function Uw(t,e,r,n){if(t=Be(t),!t)return!1;let i=null,s=xM(t);const o=!s&&Pt(t);if(!s&&!o){const l=t.ngModule;if(s=xM(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=t}const a=n.has(i);if(o){if(a)return!1;if(n.add(i),o.dependencies){const l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(const c of l)Uw(c,e,r,n)}}else if(s){if(s.imports!=null&&!a){n.add(i);let c;try{j0(s.imports,u=>{Uw(u,e,r,n)&&(c||(c=[]),c.push(u))})}finally{}c!==void 0&&DO(c,e)}if(!a){const c=_a(i)||(()=>new i);e({provide:i,useFactory:c,deps:Fe},i),e({provide:yO,useValue:i,multi:!0},i),e({provide:gd,useValue:()=>I(i),multi:!0},i)}const l=s.providers;if(l!=null&&!a){const c=t;W0(l,u=>{e(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function W0(t,e){for(let r of t)cO(r)&&(r=r.ɵproviders),Array.isArray(r)?W0(r,e):e(r)}const Yz=We({provide:String,useValue:We});function kO(t){return t!==null&&typeof t=="object"&&Yz in t}function Jz(t){return!!(t&&t.useExisting)}function Xz(t){return!!(t&&t.useFactory)}function uc(t){return typeof t=="function"}function Qz(t){return!!t.useClass}const G0=new A(""),Qf={},e3={};let Jv;function q0(){return Jv===void 0&&(Jv=new vO),Jv}class kr{}class K0 extends kr{get destroyed(){return this._destroyed}constructor(e,r,n,i){super(),this.parent=r,this.source=n,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,zw(e,o=>this.processProvider(o)),this.records.set(mO,Pl(void 0,this)),i.has("environment")&&this.records.set(kr,Pl(void 0,this));const s=this.records.get(G0);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(yO,Fe,De.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const e=pe(null);try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of r)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const r=js(this),n=Tn(void 0);let i;try{return e()}finally{js(r),Tn(n)}}get(e,r=pd,n=De.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(AM))return e[AM](this);n=iy(n);let i;const s=js(this),o=Tn(void 0);try{if(!(n&De.SkipSelf)){let l=this.records.get(e);if(l===void 0){const c=s3(e)&&ny(e);c&&this.injectableDefInScope(c)?l=Pl($w(e),Qf):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}const a=n&De.Self?q0():this.parent;return r=n&De.Optional&&r===pd?null:r,a.get(e,r)}catch(a){if(a.name==="NullInjectorError"){if((a[Vp]=a[Vp]||[]).unshift(dn(e)),s)throw a;return Sz(a,e,"R3InjectorError",this.source)}else throw a}finally{Tn(o),js(s)}}resolveInjectorInitializers(){const e=pe(null),r=js(this),n=Tn(void 0);let i;try{const s=this.get(gd,Fe,De.Self);for(const o of s)o()}finally{js(r),Tn(n),pe(e)}}toString(){const e=[],r=this.records;for(const n of r.keys())e.push(dn(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(e){e=Be(e);let r=uc(e)?e:Be(e&&e.provide);const n=n3(e);if(!uc(e)&&e.multi===!0){let i=this.records.get(r);i||(i=Pl(void 0,Qf,!0),i.factory=()=>Hw(i.multi),this.records.set(r,i)),r=e,i.multi.push(e)}this.records.set(r,n)}hydrate(e,r){const n=pe(null);try{return r.value===Qf&&(r.value=e3,r.value=r.factory()),typeof r.value=="object"&&r.value&&i3(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{pe(n)}}injectableDefInScope(e){if(!e.providedIn)return!1;const r=Be(e.providedIn);return typeof r=="string"?r==="any"||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(e){const r=this._onDestroyHooks.indexOf(e);r!==-1&&this._onDestroyHooks.splice(r,1)}}function $w(t){const e=ny(t),r=e!==null?e.factory:_a(t);if(r!==null)return r;if(t instanceof A)throw new z(204,!1);if(t instanceof Function)return t3(t);throw new z(204,!1)}function t3(t){if(t.length>0)throw new z(204,!1);const r=yz(t);return r!==null?()=>r.factory(t):()=>new t}function n3(t){if(kO(t))return Pl(void 0,t.useValue);{const e=MO(t);return Pl(e,Qf)}}function MO(t,e,r){let n;if(uc(t)){const i=Be(t);return _a(i)||$w(i)}else if(kO(t))n=()=>Be(t.useValue);else if(Xz(t))n=()=>t.useFactory(...Hw(t.deps||[]));else if(Jz(t))n=()=>I(Be(t.useExisting));else{const i=Be(t&&(t.useClass||t.provide));if(r3(t))n=()=>new i(...Hw(t.deps));else return _a(i)||$w(i)}return n}function Pl(t,e,r=!1){return{factory:t,value:e,multi:r?[]:void 0}}function r3(t){return!!t.deps}function i3(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function s3(t){return typeof t=="function"||typeof t=="object"&&t instanceof A}function zw(t,e){for(const r of t)Array.isArray(r)?zw(r,e):r&&cO(r)?zw(r.ɵproviders,e):e(r)}function Fn(t,e){t instanceof K0&&t.assertNotDestroyed();let r;const n=js(t),i=Tn(void 0);try{return e()}finally{js(n),Tn(i)}}function SO(){return dO()!==void 0||Dz()!=null}function sy(t){if(!SO())throw new z(-203,!1)}function vr(t){const e=Ti.ng;if(e&&e.ɵcompilerFacade)return e.ɵcompilerFacade;throw new Error("JIT compiler unavailable")}const FM={ɵɵdefineInjectable:P,ɵɵdefineInjector:Za,ɵɵinject:I,ɵɵinvalidFactoryDep:fO,resolveForwardRef:Be},o3=Function;function Mu(t){return typeof t=="function"}const a3=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,l3=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,c3=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,u3=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;function d3(t){return a3.test(t)||u3.test(t)||l3.test(t)&&!c3.test(t)}class h3{constructor(e){this._reflect=e||Ti.Reflect}factory(e){return(...r)=>new e(...r)}_zipTypesAndAnnotations(e,r){let n;typeof e>"u"?n=Xf(r.length):n=Xf(e.length);for(let i=0;i<n.length;i++)typeof e>"u"?n[i]=[]:e[i]&&e[i]!=Object?n[i]=[e[i]]:n[i]=[],r&&r[i]!=null&&(n[i]=n[i].concat(r[i]));return n}_ownParameters(e,r){const n=e.toString();if(d3(n))return null;if(e.parameters&&e.parameters!==r.parameters)return e.parameters;const i=e.ctorParameters;if(i&&i!==r.ctorParameters){const a=typeof i=="function"?i():i,l=a.map(u=>u&&u.type),c=a.map(u=>u&&Xv(u.decorators));return this._zipTypesAndAnnotations(l,c)}const s=e.hasOwnProperty(Rl)&&e[Rl],o=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return o||s?this._zipTypesAndAnnotations(o,s):Xf(e.length)}parameters(e){if(!Mu(e))return[];const r=tf(e);let n=this._ownParameters(e,r);return!n&&r!==Object&&(n=this.parameters(r)),n||[]}_ownAnnotations(e,r){if(e.annotations&&e.annotations!==r.annotations){let n=e.annotations;return typeof n=="function"&&n.annotations&&(n=n.annotations),n}return e.decorators&&e.decorators!==r.decorators?Xv(e.decorators):e.hasOwnProperty(Ol)?e[Ol]:null}annotations(e){if(!Mu(e))return[];const r=tf(e),n=this._ownAnnotations(e,r)||[];return(r!==Object?this.annotations(r):[]).concat(n)}_ownPropMetadata(e,r){if(e.propMetadata&&e.propMetadata!==r.propMetadata){let n=e.propMetadata;return typeof n=="function"&&n.propMetadata&&(n=n.propMetadata),n}if(e.propDecorators&&e.propDecorators!==r.propDecorators){const n=e.propDecorators,i={};return Object.keys(n).forEach(s=>{i[s]=Xv(n[s])}),i}return e.hasOwnProperty(Nl)?e[Nl]:null}propMetadata(e){if(!Mu(e))return{};const r=tf(e),n={};if(r!==Object){const s=this.propMetadata(r);Object.keys(s).forEach(o=>{n[o]=s[o]})}const i=this._ownPropMetadata(e,r);return i&&Object.keys(i).forEach(s=>{const o=[];n.hasOwnProperty(s)&&o.push(...n[s]),o.push(...i[s]),n[s]=o}),n}ownPropMetadata(e){return Mu(e)?this._ownPropMetadata(e,tf(e))||{}:{}}hasLifecycleHook(e,r){return e instanceof o3&&r in e.prototype}}function Xv(t){return t?t.map(e=>{const n=e.type.annotationCls,i=e.args?e.args:[];return new n(...i)}):[]}function tf(t){const e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}const Nn=0,Y=1,oe=2,Yt=3,Gr=4,En=5,Mr=6,zl=7,sn=8,Jt=9,Li=10,ce=11,yd=12,BM=13,Pc=14,an=15,Ca=16,Ll=17,qr=18,oy=19,TO=20,ro=21,Wl=22,br=23,Se=25,Z0=1,vd=6,_s=7,$p=8,dc=9,Wt=10;var zp=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(zp||{});function Kr(t){return Array.isArray(t)&&typeof t[Z0]=="object"}function zi(t){return Array.isArray(t)&&t[Z0]===!0}function Y0(t){return(t.flags&4)!==0}function dh(t){return t.componentOffset>-1}function ay(t){return(t.flags&1)===1}function Xr(t){return!!t.template}function Wp(t){return(t[oe]&512)!==0}function Ww(t){return(t[oe]&256)===256}class f3{constructor(e,r,n){this.previousValue=e,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}}function IO(t,e,r,n){e!==null?e.applyValueToInputSignal(e,n):t[r]=n}function Or(){return xO}function xO(t){return t.type.prototype.ngOnChanges&&(t.setInput=g3),p3}Or.ngInherit=!0;function p3(){const t=OO(this),e=t?.current;if(e){const r=t.previous;if(r===Pi)t.previous=e;else for(let n in e)r[n]=e[n];t.current=null,this.ngOnChanges(e)}}function g3(t,e,r,n,i){const s=this.declaredInputs[n],o=OO(t)||m3(t,{previous:Pi,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new f3(c&&c.currentValue,r,l===Pi),IO(t,e,i,r)}const AO="__ngSimpleChanges__";function OO(t){return t[AO]||null}function m3(t,e){return t[AO]=e}let VM=null;const xi=function(t,e,r){VM?.(t,e,r)},RO="svg",NO="math";function Qn(t){for(;Array.isArray(t);)t=t[Nn];return t}function y3(t){for(;Array.isArray(t);){if(typeof t[Z0]=="object")return t;t=t[Nn]}return null}function hh(t,e){return Qn(e[t])}function Bn(t,e){return Qn(e[t.index])}function fh(t,e){return t.data[e]}function Xa(t,e){return t[e]}function Ro(t,e){const r=e[t];return Kr(r)?r:r[Nn]}function v3(t){return(t[oe]&4)===4}function J0(t){return(t[oe]&128)===128}function b3(t){return zi(t[Yt])}function Sr(t,e){return e==null?null:t[e]}function PO(t){t[Ll]=0}function LO(t){t[oe]&1024||(t[oe]|=1024,J0(t)&&ly(t))}function FO(t,e){for(;t>0;)e=e[Pc],t--;return e}function bd(t){return!!(t[oe]&9216||t[br]?.dirty)}function Gw(t){t[Li].changeDetectionScheduler?.notify(7),t[oe]&64&&(t[oe]|=1024),bd(t)&&ly(t)}function ly(t){t[Li].changeDetectionScheduler?.notify(0);let e=Ea(t);for(;e!==null&&!(e[oe]&8192||(e[oe]|=8192,!J0(e)));)e=Ea(e)}function cy(t,e){if((t[oe]&256)===256)throw new z(911,!1);t[ro]===null&&(t[ro]=[]),t[ro].push(e)}function X0(t,e){if(t[ro]===null)return;const r=t[ro].indexOf(e);r!==-1&&t[ro].splice(r,1)}function Ea(t){const e=t[Yt];return zi(e)?e[Yt]:e}const ae={lFrame:qO(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let BO=!1;function w3(){return ae.lFrame.elementDepthCount}function _3(){ae.lFrame.elementDepthCount++}function C3(){ae.lFrame.elementDepthCount--}function VO(){return ae.bindingsEnabled}function Lc(){return ae.skipHydrationRootTNode!==null}function E3(t){return ae.skipHydrationRootTNode===t}function D3(){ae.bindingsEnabled=!0}function k3(t){ae.skipHydrationRootTNode=t}function M3(){ae.bindingsEnabled=!1}function S3(){ae.skipHydrationRootTNode=null}function k(){return ae.lFrame.lView}function _e(){return ae.lFrame.tView}function qw(t){return ae.lFrame.contextLView=t,t[sn]}function Kw(t){return ae.lFrame.contextLView=null,t}function Ge(){let t=HO();for(;t!==null&&t.type===64;)t=t.parent;return t}function HO(){return ae.lFrame.currentTNode}function wd(){const t=ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Qr(t,e){const r=ae.lFrame;r.currentTNode=t,r.isParent=e}function Q0(){return ae.lFrame.isParent}function eE(){ae.lFrame.isParent=!1}function jO(){return ae.lFrame.contextLView}function UO(){return BO}function HM(t){BO=t}function Dn(){const t=ae.lFrame;let e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ks(){return ae.lFrame.bindingIndex}function $O(t){return ae.lFrame.bindingIndex=t}function oi(){return ae.lFrame.bindingIndex++}function Ms(t){const e=ae.lFrame,r=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,r}function T3(){return ae.lFrame.inI18n}function zO(t){ae.lFrame.inI18n=t}function I3(t,e){const r=ae.lFrame;r.bindingIndex=r.bindingRootIndex=t,Zw(e)}function x3(){return ae.lFrame.currentDirectiveIndex}function Zw(t){ae.lFrame.currentDirectiveIndex=t}function tE(t){const e=ae.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function nE(){return ae.lFrame.currentQueryIndex}function uy(t){ae.lFrame.currentQueryIndex=t}function A3(t){const e=t[Y];return e.type===2?e.declTNode:e.type===1?t[En]:null}function WO(t,e,r){if(r&De.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(r&De.Host);)if(i=A3(s),i===null||(s=s[Pc],i.type&10))break;if(i===null)return!1;e=i,t=s}const n=ae.lFrame=GO();return n.currentTNode=e,n.lView=t,!0}function rE(t){const e=GO(),r=t[Y];ae.lFrame=e,e.currentTNode=r.firstChild,e.lView=t,e.tView=r,e.contextLView=t,e.bindingIndex=r.bindingStartIndex,e.inI18n=!1}function GO(){const t=ae.lFrame,e=t===null?null:t.child;return e===null?qO(t):e}function qO(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function KO(){const t=ae.lFrame;return ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ZO=KO;function iE(){const t=KO();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function O3(t){return(ae.lFrame.contextLView=FO(t,ae.lFrame.contextLView))[sn]}function ln(){return ae.lFrame.selectedIndex}function Da(t){ae.lFrame.selectedIndex=t}function ot(){const t=ae.lFrame;return fh(t.tView,t.selectedIndex)}function R3(){ae.lFrame.currentNamespace=RO}function N3(){ae.lFrame.currentNamespace=NO}function P3(){L3()}function L3(){ae.lFrame.currentNamespace=null}function YO(){return ae.lFrame.currentNamespace}let JO=!0;function ph(){return JO}function Ss(t){JO=t}function F3(t,e,r){const{ngOnChanges:n,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(n){const o=xO(e);(r.preOrderHooks??(r.preOrderHooks=[])).push(t,o),(r.preOrderCheckHooks??(r.preOrderCheckHooks=[])).push(t,o)}i&&(r.preOrderHooks??(r.preOrderHooks=[])).push(0-t,i),s&&((r.preOrderHooks??(r.preOrderHooks=[])).push(t,s),(r.preOrderCheckHooks??(r.preOrderCheckHooks=[])).push(t,s))}function dy(t,e){for(let r=e.directiveStart,n=e.directiveEnd;r<n;r++){const s=t.data[r].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(t.contentHooks??(t.contentHooks=[])).push(-r,o),a&&((t.contentHooks??(t.contentHooks=[])).push(r,a),(t.contentCheckHooks??(t.contentCheckHooks=[])).push(r,a)),l&&(t.viewHooks??(t.viewHooks=[])).push(-r,l),c&&((t.viewHooks??(t.viewHooks=[])).push(r,c),(t.viewCheckHooks??(t.viewCheckHooks=[])).push(r,c)),u!=null&&(t.destroyHooks??(t.destroyHooks=[])).push(r,u)}}function ep(t,e,r){XO(t,e,3,r)}function tp(t,e,r,n){(t[oe]&3)===r&&XO(t,e,r,n)}function Qv(t,e){let r=t[oe];(r&3)===e&&(r&=16383,r+=1,t[oe]=r)}function XO(t,e,r,n){const i=n!==void 0?t[Ll]&65535:0,s=n??-1,o=e.length-1;let a=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],n!=null&&a>=n)break}else e[l]<0&&(t[Ll]+=65536),(a<s||s==-1)&&(B3(t,r,e,l),t[Ll]=(t[Ll]&4294901760)+l+2),l++}function jM(t,e){xi(4,t,e);const r=pe(null);try{e.call(t)}finally{pe(r),xi(5,t,e)}}function B3(t,e,r,n){const i=r[n]<0,s=r[n+1],o=i?-r[n]:r[n],a=t[o];i?t[oe]>>14<t[Ll]>>16&&(t[oe]&3)===e&&(t[oe]+=16384,jM(a,s)):jM(a,s)}const Gl=-1;class gh{constructor(e,r,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}}function V3(t){return t instanceof gh}function H3(t){return(t.flags&8)!==0}function j3(t){return(t.flags&16)!==0}const eb={};class np{constructor(e,r){this.injector=e,this.parentInjector=r}get(e,r,n){n=iy(n);const i=this.injector.get(e,eb,n);return i!==eb||r===eb?i:this.parentInjector.get(e,r,n)}}function QO(t){return t!==Gl}function Gp(t){return t&32767}function U3(t){return t>>16}function qp(t,e){let r=U3(t),n=e;for(;r>0;)n=n[Pc],r--;return n}let Yw=!0;function Kp(t){const e=Yw;return Yw=t,e}const $3=256,eR=$3-1,tR=5;let z3=0;const Ai={};function W3(t,e,r){let n;typeof r=="string"?n=r.charCodeAt(0)||0:r.hasOwnProperty(Vu)&&(n=r[Vu]),n==null&&(n=r[Vu]=z3++);const i=n&eR,s=1<<i;e.data[t+(i>>tR)]|=s}function Zp(t,e){const r=nR(t,e);if(r!==-1)return r;const n=e[Y];n.firstCreatePass&&(t.injectorIndex=e.length,tb(n.data,t),tb(e,null),tb(n.blueprint,null));const i=sE(t,e),s=t.injectorIndex;if(QO(i)){const o=Gp(i),a=qp(i,e),l=a[Y].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function tb(t,e){t.push(0,0,0,0,0,0,0,0,e)}function nR(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function sE(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let r=0,n=null,i=e;for(;i!==null;){if(n=aR(i),n===null)return Gl;if(r++,i=i[Pc],n.injectorIndex!==-1)return n.injectorIndex|r<<16}return Gl}function Jw(t,e,r){W3(t,e,r)}function G3(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;const r=t.attrs;if(r){const n=r.length;let i=0;for(;i<n;){const s=r[i];if(bO(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<n&&typeof r[i]=="string";)i++;else{if(s===e)return r[i+1];i=i+2}}}return null}function rR(t,e,r){if(r&De.Optional||t!==void 0)return t;V0(e,"NodeInjector")}function iR(t,e,r,n){if(r&De.Optional&&n===void 0&&(n=null),!(r&(De.Self|De.Host))){const i=t[Jt],s=Tn(void 0);try{return i?i.get(e,n,r&De.Optional):hO(e,n,r&De.Optional)}finally{Tn(s)}}return rR(n,e,r)}function sR(t,e,r,n=De.Default,i){if(t!==null){if(e[oe]&2048&&!(n&De.Self)){const o=Y3(t,e,r,n,Ai);if(o!==Ai)return o}const s=oR(t,e,r,n,Ai);if(s!==Ai)return s}return iR(e,r,n,i)}function oR(t,e,r,n,i){const s=K3(r);if(typeof s=="function"){if(!WO(e,t,n))return n&De.Host?rR(i,r,n):iR(e,r,n,i);try{let o;if(o=s(n),o==null&&!(n&De.Optional))V0(r);else return o}finally{ZO()}}else if(typeof s=="number"){let o=null,a=nR(t,e),l=Gl,c=n&De.Host?e[an][En]:null;for((a===-1||n&De.SkipSelf)&&(l=a===-1?sE(t,e):e[a+8],l===Gl||!$M(n,!1)?a=-1:(o=e[Y],a=Gp(l),e=qp(l,e)));a!==-1;){const u=e[Y];if(UM(s,a,u.data)){const d=q3(a,e,r,o,n,c);if(d!==Ai)return d}l=e[a+8],l!==Gl&&$M(n,e[Y].data[a+8]===c)&&UM(s,a,e)?(o=u,a=Gp(l),e=qp(l,e)):a=-1}}return i}function q3(t,e,r,n,i,s){const o=e[Y],a=o.data[t+8],l=n==null?dh(a)&&Yw:n!=o&&(a.type&3)!==0,c=i&De.Host&&s===a,u=rp(a,o,r,l,c);return u!==null?ka(e,o,u,a):Ai}function rp(t,e,r,n,i){const s=t.providerIndexes,o=e.data,a=s&1048575,l=t.directiveStart,c=t.directiveEnd,u=s>>20,d=n?a:a+u,h=i?a+u:c;for(let f=d;f<h;f++){const p=o[f];if(f<l&&r===p||f>=l&&p.type===r)return f}if(i){const f=o[l];if(f&&Xr(f)&&f.type===r)return l}return null}function ka(t,e,r,n){let i=t[r];const s=e.data;if(V3(i)){const o=i;o.resolving&&bz(Ei(s[r]));const a=Kp(o.canSeeViewProviders);o.resolving=!0;let l;const c=o.injectImpl?Tn(o.injectImpl):null,u=WO(t,n,De.Default);try{i=t[r]=o.factory(void 0,s,t,n),e.firstCreatePass&&r>=n.directiveStart&&F3(r,s[r],e)}finally{c!==null&&Tn(c),Kp(a),o.resolving=!1,ZO()}}return i}function K3(t){if(typeof t=="string")return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Vu)?t[Vu]:void 0;return typeof e=="number"?e>=0?e&eR:Z3:e}function UM(t,e,r){const n=1<<t;return!!(r[e+(t>>tR)]&n)}function $M(t,e){return!(t&De.Self)&&!(t&De.Host&&e)}class Hu{constructor(e,r){this._tNode=e,this._lView=r}get(e,r,n){return sR(this._tNode,this._lView,e,iy(n),r)}}function Z3(){return new Hu(Ge(),k())}function wt(t){return xo(()=>{const e=t.prototype.constructor,r=e[ws]||Xw(e),n=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==n;){const s=i[ws]||Xw(i);if(s&&s!==r)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Xw(t){return ty(t)?()=>{const e=Xw(Be(t));return e&&e()}:_a(t)}function Y3(t,e,r,n,i){let s=t,o=e;for(;s!==null&&o!==null&&o[oe]&2048&&!(o[oe]&512);){const a=oR(s,o,r,n|De.Self,Ai);if(a!==Ai)return a;let l=s.parent;if(!l){const c=o[TO];if(c){const u=c.get(r,Ai,n);if(u!==Ai)return u}l=aR(o),o=o[Pc]}s=l}return i}function aR(t){const e=t[Y],r=e.type;return r===2?e.declTNode:r===1?t[En]:null}function hy(t){return G3(Ge(),t)}const J3=Rc("Attribute",t=>({attributeName:t,__NG_ELEMENT_ID__:()=>hy(t)}));let zM=null;function oE(){return zM=zM||new h3}function fy(t){return lR(oE().parameters(t))}function lR(t){return t.map(e=>X3(e))}function X3(t){const e={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(t)&&t.length>0)for(let r=0;r<t.length;r++){const n=t[r];if(n===void 0)continue;const i=Object.getPrototypeOf(n);if(n instanceof Ya||i.ngMetadataName==="Optional")e.optional=!0;else if(n instanceof Ja||i.ngMetadataName==="SkipSelf")e.skipSelf=!0;else if(n instanceof Iz||i.ngMetadataName==="Self")e.self=!0;else if(n instanceof xz||i.ngMetadataName==="Host")e.host=!0;else if(n instanceof H0)e.token=n.token;else if(n instanceof J3){if(n.attributeName===void 0)throw new z(204,!1);e.attribute=n.attributeName}else e.token=n}else t===void 0||Array.isArray(t)&&t.length===0?e.token=null:e.token=t;return e}function Q3(t,e){let r=null,n=null;t.hasOwnProperty(Bp)||Object.defineProperty(t,Bp,{get:()=>(r===null&&(r=vr({usage:0,kind:"injectable",type:t}).compileInjectable(FM,`ng:///${t.name}/ɵprov.js`,r4(t,e))),r)}),t.hasOwnProperty(ws)||Object.defineProperty(t,ws,{get:()=>{if(n===null){const i=vr({usage:0,kind:"injectable",type:t});n=i.compileFactory(FM,`ng:///${t.name}/ɵfac.js`,{name:t.name,type:t,typeArgumentCount:0,deps:fy(t),target:i.FactoryTarget.Injectable})}return n},configurable:!0})}const e4=We({provide:String,useValue:We});function WM(t){return t.useClass!==void 0}function t4(t){return e4 in t}function GM(t){return t.useFactory!==void 0}function n4(t){return t.useExisting!==void 0}function r4(t,e){const r=e||{providedIn:null},n={name:t.name,type:t,typeArgumentCount:0,providedIn:r.providedIn};return(WM(r)||GM(r))&&r.deps!==void 0&&(n.deps=lR(r.deps)),WM(r)?n.useClass=r.useClass:t4(r)?n.useValue=r.useValue:GM(r)?n.useFactory=r.useFactory:n4(r)&&(n.useExisting=r.useExisting),n}const Fpe=ah("Injectable",void 0,void 0,void 0,(t,e)=>Q3(t,e));function qM(t,e=null,r=null,n){const i=cR(t,e,r,n);return i.resolveInjectorInitializers(),i}function cR(t,e=null,r=null,n,i=new Set){const s=[r||Fe,Zz(t)];return n=n||(typeof t=="object"?void 0:dn(t)),new K0(s,e||q0(),n||null,i)}const na=class na{static create(e,r){if(Array.isArray(e))return qM({name:""},r,e,"");{const n=e.name??"";return qM({name:n},e.parent,e.providers,n)}}};na.THROW_IF_NOT_FOUND=pd,na.NULL=new vO,na.ɵprov=P({token:na,providedIn:"any",factory:()=>I(mO)}),na.__NG_ELEMENT_ID__=-1;let tt=na;const i4=new A("");i4.__NG_ELEMENT_ID__=t=>{const e=Ge();if(e===null)throw new z(204,!1);if(e.type&2)return e.value;if(t&De.Optional)return null;throw new z(204,!1)};const s4="ngOriginalError";function nb(t){return t[s4]}let Fc=(()=>{const e=class e{};e.__NG_ELEMENT_ID__=a4,e.__NG_ENV_ID__=n=>n;let t=e;return t})();class o4 extends Fc{constructor(e){super(),this._lView=e}onDestroy(e){return cy(this._lView,e),()=>X0(this._lView,e)}}function a4(){return new o4(k())}let No=(()=>{const e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new An(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.ɵprov=P({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();class l4 extends de{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,SO()&&(this.destroyRef=w(Fc,{optional:!0})??void 0,this.pendingTasks=w(No,{optional:!0})??void 0)}emit(e){const r=pe(null);try{super.next(e)}finally{pe(r)}}subscribe(e,r,n){let i=e,s=r||(()=>null),o=n;if(e&&typeof e=="object"){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof vn&&e.add(a),a}wrapInTimeout(e){return r=>{const n=this.pendingTasks?.add();setTimeout(()=>{e(r),n!==void 0&&this.pendingTasks?.remove(n)})}}}const Ne=l4;function Yp(...t){}function uR(t){let e,r;function n(){t=Yp;try{r!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(r),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),n()}),typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(()=>{t(),n()})),()=>n()}function KM(t){return queueMicrotask(()=>t()),()=>{t=Yp}}const aE="isAngularZone",Jp=aE+"_ID";let c4=0;class Me{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ne(!1),this.onMicrotaskEmpty=new Ne(!1),this.onStable=new Ne(!1),this.onError=new Ne(!1),typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&r,i.shouldCoalesceRunChangeDetection=n,i.callbackScheduled=!1,h4(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(aE)===!0}static assertInAngularZone(){if(!Me.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(Me.isInAngularZone())throw new z(909,!1)}run(e,r,n){return this._inner.run(e,r,n)}runTask(e,r,n,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,u4,Yp,Yp);try{return s.runTask(o,r,n)}finally{s.cancelTask(o)}}runGuarded(e,r,n){return this._inner.runGuarded(e,r,n)}runOutsideAngular(e){return this._outer.run(e)}}const u4={};function lE(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function d4(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{uR(()=>{t.callbackScheduled=!1,Qw(t),t.isCheckStableRunning=!0,lE(t),t.isCheckStableRunning=!1})}),Qw(t))}function h4(t){const e=()=>{d4(t)},r=c4++;t._inner=t._inner.fork({name:"angular",properties:{[aE]:!0,[Jp]:r,[Jp+r]:!0},onInvokeTask:(n,i,s,o,a,l)=>{if(f4(l))return n.invokeTask(s,o,a,l);try{return ZM(t),n.invokeTask(s,o,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),YM(t)}},onInvoke:(n,i,s,o,a,l,c)=>{try{return ZM(t),n.invoke(s,o,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!p4(l)&&e(),YM(t)}},onHasTask:(n,i,s,o)=>{n.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Qw(t),lE(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,s,o)=>(n.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Qw(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function ZM(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function YM(t){t._nesting--,lE(t)}class dR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ne,this.onMicrotaskEmpty=new Ne,this.onStable=new Ne,this.onError=new Ne}run(e,r,n){return e.apply(r,n)}runGuarded(e,r,n){return e.apply(r,n)}runOutsideAngular(e){return e()}runTask(e,r,n,i){return e.apply(r,n)}}function f4(t){return hR(t,"__ignore_ng_zone__")}function p4(t){return hR(t,"__scheduler_tick__")}function hR(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}function g4(t="zone.js",e){return t==="noop"?new dR:t==="zone.js"?new Me(e):t}class Po{constructor(){this._console=console}handleError(e){const r=this._findOriginalError(e);this._console.error("ERROR",e),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(e){let r=e&&nb(e);for(;r&&nb(r);)r=nb(r);return r||null}}const m4=new A("",{providedIn:"root",factory:()=>{const t=w(Me),e=w(Po);return r=>t.runOutsideAngular(()=>e.handleError(r))}});class fR{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=w(Po,{optional:!0}),this.destroyRef=w(Fc),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new z(953,!1);return(this.listeners??(this.listeners=[])).push(e),{unsubscribe:()=>{const r=this.listeners?.indexOf(e);r!==void 0&&r!==-1&&this.listeners?.splice(r,1)}}}emit(e){if(this.destroyed)throw new z(953,!1);if(this.listeners===null)return;const r=pe(null);try{for(const n of this.listeners)try{n(e)}catch(i){this.errorHandler?.handleError(i)}}finally{pe(r)}}}function Bpe(t){return new fR}function JM(t,e){return aO(t,e)}function y4(t){return aO(ey,t)}const Sn=(JM.required=y4,JM);function v4(){return Bc(Ge(),k())}function Bc(t,e){return new Ze(Bn(t,e))}let Ze=(()=>{const e=class e{constructor(n){this.nativeElement=n}};e.__NG_ELEMENT_ID__=v4;let t=e;return t})();function pR(t){return t instanceof Ze?t.nativeElement:t}function b4(){return this._results[Symbol.iterator]()}class hc{get changes(){return this._changes??(this._changes=new Ne)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=hc.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=b4)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,r){return this._results.reduce(e,r)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,r){this.dirty=!1;const n=Di(e);(this._changesDetected=!Az(this._results,n,r))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}}const w4="ngSkipHydration",_4="ngskiphydration";function gR(t){const e=t.mergedAttrs;if(e===null)return!1;for(let r=0;r<e.length;r+=2){const n=e[r];if(typeof n=="number")return!1;if(typeof n=="string"&&n.toLowerCase()===_4)return!0}return!1}function mR(t){return t.hasAttribute(w4)}function Xp(t){return(t.flags&128)===128}function C4(t){if(Xp(t))return!0;let e=t.parent;for(;e;){if(Xp(t)||gR(e))return!0;e=e.parent}return!1}const yR=new Map;let E4=0;function D4(){return E4++}function k4(t){yR.set(t[oy],t)}function M4(t){yR.delete(t[oy])}const XM="__ngContext__";function Fi(t,e){Kr(e)?(t[XM]=e[oy],k4(e)):t[XM]=e}function vR(t){return wR(t[yd])}function bR(t){return wR(t[Gr])}function wR(t){for(;t!==null&&!zi(t);)t=t[Gr];return t}let e_;function S4(t){e_=t}function Vc(){if(e_!==void 0)return e_;if(typeof document<"u")return document;throw new z(210,!1)}const py=new A("",{providedIn:"root",factory:()=>T4}),T4="ng",_R=new A(""),Vn=new A("",{providedIn:"platform",factory:()=>"unknown"});new A("");const I4=new A(""),cE=new A("",{providedIn:"root",factory:()=>Vc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),x4={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},Vpe=new A("",{providedIn:"root",factory:()=>x4});function A4(){const t=new mh;return w(Vn)==="browser"&&(t.store=O4(Vc(),w(py))),t}let mh=(()=>{const e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(n,i){return this.store[n]!==void 0?this.store[n]:i}set(n,i){this.store[n]=i}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,i){this.onSerializeCallbacks[n]=i}toJson(){for(const n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.ɵprov=P({token:e,providedIn:"root",factory:A4});let t=e;return t})();function O4(t,e){const r=t.getElementById(e+"-state");if(r?.textContent)try{return JSON.parse(r.textContent)}catch(n){console.warn("Exception while restoring TransferState for app "+e,n)}return{}}const CR="h",ER="b";var t_=function(t){return t.FirstChild="f",t.NextSibling="n",t}(t_||{});const R4="e",N4="t",uE="c",DR="x",Qp="r",P4="i",L4="n",kR="d",F4="__nghData__",MR=F4,rb="ngh",B4="nghm";let SR=()=>null;function V4(t,e,r=!1){let n=t.getAttribute(rb);if(n==null)return null;const[i,s]=n.split("|");if(n=r?s:i,!n)return null;const o=s?`|${s}`:"",a=r?i:o;let l={};if(n!==""){const u=e.get(mh,null,{optional:!0});u!==null&&(l=u.get(MR,[])[Number(n)])}const c={data:l,firstChild:t.firstChild??null};return r&&(c.firstChild=t,gy(c,0,t.nextSibling)),a?t.setAttribute(rb,a):t.removeAttribute(rb),c}function H4(){SR=V4}function dE(t,e,r=!1){return SR(t,e,r)}function j4(t){let e=t._lView;return e[Y].type===2?null:(Wp(e)&&(e=e[Se]),e)}function U4(t){return t.textContent?.replace(/\s/gm,"")}function $4(t){const e=Vc(),r=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(s){const o=U4(s);return o==="ngetn"||o==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let n;const i=[];for(;n=r.nextNode();)i.push(n);for(const s of i)s.textContent==="ngetn"?s.replaceWith(e.createTextNode("")):s.remove()}function gy(t,e,r){t.segmentHeads??(t.segmentHeads={}),t.segmentHeads[e]=r}function n_(t,e){return t.segmentHeads?.[e]??null}function z4(t,e){const r=t.data;let n=r[R4]?.[e]??null;return n===null&&r[uE]?.[e]&&(n=hE(t,e)),n}function TR(t,e){return t.data[uE]?.[e]??null}function hE(t,e){const r=TR(t,e)??[];let n=0;for(let i of r)n+=i[Qp]*(i[DR]??1);return n}function W4(t){if(typeof t.disconnectedNodes>"u"){const e=t.data[kR];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function yh(t,e){if(typeof t.disconnectedNodes>"u"){const r=t.data[kR];t.disconnectedNodes=r?new Set(r):null}return!!W4(t)?.has(e)}const nf=new A(""),IR=!1,xR=new A("",{providedIn:"root",factory:()=>IR});new A("");new A("");new A("");let rf;function AR(){if(rf===void 0&&(rf=null,Ti.trustedTypes))try{rf=Ti.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return rf}function Hc(t){return AR()?.createHTML(t)||t}function G4(t){return AR()?.createScriptURL(t)||t}let sf;function fE(){if(sf===void 0&&(sf=null,Ti.trustedTypes))try{sf=Ti.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return sf}function QM(t){return fE()?.createHTML(t)||t}function eS(t){return fE()?.createScript(t)||t}function tS(t){return fE()?.createScriptURL(t)||t}class Qa{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${sO})`}}class q4 extends Qa{getTypeName(){return"HTML"}}class K4 extends Qa{getTypeName(){return"Style"}}class Z4 extends Qa{getTypeName(){return"Script"}}class Y4 extends Qa{getTypeName(){return"URL"}}class J4 extends Qa{getTypeName(){return"ResourceURL"}}function Gn(t){return t instanceof Qa?t.changingThisBreaksApplicationSecurity:t}function ki(t,e){const r=X4(t);if(r!=null&&r!==e){if(r==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${r} (see ${sO})`)}return r===e}function X4(t){return t instanceof Qa&&t.getTypeName()||null}function Q4(t){return new q4(t)}function e8(t){return new K4(t)}function t8(t){return new Z4(t)}function n8(t){return new Y4(t)}function r8(t){return new J4(t)}function OR(t){const e=new s8(t);return o8()?new i8(e):e}class i8{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const r=new window.DOMParser().parseFromString(Hc(e),"text/html").body;return r===null?this.inertDocumentHelper.getInertBodyElement(e):(r.firstChild?.remove(),r)}catch{return null}}}class s8{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const r=this.inertDocument.createElement("template");return r.innerHTML=Hc(e),r}}function o8(){try{return!!new window.DOMParser().parseFromString(Hc(""),"text/html")}catch{return!1}}const a8=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function my(t){return t=String(t),t.match(a8)?t:"unsafe:"+t}function Ts(t){const e={};for(const r of t.split(","))e[r]=!0;return e}function vh(...t){const e={};for(const r of t)for(const n in r)r.hasOwnProperty(n)&&(e[n]=!0);return e}const RR=Ts("area,br,col,hr,img,wbr"),NR=Ts("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),PR=Ts("rp,rt"),l8=vh(PR,NR),c8=vh(NR,Ts("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),u8=vh(PR,Ts("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),r_=vh(RR,c8,u8,l8),pE=Ts("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),d8=Ts("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),h8=Ts("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),LR=vh(pE,d8,h8),f8=Ts("script,style,template");class p8{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let r=e.firstChild,n=!0,i=[];for(;r;){if(r.nodeType===Node.ELEMENT_NODE?n=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,n&&r.firstChild){i.push(r),r=y8(r);continue}for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let s=m8(r);if(s){r=s;break}r=i.pop()}}return this.buf.join("")}startElement(e){const r=nS(e).toLowerCase();if(!r_.hasOwnProperty(r))return this.sanitizedSomething=!0,!f8.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const n=e.attributes;for(let i=0;i<n.length;i++){const s=n.item(i),o=s.name,a=o.toLowerCase();if(!LR.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;pE[a]&&(l=my(l)),this.buf.push(" ",o,'="',rS(l),'"')}return this.buf.push(">"),!0}endElement(e){const r=nS(e).toLowerCase();r_.hasOwnProperty(r)&&!RR.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(e){this.buf.push(rS(e))}}function g8(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function m8(t){const e=t.nextSibling;if(e&&t!==e.previousSibling)throw FR(e);return e}function y8(t){const e=t.firstChild;if(e&&g8(t,e))throw FR(e);return e}function nS(t){const e=t.nodeName;return typeof e=="string"?e:"FORM"}function FR(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const v8=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b8=/([^\#-~ |!])/g;function rS(t){return t.replace(/&/g,"&amp;").replace(v8,function(e){const r=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+((r-55296)*1024+(n-56320)+65536)+";"}).replace(b8,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let of;function BR(t,e){let r=null;try{of=of||OR(t);let n=e?String(e):"";r=of.getInertBodyElement(n);let i=5,s=n;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,n=s,s=r.innerHTML,r=of.getInertBodyElement(n)}while(n!==s);const a=new p8().sanitizeChildren(i_(r)||r);return Hc(a)}finally{if(r){const n=i_(r)||r;for(;n.firstChild;)n.firstChild.remove()}}}function i_(t){return"content"in t&&w8(t)?t.content:null}function w8(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Wn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Wn||{});function _8(t){const e=bh();return e?QM(e.sanitize(Wn.HTML,t)||""):ki(t,"HTML")?QM(Gn(t)):BR(Vc(),fe(t))}function C8(t){const e=bh();return e?e.sanitize(Wn.STYLE,t)||"":ki(t,"Style")?Gn(t):fe(t)}function VR(t){const e=bh();return e?e.sanitize(Wn.URL,t)||"":ki(t,"URL")?Gn(t):my(fe(t))}function HR(t){const e=bh();if(e)return tS(e.sanitize(Wn.RESOURCE_URL,t)||"");if(ki(t,"ResourceURL"))return tS(Gn(t));throw new z(904,!1)}function E8(t){const e=bh();if(e)return eS(e.sanitize(Wn.SCRIPT,t)||"");if(ki(t,"Script"))return eS(Gn(t));throw new z(905,!1)}function D8(t){return Hc(t[0])}function k8(t){return G4(t[0])}function M8(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?HR:VR}function jR(t,e,r){return M8(e,r)(t)}function bh(){const t=k();return t&&t[Li].sanitizer}const S8=/^>|^->|<!--|-->|--!>|<!-$/g,T8=/(<|>)/g,I8="​$1​";function x8(t){return t.replace(S8,e=>e.replace(T8,I8))}function A8(t){return t.ownerDocument.defaultView}function O8(t){return t.ownerDocument}function UR(t){return t.ownerDocument.body}function Fl(t){return t instanceof Function?t():t}function Wr(t){return(t??w(tt)).get(Vn)==="browser"}var Ks=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ks||{});let s_;function gE(t,e){return s_(t,e)}function R8(t){s_===void 0&&(s_=t())}function Bl(t,e,r,n,i){if(n!=null){let s,o=!1;zi(n)?s=n:Kr(n)&&(o=!0,n=n[Nn]);const a=Qn(n);t===0&&r!==null?i==null?KR(e,r,a):Ma(e,r,a,i||null,!0):t===1&&r!==null?Ma(e,r,a,i||null,!0):t===2?wh(e,a,o):t===3&&e.destroyNode(a),s!=null&&U8(e,t,s,r,i)}}function mE(t,e){return t.createText(e)}function $R(t,e,r){t.setValue(e,r)}function yE(t,e){return t.createComment(x8(e))}function yy(t,e,r){return t.createElement(e,r)}function N8(t,e){zR(t,e),e[Nn]=null,e[En]=null}function P8(t,e,r,n,i,s){n[Nn]=i,n[En]=e,wy(t,n,r,1,i,s)}function zR(t,e){e[Li].changeDetectionScheduler?.notify(8),wy(t,e,e[ce],2,null,null)}function L8(t){let e=t[yd];if(!e)return ib(t[Y],t);for(;e;){let r=null;if(Kr(e))r=e[yd];else{const n=e[Wt];n&&(r=n)}if(!r){for(;e&&!e[Gr]&&e!==t;)Kr(e)&&ib(e[Y],e),e=e[Yt];e===null&&(e=t),Kr(e)&&ib(e[Y],e),r=e&&e[Gr]}e=r}}function F8(t,e,r,n){const i=Wt+n,s=r.length;n>0&&(r[i-1][Gr]=e),n<s-Wt?(e[Gr]=r[i],pO(r,Wt+n,e)):(r.push(e),e[Gr]=null),e[Yt]=r;const o=e[Ca];o!==null&&r!==o&&WR(o,e);const a=e[qr];a!==null&&a.insertView(t),Gw(e),e[oe]|=128}function WR(t,e){const r=t[dc],n=e[Yt];if(Kr(n))t[oe]|=zp.HasTransplantedViews;else{const i=n[Yt][an];e[an]!==i&&(t[oe]|=zp.HasTransplantedViews)}r===null?t[dc]=[e]:r.push(e)}function vE(t,e){const r=t[dc],n=r.indexOf(e);r.splice(n,1)}function _d(t,e){if(t.length<=Wt)return;const r=Wt+e,n=t[r];if(n){const i=n[Ca];i!==null&&i!==t&&vE(i,n),e>0&&(t[r-1][Gr]=n[Gr]);const s=Hp(t,Wt+e);N8(n[Y],n);const o=s[qr];o!==null&&o.detachView(s[Y]),n[Yt]=null,n[Gr]=null,n[oe]&=-129}return n}function vy(t,e){if(!(e[oe]&256)){const r=e[ce];r.destroyNode&&wy(t,e,r,3,null,null),L8(e)}}function ib(t,e){if(e[oe]&256)return;const r=pe(null);try{e[oe]&=-129,e[oe]|=256,e[br]&&k0(e[br]),V8(t,e),B8(t,e),e[Y].type===1&&e[ce].destroy();const n=e[Ca];if(n!==null&&zi(e[Yt])){n!==e[Yt]&&vE(n,e);const i=e[qr];i!==null&&i.detachView(t)}M4(e)}finally{pe(r)}}function B8(t,e){const r=t.cleanup,n=e[zl];if(r!==null)for(let s=0;s<r.length-1;s+=2)if(typeof r[s]=="string"){const o=r[s+3];o>=0?n[o]():n[-o].unsubscribe(),s+=2}else{const o=n[r[s+1]];r[s].call(o)}n!==null&&(e[zl]=null);const i=e[ro];if(i!==null){e[ro]=null;for(let s=0;s<i.length;s++){const o=i[s];o()}}}function V8(t,e){let r;if(t!=null&&(r=t.destroyHooks)!=null)for(let n=0;n<r.length;n+=2){const i=e[r[n]];if(!(i instanceof gh)){const s=r[n+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];xi(4,a,l);try{l.call(a)}finally{xi(5,a,l)}}else{xi(4,i,s);try{s.call(i)}finally{xi(5,i,s)}}}}}function GR(t,e,r){return qR(t,e.parent,r)}function qR(t,e,r){let n=e;for(;n!==null&&n.type&168;)e=n,n=e.parent;if(n===null)return r[Nn];{const{componentOffset:i}=n;if(i>-1){const{encapsulation:s}=t.data[n.directiveStart+i];if(s===Ii.None||s===Ii.Emulated)return null}return Bn(n,r)}}function Ma(t,e,r,n,i){t.insertBefore(e,r,n,i)}function KR(t,e,r){t.appendChild(e,r)}function iS(t,e,r,n,i){n!==null?Ma(t,e,r,n,i):KR(t,e,r)}function bE(t,e){return t.parentNode(e)}function H8(t,e){return t.nextSibling(e)}function ZR(t,e,r){return JR(t,e,r)}function YR(t,e,r){return t.type&40?Bn(t,r):null}let JR=YR,o_;function XR(t,e){JR=t,o_=e}function by(t,e,r,n){const i=GR(t,n,e),s=e[ce],o=n.parent||e[En],a=ZR(o,n,e);if(i!=null)if(Array.isArray(r))for(let l=0;l<r.length;l++)iS(s,i,r[l],a,!1);else iS(s,i,r,a,!1);o_!==void 0&&o_(s,n,e,r,i)}function Su(t,e){if(e!==null){const r=e.type;if(r&3)return Bn(e,t);if(r&4)return a_(-1,t[e.index]);if(r&8){const n=e.child;if(n!==null)return Su(t,n);{const i=t[e.index];return zi(i)?a_(-1,i):Qn(i)}}else{if(r&128)return Su(t,e.next);if(r&32)return gE(e,t)()||Qn(t[e.index]);{const n=QR(t,e);if(n!==null){if(Array.isArray(n))return n[0];const i=Ea(t[an]);return Su(i,n)}else return Su(t,e.next)}}}return null}function QR(t,e){if(e!==null){const n=t[an][En],i=e.projection;return n.projection[i]}return null}function a_(t,e){const r=Wt+t+1;if(r<e.length){const n=e[r],i=n[Y].firstChild;if(i!==null)return Su(n,i)}return e[_s]}function wh(t,e,r){t.removeChild(null,e,r)}function eN(t){t.textContent=""}function wE(t,e,r,n,i,s,o){for(;r!=null;){if(r.type===128){r=r.next;continue}const a=n[r.index],l=r.type;if(o&&e===0&&(a&&Fi(Qn(a),n),r.flags|=2),(r.flags&32)!==32)if(l&8)wE(t,e,r.child,n,i,s,!1),Bl(e,t,i,a,s);else if(l&32){const c=gE(r,n);let u;for(;u=c();)Bl(e,t,i,u,s);Bl(e,t,i,a,s)}else l&16?tN(t,e,n,r,i,s):Bl(e,t,i,a,s);r=o?r.projectionNext:r.next}}function wy(t,e,r,n,i,s){wE(r,n,t.firstChild,e,i,s,!1)}function j8(t,e,r){const n=e[ce],i=GR(t,r,e),s=r.parent||e[En];let o=ZR(s,r,e);tN(n,0,e,r,i,o)}function tN(t,e,r,n,i,s){const o=r[an],l=o[En].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){const u=l[c];Bl(e,t,i,u,s)}else{let c=l;const u=o[Yt];Xp(n)&&(c.flags|=128),wE(t,e,c,u,i,s,!0)}}function U8(t,e,r,n,i){const s=r[_s],o=Qn(r);s!==o&&Bl(e,t,n,s,i);for(let a=Wt;a<r.length;a++){const l=r[a];wy(l[Y],l,t,e,n,s)}}function $8(t,e,r,n,i){if(e)i?t.addClass(r,n):t.removeClass(r,n);else{let s=n.indexOf("-")===-1?void 0:Ks.DashCase;i==null?t.removeStyle(r,n,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Ks.Important),t.setStyle(r,n,i,s))}}function z8(t,e,r){t.setAttribute(e,"style",r)}function nN(t,e,r){r===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",r)}function rN(t,e,r){const{mergedAttrs:n,classes:i,styles:s}=r;n!==null&&jw(t,e,n),i!==null&&nN(t,e,i),s!==null&&z8(t,e,s)}const ue={};function iN(t=1){sN(_e(),k(),ln()+t,!1)}function sN(t,e,r,n){if(!n)if((e[oe]&3)===3){const s=t.preOrderCheckHooks;s!==null&&ep(e,s,r)}else{const s=t.preOrderHooks;s!==null&&tp(e,s,0,r)}Da(r)}function O(t,e=De.Default){const r=k();if(r===null)return I(t,e);const n=Ge();return sR(n,r,Be(t),e)}function oN(){const t="invalid";throw new Error(t)}function aN(t,e,r,n,i,s){const o=pe(null);try{let a=null;i&mo.SignalBased&&(a=e[n][Er]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&mo.HasDecoratorInputTransform&&(s=t.inputTransforms[n].call(e,s)),t.setInput!==null?t.setInput(e,a,s,r,n):IO(e,a,n,s)}finally{pe(o)}}function W8(t,e){const r=t.hostBindingOpCodes;if(r!==null)try{for(let n=0;n<r.length;n++){const i=r[n];if(i<0)Da(~i);else{const s=i,o=r[++n],a=r[++n];I3(o,s);const l=e[s];a(2,l)}}}finally{Da(-1)}}function _y(t,e,r,n,i,s,o,a,l,c,u){const d=e.blueprint.slice();return d[Nn]=i,d[oe]=n|4|128|8|64,(c!==null||t&&t[oe]&2048)&&(d[oe]|=2048),PO(d),d[Yt]=d[Pc]=t,d[sn]=r,d[Li]=o||t&&t[Li],d[ce]=a||t&&t[ce],d[Jt]=l||t&&t[Jt]||null,d[En]=s,d[oy]=D4(),d[Mr]=u,d[TO]=c,d[an]=e.type==2?t[an]:d,d}function el(t,e,r,n,i){let s=t.data[e];if(s===null)s=_E(t,e,r,n,i),T3()&&(s.flags|=32);else if(s.type&64){s.type=r,s.value=n,s.attrs=i;const o=wd();s.injectorIndex=o===null?-1:o.injectorIndex}return Qr(s,!0),s}function _E(t,e,r,n,i){const s=HO(),o=Q0(),a=o?s:s&&s.parent,l=t.data[e]=X8(t,a,r,e,n,i);return t.firstChild===null&&(t.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function _h(t,e,r,n){if(r===0)return-1;const i=e.length;for(let s=0;s<r;s++)e.push(n),t.blueprint.push(n),t.data.push(null);return i}function lN(t,e,r,n,i){const s=ln(),o=n&2;try{Da(-1),o&&e.length>Se&&sN(t,e,Se,!1),xi(o?2:0,i),r(n,i)}finally{Da(s),xi(o?3:1,i)}}function CE(t,e,r){if(Y0(e)){const n=pe(null);try{const i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){const a=t.data[o];if(a.contentQueries){const l=r[o];a.contentQueries(1,l,o)}}}finally{pe(n)}}}function EE(t,e,r){VO()&&(i5(t,e,r,Bn(r,e)),(r.flags&64)===64&&hN(t,e,r))}function DE(t,e,r=Bn){const n=e.localNames;if(n!==null){let i=e.index+1;for(let s=0;s<n.length;s+=2){const o=n[s+1],a=o===-1?r(e,t):t[o];t[i++]=a}}}function cN(t){const e=t.tView;return e===null||e.incompleteFirstPass?t.tView=kE(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function kE(t,e,r,n,i,s,o,a,l,c,u){const d=Se+n,h=d+i,f=G8(d,h),p=typeof c=="function"?c():c;return f[Y]={type:t,blueprint:f,template:r,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function G8(t,e){const r=[];for(let n=0;n<e;n++)r.push(n<t?null:ue);return r}function q8(t,e,r,n){const s=n.get(xR,IR)||r===Ii.ShadowDom,o=t.selectRootElement(e,s);return K8(o),o}function K8(t){uN(t)}let uN=()=>null;function Z8(t){mR(t)?eN(t):$4(t)}function Y8(){uN=Z8}function J8(t,e,r,n){const i=gN(e);i.push(r),t.firstCreatePass&&mN(t).push(n,i.length-1)}function X8(t,e,r,n,i,s){let o=e?e.injectorIndex:-1,a=0;return Lc()&&(a|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function sS(t,e,r,n,i){for(let s in e){if(!e.hasOwnProperty(s))continue;const o=e[s];if(o===void 0)continue;n??(n={});let a,l=mo.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(i!==null){if(!i.hasOwnProperty(s))continue;c=i[s]}t===0?oS(n,r,c,a,l):oS(n,r,c,a)}return n}function oS(t,e,r,n,i){let s;t.hasOwnProperty(r)?(s=t[r]).push(e,n):s=t[r]=[e,n],i!==void 0&&s.push(i)}function Q8(t,e,r){const n=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let l=null,c=null;for(let u=n;u<i;u++){const d=s[u],h=r?r.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;l=sS(0,d.inputs,u,l,f),c=sS(1,d.outputs,u,c,p);const g=l!==null&&o!==null&&!$0(e)?f5(l,u,o):null;a.push(g)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function e5(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Hn(t,e,r,n,i,s,o,a){const l=Bn(e,r);let c=e.inputs,u;!a&&c!=null&&(u=c[n])?(TE(t,r,u,n,i),dh(e)&&t5(r,e.index)):e.type&3?(n=e5(n),i=o!=null?o(i,e.value||"",n):i,s.setProperty(l,n,i)):e.type&12}function t5(t,e){const r=Ro(e,t);r[oe]&16||(r[oe]|=64)}function ME(t,e,r,n){if(VO()){const i=n===null?null:{"":-1},s=o5(t,r);let o,a;s===null?o=a=null:[o,a]=s,o!==null&&dN(t,e,r,o,i,a),i&&a5(r,n,i)}r.mergedAttrs=md(r.mergedAttrs,r.attrs)}function dN(t,e,r,n,i,s){for(let c=0;c<n.length;c++)Jw(Zp(r,e),t,n[c].type);c5(r,t.data.length,n.length);for(let c=0;c<n.length;c++){const u=n[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=_h(t,e,n.length,null);for(let c=0;c<n.length;c++){const u=n[c];r.mergedAttrs=md(r.mergedAttrs,u.hostAttrs),u5(t,r,e,l,u),l5(l,u,i),u.contentQueries!==null&&(r.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(r.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??(t.preOrderHooks=[])).push(r.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(r.index),a=!0),l++}Q8(t,r,s)}function n5(t,e,r,n,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);const a=~e.index;r5(o)!=a&&o.push(a),o.push(r,n,s)}}function r5(t){let e=t.length;for(;e>0;){const r=t[--e];if(typeof r=="number"&&r<0)return r}return 0}function i5(t,e,r,n){const i=r.directiveStart,s=r.directiveEnd;dh(r)&&d5(e,r,t.data[i+r.componentOffset]),t.firstCreatePass||Zp(r,e),Fi(n,e);const o=r.initialInputs;for(let a=i;a<s;a++){const l=t.data[a],c=ka(e,t,a,r);if(Fi(c,e),o!==null&&h5(e,a-i,c,l,r,o),Xr(l)){const u=Ro(r.index,e);u[sn]=ka(e,t,a,r)}}}function hN(t,e,r){const n=r.directiveStart,i=r.directiveEnd,s=r.index,o=x3();try{Da(s);for(let a=n;a<i;a++){const l=t.data[a],c=e[a];Zw(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&s5(l,c)}}finally{Da(-1),Zw(o)}}function s5(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function o5(t,e){const r=t.directiveRegistry;let n=null,i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];if(_O(e,o.selectors,!1))if(n||(n=[]),Xr(o))if(o.findHostDirectiveDefs!==null){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),n.unshift(...a,o);const l=a.length;l_(t,e,l)}else n.unshift(o),l_(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,n,i),n.push(o)}return n===null?null:[n,i]}function l_(t,e,r){e.componentOffset=r,(t.components??(t.components=[])).push(e.index)}function a5(t,e,r){if(e){const n=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=r[e[i+1]];if(s==null)throw new z(-301,!1);n.push(e[i],s)}}}function l5(t,e,r){if(r){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)r[e.exportAs[n]]=t;Xr(e)&&(r[""]=t)}}function c5(t,e,r){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+r,t.providerIndexes=e}function u5(t,e,r,n,i){t.data[n]=i;const s=i.factory||(i.factory=_a(i.type,!0)),o=new gh(s,Xr(i),O);t.blueprint[n]=o,r[n]=o,n5(t,e,n,_h(t,r,i.hostVars,ue),i)}function d5(t,e,r){const n=Bn(e,t),i=cN(r),s=t[Li].rendererFactory;let o=16;r.signals?o=4096:r.onPush&&(o=64);const a=Cy(t,_y(t,i,null,o,n,e,null,s.createRenderer(n,r),null,null,null));t[e.index]=a}function Wi(t,e,r,n,i,s){const o=Bn(t,e);SE(e[ce],o,s,t.value,r,n,i)}function SE(t,e,r,n,i,s,o){if(s==null)t.removeAttribute(e,i,r);else{const a=o==null?fe(s):o(s,n||"",i);t.setAttribute(e,i,a,r)}}function h5(t,e,r,n,i,s){const o=s[e];if(o!==null)for(let a=0;a<o.length;){const l=o[a++],c=o[a++],u=o[a++],d=o[a++];aN(n,r,l,c,u,d)}}function f5(t,e,r){let n=null,i=0;for(;i<r.length;){const s=r[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){n===null&&(n=[]);const o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){n.push(s,o[a+1],o[a+2],r[i+1]);break}}i+=2}return n}function fN(t,e,r,n){return[t,!0,0,e,null,n,null,r,null,null]}function pN(t,e){const r=t.contentQueries;if(r!==null){const n=pe(null);try{for(let i=0;i<r.length;i+=2){const s=r[i],o=r[i+1];if(o!==-1){const a=t.data[o];uy(s),a.contentQueries(2,e[o],o)}}}finally{pe(n)}}}function Cy(t,e){return t[yd]?t[BM][Gr]=e:t[yd]=e,t[BM]=e,e}function c_(t,e,r){uy(0);const n=pe(null);try{e(t,r)}finally{pe(n)}}function gN(t){return t[zl]??(t[zl]=[])}function mN(t){return t.cleanup??(t.cleanup=[])}function yN(t,e,r){return(t===null||Xr(t))&&(r=y3(r[e.index])),r[ce]}function Ey(t,e){const r=t[Jt],n=r?r.get(Po,null):null;n&&n.handleError(e)}function TE(t,e,r,n,i){for(let s=0;s<r.length;){const o=r[s++],a=r[s++],l=r[s++],c=e[o],u=t.data[o];aN(u,c,n,a,l,i)}}function Is(t,e,r){const n=hh(e,t);$R(t[ce],n,r)}function p5(t,e){const r=Ro(e,t),n=r[Y];g5(n,r);const i=r[Nn];i!==null&&r[Mr]===null&&(r[Mr]=dE(i,r[Jt])),IE(n,r,r[sn])}function g5(t,e){for(let r=e.length;r<t.blueprint.length;r++)e.push(t.blueprint[r])}function IE(t,e,r){rE(e);try{const n=t.viewQuery;n!==null&&c_(1,n,r);const i=t.template;i!==null&&lN(t,e,i,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),e[qr]?.finishViewCreation(t),t.staticContentQueries&&pN(t,e),t.staticViewQueries&&c_(2,t.viewQuery,r);const s=t.components;s!==null&&m5(e,s)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{e[oe]&=-5,iE()}}function m5(t,e){for(let r=0;r<e.length;r++)p5(t,e[r])}function jc(t,e,r,n){const i=pe(null);try{const s=e.tView,a=t[oe]&4096?4096:16,l=_y(t,s,r,a,null,e,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),c=t[e.index];l[Ca]=c;const u=t[qr];return u!==null&&(l[qr]=u.createEmbeddedView(s)),IE(s,l,r),l}finally{pe(i)}}function vN(t,e){const r=Wt+e;if(r<t.length)return t[r]}function Sa(t,e){return!e||e.firstChild===null||Xp(t)}function Uc(t,e,r,n=!0){const i=e[Y];if(F8(i,e,t,r),n){const o=a_(r,t),a=e[ce],l=bE(a,t[_s]);l!==null&&P8(i,t[En],a,e,l,o)}const s=e[Mr];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function xE(t,e){const r=_d(t,e);return r!==void 0&&vy(r[Y],r),r}function eg(t,e,r,n,i=!1){for(;r!==null;){if(r.type===128){r=i?r.projectionNext:r.next;continue}const s=e[r.index];s!==null&&n.push(Qn(s)),zi(s)&&y5(s,n);const o=r.type;if(o&8)eg(t,e,r.child,n);else if(o&32){const a=gE(r,e);let l;for(;l=a();)n.push(l)}else if(o&16){const a=QR(e,r);if(Array.isArray(a))n.push(...a);else{const l=Ea(e[an]);eg(l[Y],l,a,n,!0)}}r=i?r.projectionNext:r.next}return n}function y5(t,e){for(let r=Wt;r<t.length;r++){const n=t[r],i=n[Y].firstChild;i!==null&&eg(n[Y],n,i,e)}t[_s]!==t[Nn]&&e.push(t[_s])}let bN=[];function v5(t){return t[br]??b5(t)}function b5(t){const e=bN.pop()??Object.create(_5);return e.lView=t,e}function w5(t){t.lView[br]!==t&&(t.lView=null,bN.push(t))}const _5={...ih,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ly(t.lView)},consumerOnSignalRead(){this.lView[br]=this}};function C5(t){const e=t[br]??Object.create(E5);return e.lView=t,e}const E5={...ih,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Ea(t.lView);for(;e&&!wN(e[Y]);)e=Ea(e);e&&LO(e)},consumerOnSignalRead(){this.lView[br]=this}};function wN(t){return t.type!==2}const D5=100;function _N(t,e=!0,r=0){const n=t[Li],i=n.rendererFactory,s=!1;s||i.begin?.();try{k5(t,r)}catch(o){throw e&&Ey(t,o),o}finally{s||(i.end?.(),n.inlineEffectRunner?.flush())}}function k5(t,e){const r=UO();try{HM(!0),u_(t,e);let n=0;for(;bd(t);){if(n===D5)throw new z(103,!1);n++,u_(t,1)}}finally{HM(r)}}function M5(t,e,r,n){const i=e[oe];if((i&256)===256)return;const s=!1,o=!1;!s&&e[Li].inlineEffectRunner?.flush(),rE(e);let a=!0,l=null,c=null;s||(wN(t)?(c=v5(e),l=Rp(c)):JU()===null?(a=!1,c=C5(e),l=Rp(c)):e[br]&&(k0(e[br]),e[br]=null));try{PO(e),$O(t.bindingStartIndex),r!==null&&lN(t,e,r,2,n);const u=(i&3)===3;if(!s)if(u){const f=t.preOrderCheckHooks;f!==null&&ep(e,f,null)}else{const f=t.preOrderHooks;f!==null&&tp(e,f,0,null),Qv(e,0)}if(o||S5(e),CN(e,0),t.contentQueries!==null&&pN(t,e),!s)if(u){const f=t.contentCheckHooks;f!==null&&ep(e,f)}else{const f=t.contentHooks;f!==null&&tp(e,f,1),Qv(e,1)}W8(t,e);const d=t.components;d!==null&&DN(e,d,0);const h=t.viewQuery;if(h!==null&&c_(2,h,n),!s)if(u){const f=t.viewCheckHooks;f!==null&&ep(e,f)}else{const f=t.viewHooks;f!==null&&tp(e,f,2),Qv(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Wl]){for(const f of e[Wl])f();e[Wl]=null}s||(e[oe]&=-73)}catch(u){throw s||ly(e),u}finally{c!==null&&(E0(c,l),a&&w5(c)),iE()}}function CN(t,e){for(let r=vR(t);r!==null;r=bR(r))for(let n=Wt;n<r.length;n++){const i=r[n];EN(i,e)}}function S5(t){for(let e=vR(t);e!==null;e=bR(e)){if(!(e[oe]&zp.HasTransplantedViews))continue;const r=e[dc];for(let n=0;n<r.length;n++){const i=r[n];LO(i)}}}function T5(t,e,r){const n=Ro(e,t);EN(n,r)}function EN(t,e){J0(t)&&u_(t,e)}function u_(t,e){const n=t[Y],i=t[oe],s=t[br];let o=!!(e===0&&i&16);if(o||(o=!!(i&64&&e===0)),o||(o=!!(i&1024)),o||(o=!!(s?.dirty&&D0(s))),o||(o=!1),s&&(s.dirty=!1),t[oe]&=-9217,o)M5(n,t,n.template,t[sn]);else if(i&8192){CN(t,1);const a=n.components;a!==null&&DN(t,a,1)}}function DN(t,e,r){for(let n=0;n<e.length;n++)T5(t,e[n],r)}function Dy(t,e){const r=UO()?64:1088;for(t[Li].changeDetectionScheduler?.notify(e);t;){t[oe]|=r;const n=Ea(t);if(Wp(t)&&!n)return t;t=n}return null}class Cd{get rootNodes(){const e=this._lView,r=e[Y];return eg(r,e,r.firstChild,[])}constructor(e,r,n=!0){this._lView=e,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[sn]}set context(e){this._lView[sn]=e}get destroyed(){return(this._lView[oe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Yt];if(zi(e)){const r=e[$p],n=r?r.indexOf(this):-1;n>-1&&(_d(e,n),Hp(r,n))}this._attachedToViewContainer=!1}vy(this._lView[Y],this._lView)}onDestroy(e){cy(this._lView,e)}markForCheck(){Dy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[oe]&=-129}reattach(){Gw(this._lView),this._lView[oe]|=128}detectChanges(){this._lView[oe]|=1024,_N(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const e=Wp(this._lView),r=this._lView[Ca];r!==null&&!e&&vE(r,this._lView),zR(this._lView[Y],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e;const r=Wp(this._lView),n=this._lView[Ca];n!==null&&!r&&WR(n,this._lView),Gw(this._lView)}}let Tr=(()=>{const e=class e{};e.__NG_ELEMENT_ID__=A5;let t=e;return t})();const I5=Tr,x5=class extends I5{constructor(e,r,n){super(),this._declarationLView=e,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,r){return this.createEmbeddedViewImpl(e,r)}createEmbeddedViewImpl(e,r,n){const i=jc(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:r,dehydratedView:n});return new Cd(i)}};function A5(){return ky(Ge(),k())}function ky(t,e){return t.type&4?new x5(e,t,Bc(t,e)):null}function kN(t,e,r){const n=e.insertBeforeIndex,i=Array.isArray(n)?n[0]:n;return i===null?YR(t,e,r):Qn(r[i])}function MN(t,e,r,n,i){const s=e.insertBeforeIndex;if(Array.isArray(s)){let o=n,a=null;if(e.type&3||(a=o,o=i),o!==null&&e.componentOffset===-1)for(let l=1;l<s.length;l++){const c=r[s[l]];Ma(t,o,c,a,!1)}}}function SN(t,e){if(t.push(e),t.length>1)for(let r=t.length-2;r>=0;r--){const n=t[r];TN(n)||O5(n,e)&&R5(n)===null&&N5(n,e.index)}}function TN(t){return!(t.type&64)}function O5(t,e){return TN(e)||t.index>e.index}function R5(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function N5(t,e){const r=t.insertBeforeIndex;Array.isArray(r)?r[0]=e:(XR(kN,MN),t.insertBeforeIndex=e)}function ju(t,e){const r=t.data[e];return r===null||typeof r=="string"?null:r.hasOwnProperty("currentCaseLViewIndex")?r:r.value}function P5(t,e,r){const n=t.data[e];n===null?t.data[e]=r:n.value=r}function L5(t,e){let r=t.insertBeforeIndex;r===null?(XR(kN,MN),r=t.insertBeforeIndex=[null,e]):(pz(Array.isArray(r),!0,"Expecting array here"),r.push(e))}function F5(t,e,r){const n=_E(t,r,64,null,null);return SN(e,n),n}function My(t,e){const r=e[t.currentCaseLViewIndex];return r===null?r:r<0?~r:r}function B5(t){return t>>>17}function V5(t){return(t&131070)>>>1}function H5(t,e,r){return t|e<<17|r<<1}function j5(t){return t===-1}function IN(t,e,r){t.index=0;const n=My(e,r);n!==null?t.removes=e.remove[n]:t.removes=Fe}function d_(t){if(t.index<t.removes.length){const e=t.removes[t.index++];if(e>0)return t.lView[e];{t.stack.push(t.index,t.removes);const r=~e,n=t.lView[Y].data[r];return IN(t,n,t.lView),d_(t)}}else return t.stack.length===0?null:(t.removes=t.stack.pop(),t.index=t.stack.pop(),d_(t))}function U5(){const t={stack:[],index:-1};function e(r,n){for(t.lView=n;t.stack.length;)t.stack.pop();return IN(t,r.value,n),d_.bind(null,t)}return e}const $5=new RegExp(`^(\\d+)*(${ER}|${CR})*(.*)`);function z5(t){const e=t.match($5),[r,n,i,s]=e,o=n?parseInt(n,10):i,a=[];for(const[l,c,u]of s.matchAll(/(f|n)(\d*)/g)){const d=parseInt(u,10)||1;a.push(c,d)}return[o,...a]}function W5(t){return!t.prev&&t.parent?.type===8}function sb(t){return t.index-Se}function G5(t,e){const r=t.i18nNodes;if(r)return r.get(e)}function Sy(t,e,r,n){const i=sb(n);let s=G5(t,i);if(s===void 0){const o=t.data[L4];if(o?.[i])s=K5(o[i],r);else if(e.firstChild===n)s=t.firstChild;else{const a=n.prev===null,l=n.prev??n.parent;if(W5(n)){const c=sb(n.parent);s=n_(t,c)}else{let c=Bn(l,r);if(a)s=c.firstChild;else{const u=sb(l),d=n_(t,u);if(l.type===2&&d){const f=hE(t,u)+1;s=Ty(f,d)}else s=c.nextSibling}}}}return s}function Ty(t,e){let r=e;for(let n=0;n<t;n++)r=r.nextSibling;return r}function q5(t,e){let r=t;for(let n=0;n<e.length;n+=2){const i=e[n],s=e[n+1];for(let o=0;o<s;o++)switch(i){case t_.FirstChild:r=r.firstChild;break;case t_.NextSibling:r=r.nextSibling;break}}return r}function K5(t,e){const[r,...n]=z5(t);let i;if(r===CR)i=e[an][Nn];else if(r===ER)i=UR(e[an][Nn]);else{const s=Number(r);i=Qn(e[s+Se])}return q5(i,n)}function Z5(t){const e=t[Mr];if(e){const{i18nNodes:r,dehydratedIcuData:n}=e;if(r&&n){const i=t[ce];for(const s of n.values())Y5(i,r,s)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function Y5(t,e,r){for(const n of r.node.cases[r.case]){const i=e.get(n.index-Se);i&&wh(t,i,!1)}}function xN(t){const e=t[vd]??[],n=t[Yt][ce];for(const i of e)J5(i,n);t[vd]=Fe}function J5(t,e){let r=0,n=t.firstChild;if(n){const i=t.data[Qp];for(;r<i;){const s=n.nextSibling;wh(e,n,!1),n=s,r++}}}function AN(t){xN(t);const e=t[Nn];Kr(e)&&tg(e);for(let r=Wt;r<t.length;r++)tg(t[r])}function tg(t){Z5(t);const e=t[Y];for(let r=Se;r<e.bindingStartIndex;r++)if(zi(t[r])){const n=t[r];AN(n)}else Kr(t[r])&&tg(t[r])}function X5(t){const e=t._views;for(const r of e){const n=j4(r);n!==null&&n[Nn]!==null&&(Kr(n)?tg(n):AN(n))}}function Q5(t,e){const r=[];for(const n of e)for(let i=0;i<(n[DR]??1);i++){const s={data:n,firstChild:null};n[Qp]>0&&(s.firstChild=t,t=Ty(n[Qp],t)),r.push(s)}return[t,r]}let ON=()=>null;function eW(t,e){const r=t[vd];return!e||r===null||r.length===0?null:r[0].data[P4]===e?r.shift():(xN(t),null)}function tW(){ON=eW}function Ta(t,e){return ON(t,e)}class Ch{}const AE=new A("",{providedIn:"root",factory:()=>!1}),jpe=new A("",{providedIn:"root",factory:()=>!1}),RN=new A("");class nW{}class NN{}function rW(t){const e=Error(`No component factory found for ${dn(t)}.`);return e[iW]=t,e}const iW="ngComponent";class sW{resolveComponentFactory(e){throw rW(e)}}const uM=class uM{};uM.NULL=new sW;let vo=uM;class Iy{}let ai=(()=>{const e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>oW();let t=e;return t})();function oW(){const t=k(),e=Ge(),r=Ro(e.index,t);return(Kr(r)?r:t)[ce]}let aW=(()=>{const e=class e{};e.ɵprov=P({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();const aS=new Set;function ir(t){aS.has(t)||(aS.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var mn=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(mn||{});const PN={destroy(){}};function lS(t,e){const r=e?.injector??w(tt);if(!e?.runOnServer&&!Wr(r))return;r.get(xy).internalCallbacks.push(t)}function LN(t,e){!e&&sy(LN);const r=e?.injector??w(tt);return Wr(r)?(ir("NgAfterRender"),FN(t,r,!1,e?.phase??mn.MixedReadWrite)):PN}function Eh(t,e){!e&&sy(Eh);const r=e?.injector??w(tt);return Wr(r)?(ir("NgAfterNextRender"),FN(t,r,!0,e?.phase??mn.MixedReadWrite)):PN}function lW(t,e){if(t instanceof Function)switch(e){case mn.EarlyRead:return{earlyRead:t};case mn.Write:return{write:t};case mn.MixedReadWrite:return{mixedReadWrite:t};case mn.Read:return{read:t}}return t}function FN(t,e,r,n){const i=lW(t,n),s=e.get(xy),o=s.handler??(s.handler=new uW),a=[],l=[],c=()=>{for(const f of l)o.unregister(f);u()},u=e.get(Fc).onDestroy(c);let d=0;const h=(f,p)=>{if(!p)return;const g=r?(...y)=>(d--,d<1&&c(),p(...y)):p,m=Fn(e,()=>new cW(f,a,g));o.register(m),l.push(m),d++};return h(mn.EarlyRead,i.earlyRead),h(mn.Write,i.write),h(mn.MixedReadWrite,i.mixedReadWrite),h(mn.Read,i.read),{destroy:c}}class cW{constructor(e,r,n){this.phase=e,this.pipelinedArgs=r,this.callbackFn=n,this.zone=w(Me),this.errorHandler=w(Po,{optional:!0}),w(Ch,{optional:!0})?.notify(6)}invoke(){try{const e=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,e)}catch(e){this.errorHandler?.handleError(e)}}}class uW{constructor(){this.executingCallbacks=!1,this.buckets={[mn.EarlyRead]:new Set,[mn.Write]:new Set,[mn.MixedReadWrite]:new Set,[mn.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const r of e)r.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let xy=(()=>{const e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of n)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.ɵprov=P({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function OE(t){return t.ngModule!==void 0}function kl(t){return!!yo(t)}function af(t){return!!Ds(t)}function cS(t){return!!si(t)}function Uu(t){return!!Pt(t)}function dW(t){return Pt(t)?"component":si(t)?"directive":Ds(t)?"pipe":"type"}function hW(t,e){if(ty(t)&&(t=Be(t),!t))throw new Error(`Expected forwardRef function, imported from "${Ei(e)}", to return a standalone entity or NgModule but got "${Ei(t)||t}".`);if(yo(t)==null){const r=Pt(t)||si(t)||Ds(t);if(r!=null){if(!r.standalone)throw new Error(`The "${Ei(t)}" ${dW(t)}, imported from "${Ei(e)}", is not standalone. Did you forget to add the standalone: true flag?`)}else throw OE(t)?new Error(`A module with providers was imported from "${Ei(e)}". Modules with providers are not supported in standalone components imports.`):new Error(`The "${Ei(t)}" type, imported from "${Ei(e)}", must be a standalone component / directive / pipe or an NgModule. Did you forget to add the required @Component / @Directive / @Pipe or @NgModule annotation?`)}}class fW{constructor(){this.ownerNgModule=new Map,this.ngModulesWithSomeUnresolvedDecls=new Set,this.ngModulesScopeCache=new Map,this.standaloneComponentsScopeCache=new Map}resolveNgModulesDecls(){if(this.ngModulesWithSomeUnresolvedDecls.size!==0){for(const e of this.ngModulesWithSomeUnresolvedDecls){const r=yo(e);if(r?.declarations)for(const n of Fl(r.declarations))Uu(n)&&this.ownerNgModule.set(n,e)}this.ngModulesWithSomeUnresolvedDecls.clear()}}getComponentDependencies(e,r){this.resolveNgModulesDecls();const n=Pt(e);if(n===null)throw new Error(`Attempting to get component dependencies for a type that is not a component: ${e}`);if(n.standalone){const i=this.getStandaloneComponentScope(e,r);return i.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...i.compilation.directives,...i.compilation.pipes,...i.compilation.ngModules]}}else{if(!this.ownerNgModule.has(e))return{dependencies:[]};const i=this.getNgModuleScope(this.ownerNgModule.get(e));return i.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...i.compilation.directives,...i.compilation.pipes]}}}registerNgModule(e,r){if(!kl(e))throw new Error(`Attempting to register a Type which is not NgModule as NgModule: ${e}`);this.ngModulesWithSomeUnresolvedDecls.add(e)}clearScopeCacheFor(e){this.ngModulesScopeCache.delete(e),this.standaloneComponentsScopeCache.delete(e)}getNgModuleScope(e){if(this.ngModulesScopeCache.has(e))return this.ngModulesScopeCache.get(e);const r=this.computeNgModuleScope(e);return this.ngModulesScopeCache.set(e,r),r}computeNgModuleScope(e){const r=yo(e,!0),n={exported:{directives:new Set,pipes:new Set},compilation:{directives:new Set,pipes:new Set}};for(const i of Fl(r.imports))if(kl(i)){const s=this.getNgModuleScope(i);Ls(s.exported.directives,n.compilation.directives),Ls(s.exported.pipes,n.compilation.pipes)}else if(jp(i))if(cS(i)||Uu(i))n.compilation.directives.add(i);else if(af(i))n.compilation.pipes.add(i);else throw new z(1e3,"The standalone imported type is neither a component nor a directive nor a pipe");else{n.compilation.isPoisoned=!0;break}if(!n.compilation.isPoisoned)for(const i of Fl(r.declarations)){if(kl(i)||jp(i)){n.compilation.isPoisoned=!0;break}af(i)?n.compilation.pipes.add(i):n.compilation.directives.add(i)}for(const i of Fl(r.exports))if(kl(i)){const s=this.getNgModuleScope(i);Ls(s.exported.directives,n.exported.directives),Ls(s.exported.pipes,n.exported.pipes),Ls(s.exported.directives,n.compilation.directives),Ls(s.exported.pipes,n.compilation.pipes)}else af(i)?n.exported.pipes.add(i):n.exported.directives.add(i);return n}getStandaloneComponentScope(e,r){if(this.standaloneComponentsScopeCache.has(e))return this.standaloneComponentsScopeCache.get(e);const n=this.computeStandaloneComponentScope(e,r);return this.standaloneComponentsScopeCache.set(e,n),n}computeStandaloneComponentScope(e,r){const n={compilation:{directives:new Set([e]),pipes:new Set,ngModules:new Set}};for(const i of Di(r??[])){const s=Be(i);try{hW(s,e)}catch{return n.compilation.isPoisoned=!0,n}if(kl(s)){n.compilation.ngModules.add(s);const o=this.getNgModuleScope(s);if(o.exported.isPoisoned)return n.compilation.isPoisoned=!0,n;Ls(o.exported.directives,n.compilation.directives),Ls(o.exported.pipes,n.compilation.pipes)}else if(af(s))n.compilation.pipes.add(s);else if(cS(s)||Uu(s))n.compilation.directives.add(s);else return n.compilation.isPoisoned=!0,n}return n}isOrphanComponent(e){const r=Pt(e);return!r||r.standalone?!1:(this.resolveNgModulesDecls(),!this.ownerNgModule.has(e))}}function Ls(t,e){for(const r of t)e.add(r)}const Ed=new fW;function ng(t,e,r){let n=r?t.styles:null,i=r?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){const a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Lw(i,a);else if(s==2){const l=a,c=e[++o];n=Lw(n,l+": "+c+";")}}r?t.styles=n:t.stylesWithoutHost=n,r?t.classes=i:t.classesWithoutHost=i}class BN extends vo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const r=Pt(e);return new Ay(r,this.ngModule)}}function uS(t,e){const r=[];for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n];if(i===void 0)continue;const s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:mo.None;e?r.push({propName:o,templateName:n,isSignal:(a&mo.SignalBased)!==0}):r.push({propName:o,templateName:n})}return r}function pW(t){const e=t.toLowerCase();return e==="svg"?RO:e==="math"?NO:null}class Ay extends NN{get inputs(){const e=this.componentDef,r=e.inputTransforms,n=uS(e.inputs,!0);if(r!==null)for(const i of n)r.hasOwnProperty(i.propName)&&(i.transform=r[i.propName]);return n}get outputs(){return uS(this.componentDef.outputs,!1)}constructor(e,r){super(),this.componentDef=e,this.ngModule=r,this.componentType=e.type,this.selector=zz(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!r}create(e,r,n,i){const s=pe(null);try{i=i||this.ngModule;let o=i instanceof kr?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new np(e,o):e,l=a.get(Iy,null);if(l===null)throw new z(407,!1);const c=a.get(aW,null),u=a.get(xy,null),d=a.get(Ch,null),h={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},f=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",g=n?q8(f,n,this.componentDef.encapsulation,a):yy(f,p,pW(p));let m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let y=null;g!==null&&(y=dE(g,a,!0));const v=kE(0,null,null,1,0,null,null,null,null,null,null),b=_y(null,v,null,m,null,null,h,f,a,null,y);rE(b);let C,M;try{const T=this.componentDef;let F,R=null;T.findHostDirectiveDefs?(F=[],R=new Map,T.findHostDirectiveDefs(T,F,R),F.push(T)):F=[T];const $=mW(b,g),q=yW($,g,T,F,b,h,f);M=fh(v,Se),g&&wW(f,T,g,n),r!==void 0&&_W(M,this.ngContentSelectors,r),C=bW(q,T,F,R,b,[CW]),IE(v,b,null)}finally{iE()}return new gW(this.componentType,C,Bc(M,b),b,M)}finally{pe(s)}}}class gW extends nW{constructor(e,r,n,i,s){super(),this.location=n,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Cd(i,void 0,!1),this.componentType=e}setInput(e,r){const n=this._tNode.inputs;let i;if(n!==null&&(i=n[e])){if(this.previousInputValues??(this.previousInputValues=new Map),this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),r))return;const s=this._rootLView;TE(s[Y],s,i,e,r),this.previousInputValues.set(e,r);const o=Ro(this._tNode.index,s);Dy(o,1)}}get injector(){return new Hu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function mW(t,e){const r=t[Y],n=Se;return t[n]=e,el(r,n,2,"#host",null)}function yW(t,e,r,n,i,s,o){const a=i[Y];vW(n,t,e,o);let l=null;e!==null&&(l=dE(e,i[Jt]));const c=s.rendererFactory.createRenderer(e,r);let u=16;r.signals?u=4096:r.onPush&&(u=64);const d=_y(i,cN(r),null,u,i[t.index],t,s,c,null,null,l);return a.firstCreatePass&&l_(a,t,n.length-1),Cy(i,d),i[t.index]=d}function vW(t,e,r,n){for(const i of t)e.mergedAttrs=md(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(ng(e,e.mergedAttrs,!0),r!==null&&rN(n,r,e))}function bW(t,e,r,n,i,s){const o=Ge(),a=i[Y],l=Bn(o,i);dN(a,i,o,r,null,n);for(let u=0;u<r.length;u++){const d=o.directiveStart+u,h=ka(i,a,d,o);Fi(h,i)}hN(a,i,o),l&&Fi(l,i);const c=ka(i,a,o.directiveStart+o.componentOffset,o);if(t[sn]=i[sn]=c,s!==null)for(const u of s)u(c,e);return CE(a,o,i),c}function wW(t,e,r,n){if(n)jw(t,r,["ng-version","18.2.0"]);else{const{attrs:i,classes:s}=Wz(e.selectors[0]);i&&jw(t,r,i),s&&s.length>0&&nN(t,r,s.join(" "))}}function _W(t,e,r){const n=t.projection=[];for(let i=0;i<e.length;i++){const s=r[i];n.push(s!=null?Array.from(s):null)}}function CW(){const t=Ge();dy(k()[Y],t)}let kn=(()=>{const e=class e{};e.__NG_ELEMENT_ID__=EW;let t=e;return t})();function EW(){const t=Ge();return HN(t,k())}const DW=kn,VN=class extends DW{constructor(e,r,n){super(),this._lContainer=e,this._hostTNode=r,this._hostLView=n}get element(){return Bc(this._hostTNode,this._hostLView)}get injector(){return new Hu(this._hostTNode,this._hostLView)}get parentInjector(){const e=sE(this._hostTNode,this._hostLView);if(QO(e)){const r=qp(e,this._hostLView),n=Gp(e),i=r[Y].data[n+8];return new Hu(i,r)}else return new Hu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const r=dS(this._lContainer);return r!==null&&r[e]||null}get length(){return this._lContainer.length-Wt}createEmbeddedView(e,r,n){let i,s;typeof n=="number"?i=n:n!=null&&(i=n.index,s=n.injector);const o=Ta(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(r||{},s,o);return this.insertImpl(a,i,Sa(this._hostTNode,o)),a}createComponent(e,r,n,i,s){const o=e&&!Mu(e);let a;if(o)a=r;else{const p=r||{};a=p.index,n=p.injector,i=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}const l=o?e:new Ay(Pt(e)),c=n||this.parentInjector;if(!s&&l.ngModule==null){const g=(o?c:this.parentInjector).get(kr,null);g&&(s=g)}const u=Pt(l.componentType??{}),d=Ta(this._lContainer,u?.id??null),h=d?.firstChild??null,f=l.create(c,i,h,s);return this.insertImpl(f.hostView,a,Sa(this._hostTNode,d)),f}insert(e,r){return this.insertImpl(e,r,!0)}insertImpl(e,r,n){const i=e._lView;if(b3(i)){const a=this.indexOf(e);if(a!==-1)this.detach(a);else{const l=i[Yt],c=new VN(l,l[En],l[Yt]);c.detach(c.indexOf(e))}}const s=this._adjustIndex(r),o=this._lContainer;return Uc(o,i,s,n),e.attachToViewContainerRef(),pO(ob(o),s,e),e}move(e,r){return this.insert(e,r)}indexOf(e){const r=dS(this._lContainer);return r!==null?r.indexOf(e):-1}remove(e){const r=this._adjustIndex(e,-1),n=_d(this._lContainer,r);n&&(Hp(ob(this._lContainer),r),vy(n[Y],n))}detach(e){const r=this._adjustIndex(e,-1),n=_d(this._lContainer,r);return n&&Hp(ob(this._lContainer),r)!=null?new Cd(n):null}_adjustIndex(e,r=0){return e??this.length+r}};function dS(t){return t[$p]}function ob(t){return t[$p]||(t[$p]=[])}function HN(t,e){let r;const n=e[t.index];return zi(n)?r=n:(r=fN(n,e,null,t),e[t.index]=r,Cy(e,r)),jN(r,e,t,n),new VN(r,t,e)}function kW(t,e){const r=t[ce],n=r.createComment(""),i=Bn(e,t),s=bE(r,i);return Ma(r,s,n,H8(r,i),!1),n}let jN=$N,RE=()=>!1;function UN(t,e,r){return RE(t,e,r)}function $N(t,e,r,n){if(t[_s])return;let i;r.type&8?i=Qn(n):i=kW(e,r),t[_s]=i}function MW(t,e,r){if(t[_s]&&t[vd])return!0;const n=r[Mr],i=e.index-Se;if(!n||C4(e)||yh(n,i))return!1;const o=n_(n,i),a=n.data[uE]?.[i],[l,c]=Q5(o,a);return t[_s]=l,t[vd]=c,!0}function SW(t,e,r,n){RE(t,r,e)||$N(t,e,r,n)}function TW(){jN=SW,RE=MW}class NE{constructor(e){this.queryList=e,this.matches=null}clone(){return new NE(this.queryList)}setDirty(){this.queryList.setDirty()}}class PE{constructor(e=[]){this.queries=e}createEmbeddedView(e){const r=e.queries;if(r!==null){const n=e.contentQueries!==null?e.contentQueries[0]:r.length,i=[];for(let s=0;s<n;s++){const o=r.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new PE(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let r=0;r<this.queries.length;r++)VE(e,r).matches!==null&&this.queries[r].setDirty()}}class zN{constructor(e,r,n=null){this.flags=r,this.read=n,typeof e=="string"?this.predicate=RW(e):this.predicate=e}}class LE{constructor(e=[]){this.queries=e}elementStart(e,r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,r)}elementEnd(e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(e)}embeddedTView(e){let r=null;for(let n=0;n<this.length;n++){const i=r!==null?r.length:0,s=this.getByIndex(n).embeddedTView(e,i);s&&(s.indexInDeclarationView=n,r!==null?r.push(s):r=[s])}return r!==null?new LE(r):null}template(e,r){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,r)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class FE{constructor(e,r=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(e,r){this.isApplyingToNode(r)&&this.matchTNode(e,r)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,r){this.elementStart(e,r)}embeddedTView(e,r){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,r),new FE(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){const r=this._declarationNodeIndex;let n=e.parent;for(;n!==null&&n.type&8&&n.index!==r;)n=n.parent;return r===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(e,r){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const s=n[i];this.matchTNodeWithReadOption(e,r,IW(r,s)),this.matchTNodeWithReadOption(e,r,rp(r,e,s,!1,!1))}else n===Tr?r.type&4&&this.matchTNodeWithReadOption(e,r,-1):this.matchTNodeWithReadOption(e,r,rp(r,e,n,!1,!1))}matchTNodeWithReadOption(e,r,n){if(n!==null){const i=this.metadata.read;if(i!==null)if(i===Ze||i===kn||i===Tr&&r.type&4)this.addMatch(r.index,-2);else{const s=rp(r,e,i,!1,!1);s!==null&&this.addMatch(r.index,s)}else this.addMatch(r.index,n)}}addMatch(e,r){this.matches===null?this.matches=[e,r]:this.matches.push(e,r)}}function IW(t,e){const r=t.localNames;if(r!==null){for(let n=0;n<r.length;n+=2)if(r[n]===e)return r[n+1]}return null}function xW(t,e){return t.type&11?Bc(t,e):t.type&4?ky(t,e):null}function AW(t,e,r,n){return r===-1?xW(e,t):r===-2?OW(t,e,n):ka(t,t[Y],r,e)}function OW(t,e,r){if(r===Ze)return Bc(e,t);if(r===Tr)return ky(e,t);if(r===kn)return HN(e,t)}function WN(t,e,r,n){const i=e[qr].queries[n];if(i.matches===null){const s=t.data,o=r.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){const c=o[l];if(c<0)a.push(null);else{const u=s[c];a.push(AW(e,u,o[l+1],r.metadata.read))}}i.matches=a}return i.matches}function h_(t,e,r,n){const i=t.queries.getByIndex(r),s=i.matches;if(s!==null){const o=WN(t,e,i,r);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)n.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=Wt;d<u.length;d++){const h=u[d];h[Ca]===h[Yt]&&h_(h[Y],h,c,n)}if(u[dc]!==null){const d=u[dc];for(let h=0;h<d.length;h++){const f=d[h];h_(f[Y],f,c,n)}}}}}return n}function BE(t,e){return t[qr].queries[e].queryList}function GN(t,e,r){const n=new hc((r&4)===4);return J8(t,e,n,n.destroy),(e[qr]??(e[qr]=new PE)).queries.push(new NE(n))-1}function qN(t,e,r){const n=_e();return n.firstCreatePass&&(ZN(n,new zN(t,e,r),-1),(e&2)===2&&(n.staticViewQueries=!0)),GN(n,k(),e)}function KN(t,e,r,n){const i=_e();if(i.firstCreatePass){const s=Ge();ZN(i,new zN(e,r,n),s.index),NW(i,t),(r&2)===2&&(i.staticContentQueries=!0)}return GN(i,k(),r)}function RW(t){return t.split(",").map(e=>e.trim())}function ZN(t,e,r){t.queries===null&&(t.queries=new LE),t.queries.track(new FE(e,r))}function NW(t,e){const r=t.contentQueries||(t.contentQueries=[]),n=r.length?r[r.length-1]:-1;e!==n&&r.push(t.queries.length-1,e)}function VE(t,e){return t.queries.getByIndex(e)}function YN(t,e){const r=t[Y],n=VE(r,e);return n.crossesNgTemplate?h_(r,t,e,[]):WN(r,t,n,e)}function f_(t){return typeof t=="function"&&t[Er]!==void 0}function xe(t,e){ir("NgSignals");const r=r$(t),n=r[Er];return r.set=i=>Zm(n,i),r.update=i=>i$(n,i),r.asReadonly=JN.bind(r),r}function JN(){const t=this[Er];if(t.readonlyFn===void 0){const e=()=>this();e[Er]=t,t.readonlyFn=e}return t.readonlyFn}function XN(t){return f_(t)&&typeof t.set=="function"}function QN(t,e){let r;const n=MA(()=>{r._dirtyCounter();const i=FW(r,t);if(e&&i===void 0)throw new z(-951,!1);return i});return r=n[Er],r._dirtyCounter=xe(0),r._flatValue=void 0,n}function PW(){return QN(!0,!1)}function LW(){return QN(!0,!0)}function eP(t,e){const r=t[Er];r._lView=k(),r._queryIndex=e,r._queryList=BE(r._lView,e),r._queryList.onDirty(()=>r._dirtyCounter.update(n=>n+1))}function FW(t,e){const r=t._lView,n=t._queryIndex;if(r===void 0||n===void 0||r[oe]&4)return e?void 0:Fe;const i=BE(r,n),s=YN(r,n);return i.reset(s,pR),e?i.first:i._changesDetected||t._flatValue===void 0?t._flatValue=i.toArray():t._flatValue}function hS(t,e){return PW()}function BW(t,e){return LW()}const $pe=(hS.required=BW,hS);function tP(t){const e=Object.create(oO),r=new fR;e.value=t;function n(){return Gm(e),fS(e.value),e.value}return n[Er]=e,n.asReadonly=JN.bind(n),n.set=i=>{e.equal(e.value,i)||(Zm(e,i),r.emit(i))},n.update=i=>{fS(e.value),n.set(i(e.value))},n.subscribe=r.subscribe.bind(r),n.destroyRef=r.destroyRef,n}function fS(t){if(t===ey)throw new z(952,!1)}function pS(t){return tP(t)}function VW(){return tP(ey)}const nP=(pS.required=VW,pS),rP=!0;class Oy{}Ao("ContentChildren",(t,e={})=>({selector:t,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:rP,...e}),Oy);Ao("ContentChild",(t,e={})=>({selector:t,first:!0,isViewQuery:!1,descendants:!0,...e}),Oy);Ao("ViewChildren",(t,e={})=>({selector:t,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:rP,...e}),Oy);Ao("ViewChild",(t,e)=>({selector:t,first:!0,isViewQuery:!0,descendants:!0,...e}),Oy);function HW(t){const e=[],r=new Map;function n(i){let s=r.get(i);if(!s){const o=t(i);r.set(i,s=o.then(zW))}return s}return Dd.forEach((i,s)=>{const o=[];i.templateUrl&&o.push(n(i.templateUrl).then(c=>{i.template=c}));const a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){const c=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((d,h)=>{a.push(""),o.push(n(d).then(f=>{a[c+h]=f,u.splice(u.indexOf(d),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&o.push(n(i.styleUrl).then(c=>{a.push(c),i.styleUrl=void 0}));const l=Promise.all(o).then(()=>WW(s));e.push(l)}),UW(),Promise.all(e).then(()=>{})}let Dd=new Map;const iP=new Set;function jW(t,e){sP(e)&&(Dd.set(t,e),iP.add(t))}function sP(t){return!!(t.templateUrl&&!t.hasOwnProperty("template")||t.styleUrls&&t.styleUrls.length||t.styleUrl)}function UW(){const t=Dd;return Dd=new Map,t}function $W(){return Dd.size===0}function zW(t){return typeof t=="string"?t:t.text()}function WW(t){iP.delete(t)}const gS=new Map;let GW=!0;function qW(t,e,r){if(e&&e!==r&&GW)throw new Error(`Duplicate module registered for ${t} - ${dn(e)} vs ${dn(e.name)}`)}function oP(t,e){const r=gS.get(e)||null;qW(e,r,t),gS.set(e,t)}function KW(t,e,r){const n=k(),i=ot(),s=Bn(i,n);if(i.type===2&&e.toLowerCase()==="iframe"){const o=s;o.src="",o.srcdoc=Hc(""),wh(n[ce],o);const a=!1;throw new z(-910,a)}return t}function aP(t){return Object.getPrototypeOf(t.prototype).constructor}function Te(t){let e=aP(t.type),r=!0;const n=[t];for(;e;){let i;if(Xr(t))i=e.ɵcmp||e.ɵdir;else{if(e.ɵcmp)throw new z(903,!1);i=e.ɵdir}if(i){if(r){n.push(i);const o=t;o.inputs=lf(t.inputs),o.inputTransforms=lf(t.inputTransforms),o.declaredInputs=lf(t.declaredInputs),o.outputs=lf(t.outputs);const a=i.hostBindings;a&&QW(t,a);const l=i.viewQuery,c=i.contentQueries;if(l&&JW(t,l),c&&XW(t,c),ZW(t,i),hz(t.outputs,i.outputs),Xr(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Te&&(r=!1)}}e=Object.getPrototypeOf(e)}YW(n)}function ZW(t,e){for(const r in e.inputs){if(!e.inputs.hasOwnProperty(r)||t.inputs.hasOwnProperty(r))continue;const n=e.inputs[r];if(n!==void 0&&(t.inputs[r]=n,t.declaredInputs[r]=e.declaredInputs[r],e.inputTransforms!==null)){const i=Array.isArray(n)?n[0]:n;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??(t.inputTransforms={}),t.inputTransforms[i]=e.inputTransforms[i]}}}function YW(t){let e=0,r=null;for(let n=t.length-1;n>=0;n--){const i=t[n];i.hostVars=e+=i.hostVars,i.hostAttrs=md(i.hostAttrs,r=md(r,i.hostAttrs))}}function lf(t){return t===Pi?{}:t===Fe?[]:t}function JW(t,e){const r=t.viewQuery;r?t.viewQuery=(n,i)=>{e(n,i),r(n,i)}:t.viewQuery=e}function XW(t,e){const r=t.contentQueries;r?t.contentQueries=(n,i,s)=>{e(n,i,s),r(n,i,s)}:t.contentQueries=e}function QW(t,e){const r=t.hostBindings;r?t.hostBindings=(n,i)=>{e(n,i),r(n,i)}:t.hostBindings=e}const eG=["providersResolver"],tG=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function nG(t){let e=aP(t.type),r;Xr(t)?r=e.ɵcmp:r=e.ɵdir;const n=t;for(const i of eG)n[i]=r[i];if(Xr(r))for(const i of tG)n[i]=r[i]}function Dh(t){const e=r=>{const n=(Array.isArray(t)?t:t()).map(i=>typeof i=="function"?{directive:Be(i),inputs:Pi,outputs:Pi}:{directive:Be(i.directive),inputs:mS(i.inputs),outputs:mS(i.outputs)});r.hostDirectives===null?(r.findHostDirectiveDefs=lP,r.hostDirectives=n):r.hostDirectives.unshift(...n)};return e.ngInherit=!0,e}function lP(t,e,r){if(t.hostDirectives!==null)for(const n of t.hostDirectives){const i=si(n.directive);rG(i.declaredInputs,n.inputs),lP(i,e,r),r.set(i,n),e.push(i)}}function mS(t){if(t===void 0||t.length===0)return Pi;const e={};for(let r=0;r<t.length;r+=2)e[t[r]]=t[r+1];return e}function rG(t,e){for(const r in e)if(e.hasOwnProperty(r)){const n=e[r],i=t[r];t[n]=i}}function Lo(t){const e=t.inputConfig,r={};for(const n in e)if(e.hasOwnProperty(n)){const i=e[n];Array.isArray(i)&&i[3]&&(r[n]=i[3])}t.inputTransforms=r}class fc{}class cP{}function iG(t,e){return new HE(t,e??null,[])}class HE extends fc{constructor(e,r,n,i=!0){super(),this.ngModuleType=e,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new BN(this);const s=yo(e);this._bootstrapComponents=Fl(s.bootstrap),this._r3Injector=cR(e,r,[{provide:fc,useValue:this},{provide:vo,useValue:this.componentFactoryResolver},...n],dn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class uP extends cP{constructor(e){super(),this.moduleType=e}create(e){return new HE(this.moduleType,e,[])}}function sG(t,e,r){return new HE(t,e,r,!1)}class dP extends fc{constructor(e){super(),this.componentFactoryResolver=new BN(this),this.instance=null;const r=new K0([...e.providers,{provide:fc,useValue:this},{provide:vo,useValue:this.componentFactoryResolver}],e.parent||q0(),e.debugName,new Set(["environment"]));this.injector=r,e.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Ry(t,e,r=null){return new dP({providers:t,parent:e,debugName:r,runEnvironmentInitializers:!0}).injector}let oG=(()=>{const e=class e{constructor(){this.cachedInjectors=new Map}getOrCreateInjector(n,i,s,o){if(!this.cachedInjectors.has(n)){const a=s.length>0?Ry(s,i,o):null;this.cachedInjectors.set(n,a)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};e.ɵprov=P({token:e,providedIn:"environment",factory:()=>new e});let t=e;return t})();function hP(t){return jE(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function aG(t,e){if(Array.isArray(t))for(let r=0;r<t.length;r++)e(t[r]);else{const r=t[Symbol.iterator]();let n;for(;!(n=r.next()).done;)e(n.value)}}function jE(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Gi(t,e,r){return t[e]=r}function kh(t,e){return t[e]}function Dt(t,e,r){const n=t[e];return Object.is(n,r)?!1:(t[e]=r,!0)}function Ia(t,e,r,n){const i=Dt(t,e,r);return Dt(t,e+1,n)||i}function Ny(t,e,r,n,i){const s=Ia(t,e,r,n);return Dt(t,e+2,i)||s}function Ir(t,e,r,n,i,s){const o=Ia(t,e,r,n);return Ia(t,e+2,i,s)||o}function Mh(t){return(t.flags&32)===32}function lG(t,e,r,n,i,s,o,a,l){const c=e.consts,u=el(e,t,4,o||null,a||null);ME(e,r,u,Sr(c,l)),dy(e,u);const d=u.tView=kE(2,u,n,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function kd(t,e,r,n,i,s,o,a,l,c){const u=r+Se,d=e.firstCreatePass?lG(u,e,t,n,i,s,o,a,l):e.data[u];Qr(d,!1);const h=fP(e,t,d,r);ph()&&by(e,t,h,d),Fi(h,t);const f=fN(h,t,h,d);return t[u]=f,Cy(t,f),UN(f,d,t),ay(d)&&EE(e,t,d),l!=null&&DE(t,d,c),d}function Py(t,e,r,n,i,s,o,a){const l=k(),c=_e(),u=Sr(c.consts,s);return kd(l,c,t,e,r,n,i,u,o,a),Py}let fP=pP;function pP(t,e,r,n){return Ss(!0),e[ce].createComment("")}function cG(t,e,r,n){const i=e[Mr],s=!i||Lc()||Mh(r)||yh(i,n);if(Ss(s),s)return pP(t,e);const o=i.data[N4]?.[n]??null;o!==null&&r.tView!==null&&r.tView.ssrId===null&&(r.tView.ssrId=o);const a=Sy(i,t,e,r);gy(i,n,a);const l=hE(i,n);return Ty(l,a)}function uG(){fP=cG}var xt=function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t}(xt||{});const yS=0,dG=1;var Ct=function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t}(Ct||{}),Md=function(t){return t[t.Initial=-1]="Initial",t}(Md||{});const ql=0,Ly=1,Tu=2,cf=3,gP=4,mP=5;var yP=function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t}(yP||{});/*!
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Fy(t,e,r){const n=t===1?mP:gP;e[n]===null&&(e[n]=[]),e[n].push(r)}function p_(t,e){const r=t===1?mP:gP,n=e[r];if(n!==null){for(const i of n)i();e[r]=null}}function vP(t){p_(1,t),p_(0,t)}function By(t){return t+1}function tl(t,e){const r=t[Y],n=By(e.index);return t[n]}function hG(t,e,r){const n=t[Y],i=By(e);t[i]=r}function Rr(t,e){const r=By(e.index);return t.data[r]}function fG(t,e,r){const n=By(e);t.data[n]=r}function pG(t,e,r){const n=e[Y],i=Rr(n,r);switch(t){case Ct.Complete:return i.primaryTmplIndex;case Ct.Loading:return i.loadingTmplIndex;case Ct.Error:return i.errorTmplIndex;case Ct.Placeholder:return i.placeholderTmplIndex;default:return null}}function g_(t,e){return e===Ct.Placeholder?t.placeholderBlockConfig?.[yS]??null:e===Ct.Loading?t.loadingBlockConfig?.[yS]??null:null}function bP(t){return t.loadingBlockConfig?.[dG]??null}function vS(t,e){if(!t||t.length===0)return e;const r=new Set(t);for(const n of e)r.add(n);return t.length===r.size?t:Array.from(r)}function gG(t,e){const r=e.primaryTmplIndex+Se;return fh(t,r)}/*!
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const rg={passive:!0,capture:!0},ab=new WeakMap,lb=new WeakMap,ml=new WeakMap,bS=["click","keydown"],wS=["mouseenter","focusin"];let yl=null,cb=0;class UE{constructor(){this.callbacks=new Set,this.listener=()=>{for(const e of this.callbacks)e()}}}function wP(t,e){let r=lb.get(t);if(!r){r=new UE,lb.set(t,r);for(const n of bS)t.addEventListener(n,r.listener,rg)}return r.callbacks.add(e),()=>{const{callbacks:n,listener:i}=r;if(n.delete(e),n.size===0){lb.delete(t);for(const s of bS)t.removeEventListener(s,i,rg)}}}function _P(t,e){let r=ab.get(t);if(!r){r=new UE,ab.set(t,r);for(const n of wS)t.addEventListener(n,r.listener,rg)}return r.callbacks.add(e),()=>{const{callbacks:n,listener:i}=r;if(n.delete(e),n.size===0){for(const s of wS)t.removeEventListener(s,i,rg);ab.delete(t)}}}function CP(t,e,r){const n=r.get(Me);let i=ml.get(t);return yl=yl||n.runOutsideAngular(()=>new IntersectionObserver(s=>{for(const o of s)o.isIntersecting&&ml.has(o.target)&&n.run(ml.get(o.target).listener)})),i||(i=new UE,n.runOutsideAngular(()=>yl.observe(t)),ml.set(t,i),cb++),i.callbacks.add(e),()=>{ml.has(t)&&(i.callbacks.delete(e),i.callbacks.size===0&&(yl?.unobserve(t),ml.delete(t),cb--),cb===0&&(yl?.disconnect(),yl=null))}}function mG(t,e,r){return r==null?t:r>=0?FO(r,t):t[e.index][Wt]??null}function yG(t,e){return hh(Se+e,t)}function $c(t,e,r,n,i,s,o){const a=t[Jt];function l(){if(Ww(t))return;const c=tl(t,e),u=c[Ly];if(u!==Md.Initial&&u!==Ct.Placeholder)return;const d=mG(t,e,n);if(!d){lS(l,{injector:a});return}if(Ww(d))return;const h=yG(d,r),f=i(h,()=>{t!==d&&X0(d,f),s()},a);t!==d&&cy(d,f),Fy(o,c,f)}lS(l,{injector:a})}function EP(t,e){const n=e[Jt].get(wG),i=()=>n.remove(t);return n.add(t),i}const vG=()=>typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout,bG=()=>typeof requestIdleCallback<"u"?cancelIdleCallback:clearTimeout;let wG=(()=>{const e=class e{constructor(){this.executingCallbacks=!1,this.idleId=null,this.current=new Set,this.deferred=new Set,this.ngZone=w(Me),this.requestIdleCallbackFn=vG().bind(globalThis),this.cancelIdleCallbackFn=bG().bind(globalThis)}add(n){(this.executingCallbacks?this.deferred:this.current).add(n),this.idleId===null&&this.scheduleIdleCallback()}remove(n){const{current:i,deferred:s}=this;i.delete(n),s.delete(n),i.size===0&&s.size===0&&this.cancelIdleCallback()}scheduleIdleCallback(){const n=()=>{this.cancelIdleCallback(),this.executingCallbacks=!0;for(const i of this.current)i();if(this.current.clear(),this.executingCallbacks=!1,this.deferred.size>0){for(const i of this.deferred)this.current.add(i);this.deferred.clear(),this.scheduleIdleCallback()}};this.idleId=this.requestIdleCallbackFn(()=>this.ngZone.run(n))}cancelIdleCallback(){this.idleId!==null&&(this.cancelIdleCallbackFn(this.idleId),this.idleId=null)}ngOnDestroy(){this.cancelIdleCallback(),this.current.clear(),this.deferred.clear()}};e.ɵprov=P({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function DP(t){return(e,r)=>kP(t,e,r)}function kP(t,e,r){const i=r[Jt].get(_G),s=()=>i.remove(e);return i.add(t,e),s}let _G=(()=>{const e=class e{constructor(){this.executingCallbacks=!1,this.timeoutId=null,this.invokeTimerAt=null,this.current=[],this.deferred=[]}add(n,i){const s=this.executingCallbacks?this.deferred:this.current;this.addToQueue(s,Date.now()+n,i),this.scheduleTimer()}remove(n){const{current:i,deferred:s}=this;this.removeFromQueue(i,n)===-1&&this.removeFromQueue(s,n),i.length===0&&s.length===0&&this.clearTimeout()}addToQueue(n,i,s){let o=n.length;for(let a=0;a<n.length;a+=2)if(n[a]>i){o=a;break}gO(n,o,i,s)}removeFromQueue(n,i){let s=-1;for(let o=0;o<n.length;o+=2)if(n[o+1]===i){s=o;break}return s>-1&&RM(n,s,2),s}scheduleTimer(){const n=()=>{this.clearTimeout(),this.executingCallbacks=!0;const s=[...this.current],o=Date.now();for(let l=0;l<s.length;l+=2){const c=s[l],u=s[l+1];if(c<=o)u();else break}let a=-1;for(let l=0;l<this.current.length&&this.current[l]<=o;l+=2)a=l+1;if(a>=0&&RM(this.current,0,a+1),this.executingCallbacks=!1,this.deferred.length>0){for(let l=0;l<this.deferred.length;l+=2){const c=this.deferred[l],u=this.deferred[l+1];this.addToQueue(this.current,c,u)}this.deferred.length=0}this.scheduleTimer()};if(this.current.length>0){const s=Date.now(),o=this.current[0];if(this.timeoutId===null||this.invokeTimerAt&&this.invokeTimerAt-o>16){this.clearTimeout();const a=Math.max(o-s,16);this.invokeTimerAt=o,this.timeoutId=setTimeout(n,a)}}}clearTimeout(){this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}ngOnDestroy(){this.clearTimeout(),this.current.length=0,this.deferred.length=0}};e.ɵprov=P({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();const zpe=new A("DEFER_BLOCK_DEPENDENCY_INTERCEPTOR"),CG=new A("");function $E(t){return t.get(CG,null,{optional:!0})?.behavior===yP.Manual?!1:Wr(t)}let m_=null;function EG(t,e,r,n){const i=t.consts;r!=null&&(e.placeholderBlockConfig=Sr(i,r)),n!=null&&(e.loadingBlockConfig=Sr(i,n)),m_===null&&(m_=HG)}function DG(t,e,r,n,i,s,o,a,l){const c=k(),u=_e(),d=t+Se,h=kd(c,u,t,null,0,0);if(u.firstCreatePass){ir("NgDefer");const m={primaryTmplIndex:e,loadingTmplIndex:n??null,placeholderTmplIndex:i??null,errorTmplIndex:s??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:r??null,loadingState:xt.NOT_STARTED,loadingPromise:null,providers:null};l?.(u,m,a,o),fG(u,d,m)}const f=c[d];UN(f,h,c);const p=[null,Md.Initial,null,null,null,null];hG(c,d,p);const g=()=>vP(p);Fy(0,p,()=>X0(c,g)),cy(c,g)}function kG(t){const e=k(),r=oi();if(Dt(e,r,t)){const n=pe(null);try{const i=!!t,s=ot(),a=tl(e,s)[Ly];i===!1&&a===Md.Initial?zc(e,s):i===!0&&(a===Md.Initial||a===Ct.Placeholder)&&Wc(e,s)}finally{pe(n)}}}function MG(t){const e=k(),r=oi();if(Dt(e,r,t)){const n=pe(null);try{const i=!!t,s=e[Y],o=ot(),a=Rr(s,o);i===!0&&a.loadingState===xt.NOT_STARTED&&Sh(a,e,o)}finally{pe(n)}}}function SG(){MP(EP)}function TG(){SP(EP)}function IG(){const t=k(),e=Ge(),r=t[Y],n=t[Jt],i=Rr(r,e);(!$E(n)||i.loadingTmplIndex===null)&&zc(t,e),Wc(t,e)}function xG(){const t=k(),e=Ge(),r=t[Y],n=Rr(r,e);n.loadingState===xt.NOT_STARTED&&zE(n,t,e)}function AG(t){MP(DP(t))}function OG(t){SP(DP(t))}function RG(t,e){const r=k(),n=Ge();zc(r,n),$c(r,n,t,e,_P,()=>Wc(r,n),0)}function NG(t,e){const r=k(),n=Ge(),i=r[Y],s=Rr(i,n);s.loadingState===xt.NOT_STARTED&&$c(r,n,t,e,_P,()=>Sh(s,r,n),1)}function PG(t,e){const r=k(),n=Ge();zc(r,n),$c(r,n,t,e,wP,()=>Wc(r,n),0)}function LG(t,e){const r=k(),n=Ge(),i=r[Y],s=Rr(i,n);s.loadingState===xt.NOT_STARTED&&$c(r,n,t,e,wP,()=>Sh(s,r,n),1)}function FG(t,e){const r=k(),n=Ge();zc(r,n),$c(r,n,t,e,CP,()=>Wc(r,n),0)}function BG(t,e){const r=k(),n=Ge(),i=r[Y],s=Rr(i,n);s.loadingState===xt.NOT_STARTED&&$c(r,n,t,e,CP,()=>Sh(s,r,n),1)}function MP(t){const e=k(),r=Ge();if(zc(e,r),Wr(e[Jt])){const n=t(()=>Wc(e,r),e),i=tl(e,r);Fy(0,i,n)}}function SP(t){const e=k();if(Wr(e[Jt])){const r=Ge(),n=e[Y],i=Rr(n,r);if(i.loadingState===xt.NOT_STARTED){const s=tl(e,r),a=t(()=>Sh(i,e,r),e);Fy(1,s,a)}}}function Zs(t,e,r,n=!1){const i=r[Yt],s=i[Y];if(Ww(i))return;const o=tl(i,e),a=o[Ly];if(CS(a,t)&&CS(o[ql]??-1,t)){const l=i[Jt],c=Rr(s,e),d=!n&&Wr(l)&&(bP(c)!==null||g_(c,Ct.Loading)!==null||g_(c,Ct.Placeholder))?m_:TP;try{d(t,o,r,e,i)}catch(h){Ey(i,h)}}}function ub(t,e,r){return t.get(oG).getOrCreateInjector(e,t,r,"")}function VG(t,e,r){if(t instanceof np){const i=t.injector,s=t.parentInjector,o=ub(s,e,r);return new np(i,o)}const n=t.get(kr);if(n!==t){const i=ub(n,e,r);return new np(t,i)}return ub(t,e,r)}function TP(t,e,r,n,i){const s=pG(t,i,n);if(s!==null){e[Ly]=t;const o=i[Y],a=s+Se,l=fh(o,a),c=0;xE(r,c);let u;if(t===Ct.Complete){const f=Rr(o,n),p=f.providers;p&&p.length>0&&(u=VG(i[Jt],f,p))}const d=Ta(r,l.tView.ssrId),h=jc(i,l,null,{dehydratedView:d,injector:u});Uc(r,h,c,Sa(l,d)),Dy(h,2)}}function HG(t,e,r,n,i){const s=Date.now(),o=i[Y],a=Rr(o,n);if(e[Tu]===null||e[Tu]<=s){e[Tu]=null;const l=bP(a),c=e[cf]!==null;if(t===Ct.Loading&&l!==null&&!c){e[ql]=t;const u=_S(l,e,n,r,i);e[cf]=u}else{t>Ct.Loading&&c&&(e[cf](),e[cf]=null,e[ql]=null),TP(t,e,r,n,i);const u=g_(a,t);u!==null&&(e[Tu]=s+u,_S(u,e,n,r,i))}}else e[ql]=t}function _S(t,e,r,n,i){return kP(t,()=>{const o=e[ql];e[Tu]=null,e[ql]=null,o!==null&&Zs(o,r,n)},i)}function CS(t,e){return t<e}function Sh(t,e,r){e[Jt]&&$E(e[Jt])&&zE(t,e,r)}function zE(t,e,r){const n=e[Jt],i=e[Y];if(t.loadingState!==xt.NOT_STARTED)return t.loadingPromise??Promise.resolve();const s=tl(e,r),o=gG(i,t);t.loadingState=xt.IN_PROGRESS,p_(1,s);let a=t.dependencyResolverFn;const l=n.get(No),c=l.add();return a?(t.loadingPromise=Promise.allSettled(a()).then(u=>{let d=!1;const h=[],f=[];for(const p of u)if(p.status==="fulfilled"){const g=p.value,m=Pt(g)||si(g);if(m)h.push(m);else{const y=Ds(g);y&&f.push(y)}}else{d=!0;break}if(t.loadingPromise=null,l.remove(c),d){if(t.loadingState=xt.FAILED,t.errorTmplIndex===null){const p="",g=new z(750,!1);Ey(e,g)}}else{t.loadingState=xt.COMPLETE;const p=o.tView;if(h.length>0){p.directiveRegistry=vS(p.directiveRegistry,h);const g=h.map(y=>y.type),m=z0(!1,...g);t.providers=m}f.length>0&&(p.pipeRegistry=vS(p.pipeRegistry,f))}}),t.loadingPromise):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=xt.COMPLETE,l.remove(c)}),t.loadingPromise)}function zc(t,e){const r=t[e.index];Zs(Ct.Placeholder,e,r)}function ES(t,e,r){t.loadingPromise.then(()=>{t.loadingState===xt.COMPLETE?Zs(Ct.Complete,e,r):t.loadingState===xt.FAILED&&Zs(Ct.Error,e,r)})}function Wc(t,e){const r=t[Y],n=t[e.index],i=t[Jt];if(!$E(i))return;const s=tl(t,e),o=Rr(r,e);switch(vP(s),o.loadingState){case xt.NOT_STARTED:Zs(Ct.Loading,e,n),zE(o,t,e),o.loadingState===xt.IN_PROGRESS&&ES(o,e,n);break;case xt.IN_PROGRESS:Zs(Ct.Loading,e,n),ES(o,e,n);break;case xt.COMPLETE:Zs(Ct.Complete,e,n);break;case xt.FAILED:Zs(Ct.Error,e,n);break;default:}}function dt(t,e,r,n){const i=k(),s=oi();if(Dt(i,s,e)){const o=_e(),a=ot();Wi(a,i,t,e,r,n)}return dt}function Gc(t,e){let r=!1,n=ks();for(let s=1;s<e.length;s+=2)r=Dt(t,n++,e[s])||r;if($O(n),!r)return ue;let i=e[0];for(let s=1;s<e.length;s+=2)i+=fe(e[s])+e[s+1];return i}function qc(t,e,r,n){return Dt(t,oi(),r)?e+fe(r)+n:ue}function Kc(t,e,r,n,i,s){const o=ks(),a=Ia(t,o,r,i);return Ms(2),a?e+fe(r)+n+fe(i)+s:ue}function Zc(t,e,r,n,i,s,o,a){const l=ks(),c=Ny(t,l,r,i,o);return Ms(3),c?e+fe(r)+n+fe(i)+s+fe(o)+a:ue}function Yc(t,e,r,n,i,s,o,a,l,c){const u=ks(),d=Ir(t,u,r,i,o,l);return Ms(4),d?e+fe(r)+n+fe(i)+s+fe(o)+a+fe(l)+c:ue}function Jc(t,e,r,n,i,s,o,a,l,c,u,d){const h=ks();let f=Ir(t,h,r,i,o,l);return f=Dt(t,h+4,u)||f,Ms(5),f?e+fe(r)+n+fe(i)+s+fe(o)+a+fe(l)+c+fe(u)+d:ue}function Xc(t,e,r,n,i,s,o,a,l,c,u,d,h,f){const p=ks();let g=Ir(t,p,r,i,o,l);return g=Ia(t,p+4,u,h)||g,Ms(6),g?e+fe(r)+n+fe(i)+s+fe(o)+a+fe(l)+c+fe(u)+d+fe(h)+f:ue}function Qc(t,e,r,n,i,s,o,a,l,c,u,d,h,f,p,g){const m=ks();let y=Ir(t,m,r,i,o,l);return y=Ny(t,m+4,u,h,p)||y,Ms(7),y?e+fe(r)+n+fe(i)+s+fe(o)+a+fe(l)+c+fe(u)+d+fe(h)+f+fe(p)+g:ue}function eu(t,e,r,n,i,s,o,a,l,c,u,d,h,f,p,g,m,y){const v=ks();let b=Ir(t,v,r,i,o,l);return b=Ir(t,v+4,u,h,p,m)||b,Ms(8),b?e+fe(r)+n+fe(i)+s+fe(o)+a+fe(l)+c+fe(u)+d+fe(h)+f+fe(p)+g+fe(m)+y:ue}function IP(t,e,r,n,i,s){const o=k(),a=qc(o,e,r,n);if(a!==ue){const l=ot();Wi(l,o,t,a,i,s)}return IP}function xP(t,e,r,n,i,s,o,a){const l=k(),c=Kc(l,e,r,n,i,s);if(c!==ue){const u=ot();Wi(u,l,t,c,o,a)}return xP}function AP(t,e,r,n,i,s,o,a,l,c){const u=k(),d=Zc(u,e,r,n,i,s,o,a);if(d!==ue){const h=ot();Wi(h,u,t,d,l,c)}return AP}function OP(t,e,r,n,i,s,o,a,l,c,u,d){const h=k(),f=Yc(h,e,r,n,i,s,o,a,l,c);if(f!==ue){const p=ot();Wi(p,h,t,f,u,d)}return OP}function RP(t,e,r,n,i,s,o,a,l,c,u,d,h,f){const p=k(),g=Jc(p,e,r,n,i,s,o,a,l,c,u,d);if(g!==ue){const m=ot();Wi(m,p,t,g,h,f)}return RP}function NP(t,e,r,n,i,s,o,a,l,c,u,d,h,f,p,g){const m=k(),y=Xc(m,e,r,n,i,s,o,a,l,c,u,d,h,f);if(y!==ue){const v=ot();Wi(v,m,t,y,p,g)}return NP}function PP(t,e,r,n,i,s,o,a,l,c,u,d,h,f,p,g,m,y){const v=k(),b=Qc(v,e,r,n,i,s,o,a,l,c,u,d,h,f,p,g);if(b!==ue){const C=ot();Wi(C,v,t,b,m,y)}return PP}function LP(t,e,r,n,i,s,o,a,l,c,u,d,h,f,p,g,m,y,v,b){const C=k(),M=eu(C,e,r,n,i,s,o,a,l,c,u,d,h,f,p,g,m,y);if(M!==ue){const T=ot();Wi(T,C,t,M,v,b)}return LP}function FP(t,e,r,n){const i=k(),s=Gc(i,e);if(s!==ue){const o=ot();Wi(o,i,t,s,r,n)}return FP}function uf(t,e){return t<<17|e<<2}function xa(t){return t>>17&32767}function jG(t){return(t&2)==2}function UG(t,e){return t&131071|e<<17}function y_(t){return t|2}function pc(t){return(t&131068)>>2}function db(t,e){return t&-131069|e<<2}function $G(t){return(t&1)===1}function v_(t){return t|1}function zG(t,e,r,n,i,s){let o=s?e.classBindings:e.styleBindings,a=xa(o),l=pc(o);t[n]=r;let c=!1,u;if(Array.isArray(r)){const d=r;u=d[1],(u===null||ch(d,u)>0)&&(c=!0)}else u=r;if(i)if(l!==0){const h=xa(t[a+1]);t[n+1]=uf(h,a),h!==0&&(t[h+1]=db(t[h+1],n)),t[a+1]=UG(t[a+1],n)}else t[n+1]=uf(a,0),a!==0&&(t[a+1]=db(t[a+1],n)),a=n;else t[n+1]=uf(l,0),a===0?a=n:t[l+1]=db(t[l+1],n),l=n;c&&(t[n+1]=y_(t[n+1])),DS(t,u,n,!0),DS(t,u,n,!1),WG(e,u,t,n,s),o=uf(a,l),s?e.classBindings=o:e.styleBindings=o}function WG(t,e,r,n,i){const s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&ch(s,e)>=0&&(r[n+1]=v_(r[n+1]))}function DS(t,e,r,n){const i=t[r+1],s=e===null;let o=n?xa(i):pc(i),a=!1;for(;o!==0&&(a===!1||s);){const l=t[o],c=t[o+1];GG(l,e)&&(a=!0,t[o+1]=n?v_(c):y_(c)),o=n?xa(c):pc(c)}a&&(t[r+1]=n?y_(i):v_(i))}function GG(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ch(t,e)>=0:!1}const Ht={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function BP(t){return t.substring(Ht.key,Ht.keyEnd)}function qG(t){return t.substring(Ht.value,Ht.valueEnd)}function KG(t){return jP(t),VP(t,gc(t,0,Ht.textEnd))}function VP(t,e){const r=Ht.textEnd;return r===e?-1:(e=Ht.keyEnd=YG(t,Ht.key=e,r),gc(t,e,r))}function ZG(t){return jP(t),HP(t,gc(t,0,Ht.textEnd))}function HP(t,e){const r=Ht.textEnd;let n=Ht.key=gc(t,e,r);return r===n?-1:(n=Ht.keyEnd=JG(t,n,r),n=kS(t,n,r,58),n=Ht.value=gc(t,n,r),n=Ht.valueEnd=XG(t,n,r),kS(t,n,r,59))}function jP(t){Ht.key=0,Ht.keyEnd=0,Ht.value=0,Ht.valueEnd=0,Ht.textEnd=t.length}function gc(t,e,r){for(;e<r&&t.charCodeAt(e)<=32;)e++;return e}function YG(t,e,r){for(;e<r&&t.charCodeAt(e)>32;)e++;return e}function JG(t,e,r){let n;for(;e<r&&((n=t.charCodeAt(e))===45||n===95||(n&-33)>=65&&(n&-33)<=90||n>=48&&n<=57);)e++;return e}function kS(t,e,r,n){return e=gc(t,e,r),e<r&&e++,e}function XG(t,e,r){let n=-1,i=-1,s=-1,o=e,a=o;for(;o<r;){const l=t.charCodeAt(o++);if(l===59)return a;l===34||l===39?a=o=MS(t,l,o,r):e===o-4&&s===85&&i===82&&n===76&&l===40?a=o=MS(t,41,o,r):l>32&&(a=o),s=i,i=n,n=l&-33}return a}function MS(t,e,r,n){let i=-1,s=r;for(;s<n;){const o=t.charCodeAt(s++);if(o==e&&i!==92)return s;o==92&&i===92?i=0:i=o}throw new Error}function Vy(t,e,r){const n=k(),i=oi();if(Dt(n,i,e)){const s=_e(),o=ot();Hn(s,o,n,t,e,n[ce],r,!1)}return Vy}function b_(t,e,r,n,i){const s=e.inputs,o=i?"class":"style";TE(t,r,s[o],o,n)}function Sd(t,e,r){return li(t,e,r,!1),Sd}function xs(t,e){return li(t,e,null,!0),xs}function qi(t){ci(WP,QG,t,!1)}function QG(t,e){for(let r=ZG(e);r>=0;r=HP(e,r))WP(t,BP(e),qG(e))}function UP(t){ci(s6,Ki,t,!0)}function Ki(t,e){for(let r=KG(e);r>=0;r=VP(e,r))rr(t,BP(e),!0)}function li(t,e,r,n){const i=k(),s=_e(),o=Ms(2);if(s.firstUpdatePass&&zP(s,t,o,n),e!==ue&&Dt(i,o,e)){const a=s.data[ln()];GP(s,a,i,i[ce],t,i[o+1]=a6(e,r),n,o)}}function ci(t,e,r,n){const i=_e(),s=Ms(2);i.firstUpdatePass&&zP(i,null,s,n);const o=k();if(r!==ue&&Dt(o,s,r)){const a=i.data[ln()];if(qP(a,n)&&!$P(i,s)){let l=n?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(r=Lw(l,r||"")),b_(i,a,o,r,n)}else o6(i,a,o,o[ce],o[s+1],o[s+1]=i6(t,e,r),n,s)}}function $P(t,e){return e>=t.expandoStartIndex}function zP(t,e,r,n){const i=t.data;if(i[r+1]===null){const s=i[ln()],o=$P(t,r);qP(s,n)&&e===null&&!o&&(e=!1),e=e6(i,s,e,n),zG(i,s,e,r,o,n)}}function e6(t,e,r,n){const i=tE(t);let s=n?e.residualClasses:e.residualStyles;if(i===null)(n?e.classBindings:e.styleBindings)===0&&(r=hb(null,t,e,r,n),r=Td(r,e.attrs,n),s=null);else{const o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(r=hb(i,t,e,r,n),s===null){let l=t6(t,e,n);l!==void 0&&Array.isArray(l)&&(l=hb(null,t,e,l[1],n),l=Td(l,e.attrs,n),n6(t,e,n,l))}else s=r6(t,e,n)}return s!==void 0&&(n?e.residualClasses=s:e.residualStyles=s),r}function t6(t,e,r){const n=r?e.classBindings:e.styleBindings;if(pc(n)!==0)return t[xa(n)]}function n6(t,e,r,n){const i=r?e.classBindings:e.styleBindings;t[xa(i)]=n}function r6(t,e,r){let n;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){const o=t[s].hostAttrs;n=Td(n,o,r)}return Td(n,e.attrs,r)}function hb(t,e,r,n,i){let s=null;const o=r.directiveEnd;let a=r.directiveStylingLast;for(a===-1?a=r.directiveStart:a++;a<o&&(s=e[a],n=Td(n,s.hostAttrs,i),s!==t);)a++;return t!==null&&(r.directiveStylingLast=a),n}function Td(t,e,r){const n=r?1:2;let i=-1;if(e!==null)for(let s=0;s<e.length;s++){const o=e[s];typeof o=="number"?i=o:i===n&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),rr(t,o,r?!0:e[++s]))}return t===void 0?null:t}function i6(t,e,r){if(r==null||r==="")return Fe;const n=[],i=Gn(r);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(n,i[s],!0);else if(typeof i=="object")for(const s in i)i.hasOwnProperty(s)&&t(n,s,i[s]);else typeof i=="string"&&e(n,i);return n}function WP(t,e,r){rr(t,e,Gn(r))}function s6(t,e,r){const n=String(e);n!==""&&!n.includes(" ")&&rr(t,n,r)}function o6(t,e,r,n,i,s,o,a){i===ue&&(i=Fe);let l=0,c=0,u=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;u!==null||d!==null;){const h=l<i.length?i[l+1]:void 0,f=c<s.length?s[c+1]:void 0;let p=null,g;u===d?(l+=2,c+=2,h!==f&&(p=d,g=f)):d===null||u!==null&&u<d?(l+=2,p=u):(c+=2,p=d,g=f),p!==null&&GP(t,e,r,n,p,g,o,a),u=l<i.length?i[l]:null,d=c<s.length?s[c]:null}}function GP(t,e,r,n,i,s,o,a){if(!(e.type&3))return;const l=t.data,c=l[a+1],u=$G(c)?SS(l,e,r,i,pc(c),o):void 0;if(!ig(u)){ig(s)||jG(c)&&(s=SS(l,null,r,i,a,o));const d=hh(ln(),r);$8(n,o,d,i,s)}}function SS(t,e,r,n,i,s){const o=e===null;let a;for(;i>0;){const l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null;let h=r[i+1];h===ue&&(h=d?Fe:void 0);let f=d?Yv(h,n):u===n?h:void 0;if(c&&!ig(f)&&(f=Yv(l,n)),ig(f)&&(a=f,o))return a;const p=t[i+1];i=o?xa(p):pc(p)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=Yv(l,n))}return a}function ig(t){return t!==void 0}function a6(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=dn(Gn(t)))),t}function qP(t,e){return(t.flags&(e?8:16))!==0}function l6(t,e,r){const n=k(),i=qc(n,t,e,r);ci(rr,Ki,i,!0)}function c6(t,e,r,n,i){const s=k(),o=Kc(s,t,e,r,n,i);ci(rr,Ki,o,!0)}function u6(t,e,r,n,i,s,o){const a=k(),l=Zc(a,t,e,r,n,i,s,o);ci(rr,Ki,l,!0)}function d6(t,e,r,n,i,s,o,a,l){const c=k(),u=Yc(c,t,e,r,n,i,s,o,a,l);ci(rr,Ki,u,!0)}function h6(t,e,r,n,i,s,o,a,l,c,u){const d=k(),h=Jc(d,t,e,r,n,i,s,o,a,l,c,u);ci(rr,Ki,h,!0)}function f6(t,e,r,n,i,s,o,a,l,c,u,d,h){const f=k(),p=Xc(f,t,e,r,n,i,s,o,a,l,c,u,d,h);ci(rr,Ki,p,!0)}function p6(t,e,r,n,i,s,o,a,l,c,u,d,h,f,p){const g=k(),m=Qc(g,t,e,r,n,i,s,o,a,l,c,u,d,h,f,p);ci(rr,Ki,m,!0)}function g6(t,e,r,n,i,s,o,a,l,c,u,d,h,f,p,g,m){const y=k(),v=eu(y,t,e,r,n,i,s,o,a,l,c,u,d,h,f,p,g,m);ci(rr,Ki,v,!0)}function m6(t){const e=k(),r=Gc(e,t);ci(rr,Ki,r,!0)}/*!
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function y6(){return k()[an][sn]}class v6{destroy(e){}updateValue(e,r){}swap(e,r){const n=Math.min(e,r),i=Math.max(e,r),s=this.detach(i);if(i-n>1){const o=this.detach(n);this.attach(n,s),this.attach(i,o)}else this.attach(n,s)}move(e,r){this.attach(r,this.detach(e))}}function fb(t,e,r,n,i){return t===r&&Object.is(e,n)?1:Object.is(i(t,e),i(r,n))?-1:0}function b6(t,e,r){let n,i,s=0,o=t.length-1;const a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;s<=o&&s<=l;){const c=t.at(s),u=e[s],d=fb(s,c,s,u,r);if(d!==0){d<0&&t.updateValue(s,u),s++;continue}const h=t.at(o),f=e[l],p=fb(o,h,l,f,r);if(p!==0){p<0&&t.updateValue(o,f),o--,l--;continue}const g=r(s,c),m=r(o,h),y=r(s,u);if(Object.is(y,m)){const v=r(l,f);Object.is(v,g)?(t.swap(s,o),t.updateValue(o,f),l--,o--):t.move(o,s),t.updateValue(s,u),s++;continue}if(n??(n=new xS),i??(i=IS(t,s,o,r)),w_(t,n,s,y))t.updateValue(s,u),s++,o++;else if(i.has(y))n.set(g,t.detach(s)),o--;else{const v=t.create(s,e[s]);t.attach(s,v),s++,o++}}for(;s<=l;)TS(t,n,r,s,e[s]),s++}else if(e!=null){const l=e[Symbol.iterator]();let c=l.next();for(;!c.done&&s<=o;){const u=t.at(s),d=c.value,h=fb(s,u,s,d,r);if(h!==0)h<0&&t.updateValue(s,d),s++,c=l.next();else{n??(n=new xS),i??(i=IS(t,s,o,r));const f=r(s,d);if(w_(t,n,s,f))t.updateValue(s,d),s++,o++,c=l.next();else if(!i.has(f))t.attach(s,t.create(s,d)),s++,o++,c=l.next();else{const p=r(s,u);n.set(p,t.detach(s)),o--}}}for(;!c.done;)TS(t,n,r,t.length,c.value),c=l.next()}for(;s<=o;)t.destroy(t.detach(o--));n?.forEach(l=>{t.destroy(l)})}function w_(t,e,r,n){return e!==void 0&&e.has(n)?(t.attach(r,e.get(n)),e.delete(n),!0):!1}function TS(t,e,r,n,i){if(w_(t,e,n,r(n,i)))t.updateValue(n,i);else{const s=t.create(n,i);t.attach(n,s)}}function IS(t,e,r,n){const i=new Set;for(let s=e;s<=r;s++)i.add(n(s,t.at(s)));return i}class xS{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;const r=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(r)?(this.kvMap.set(e,this._vMap.get(r)),this._vMap.delete(r)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,r){if(this.kvMap.has(e)){let n=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);const i=this._vMap;for(;i.has(n);)n=i.get(n);i.set(n,r)}else this.kvMap.set(e,r)}forEach(e){for(let[r,n]of this.kvMap)if(e(n,r),this._vMap!==void 0){const i=this._vMap;for(;i.has(n);)n=i.get(n),e(n,r)}}}function KP(t,e){ir("NgControlFlow");const r=k(),n=oi(),i=r[n]!==ue?r[n]:-1,s=i!==-1?sg(r,Se+i):void 0,o=0;if(Dt(r,n,t)){const a=pe(null);try{if(s!==void 0&&xE(s,o),t!==-1){const l=Se+t,c=sg(r,l),u=__(r[Y],l),d=Ta(c,u.tView.ssrId),h=jc(r,u,e,{dehydratedView:d});Uc(c,h,o,Sa(u,d))}}finally{pe(a)}}else if(s!==void 0){const a=vN(s,o);a!==void 0&&(a[sn]=e)}}class w6{constructor(e,r,n){this.lContainer=e,this.$implicit=r,this.$index=n}get $count(){return this.lContainer.length-Wt}}function _6(t){return t}function C6(t,e){return e}class E6{constructor(e,r,n){this.hasEmptyBlock=e,this.trackByFn=r,this.liveCollection=n}}function D6(t,e,r,n,i,s,o,a,l,c,u,d,h){ir("NgControlFlow");const f=k(),p=_e(),g=l!==void 0,m=k(),y=a?o.bind(m[an][sn]):o,v=new E6(g,y);m[Se+t]=v,kd(f,p,t+1,e,r,n,i,Sr(p.consts,s)),g&&kd(f,p,t+2,l,c,u,d,Sr(p.consts,h))}class k6 extends v6{constructor(e,r,n){super(),this.lContainer=e,this.hostLView=r,this.templateTNode=n,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Wt}at(e){return this.getLView(e)[sn].$implicit}attach(e,r){const n=r[Mr];this.needsIndexUpdate||(this.needsIndexUpdate=e!==this.length),Uc(this.lContainer,r,e,Sa(this.templateTNode,n))}detach(e){return this.needsIndexUpdate||(this.needsIndexUpdate=e!==this.length-1),S6(this.lContainer,e)}create(e,r){const n=Ta(this.lContainer,this.templateTNode.tView.ssrId),i=jc(this.hostLView,this.templateTNode,new w6(this.lContainer,r,e),{dehydratedView:n});return this.operationsCounter?.recordCreate(),i}destroy(e){vy(e[Y],e),this.operationsCounter?.recordDestroy()}updateValue(e,r){this.getLView(e)[sn].$implicit=r}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[sn].$index=e}getLView(e){return T6(this.lContainer,e)}}function M6(t){const e=pe(null),r=ln();try{const n=k(),i=n[Y],s=n[r],o=r+1,a=sg(n,o);if(s.liveCollection===void 0){const c=__(i,o);s.liveCollection=new k6(a,n,c)}else s.liveCollection.reset();const l=s.liveCollection;if(b6(l,t,s.trackByFn),l.updateIndexes(),s.hasEmptyBlock){const c=oi(),u=l.length===0;if(Dt(n,c,u)){const d=r+2,h=sg(n,d);if(u){const f=__(i,d),p=Ta(h,f.tView.ssrId),g=jc(n,f,void 0,{dehydratedView:p});Uc(h,g,0,Sa(f,p))}else xE(h,0)}}}finally{pe(e)}}function sg(t,e){return t[e]}function S6(t,e){return _d(t,e)}function T6(t,e){return vN(t,e)}function __(t,e){return fh(t,e)}function I6(t,e,r,n,i,s){const o=e.consts,a=Sr(o,i),l=el(e,t,2,n,a);return ME(e,r,l,Sr(o,s)),l.attrs!==null&&ng(l,l.attrs,!1),l.mergedAttrs!==null&&ng(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function Hy(t,e,r,n){const i=k(),s=_e(),o=Se+t,a=i[ce],l=s.firstCreatePass?I6(o,s,i,e,r,n):s.data[o],c=ZP(s,i,l,a,e,t);i[o]=c;const u=ay(l);return Qr(l,!0),rN(a,c,l),!Mh(l)&&ph()&&by(s,i,c,l),w3()===0&&Fi(c,i),_3(),u&&(EE(s,i,l),CE(s,l,i)),n!==null&&DE(i,l),Hy}function jy(){let t=Ge();Q0()?eE():(t=t.parent,Qr(t,!1));const e=t;E3(e)&&S3(),C3();const r=_e();return r.firstCreatePass&&(dy(r,t),Y0(t)&&r.queries.elementEnd(t)),e.classesWithoutHost!=null&&H3(e)&&b_(r,e,k(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&j3(e)&&b_(r,e,k(),e.stylesWithoutHost,!1),jy}function Uy(t,e,r,n){return Hy(t,e,r,n),jy(),Uy}let ZP=(t,e,r,n,i,s)=>(Ss(!0),yy(n,i,YO()));function x6(t,e,r,n,i,s){const o=e[Mr],a=!o||Lc()||Mh(r)||yh(o,s);if(Ss(a),a)return yy(n,i,YO());const l=Sy(o,t,e,r);return TR(o,s)&&gy(o,s,l.nextSibling),o&&(gR(r)||mR(l))&&dh(r)&&(k3(r),eN(l)),l}function A6(){ZP=x6}function O6(t,e,r,n,i){const s=e.consts,o=Sr(s,n),a=el(e,t,8,"ng-container",o);o!==null&&ng(a,o,!0);const l=Sr(s,i);return ME(e,r,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function WE(t,e,r){const n=k(),i=_e(),s=t+Se,o=i.firstCreatePass?O6(s,i,n,e,r):i.data[s];Qr(o,!0);const a=YP(i,n,o,t);return n[s]=a,ph()&&by(i,n,a,o),Fi(a,n),ay(o)&&(EE(i,n,o),CE(i,o,n)),r!=null&&DE(n,o),WE}function GE(){let t=Ge();const e=_e();return Q0()?eE():(t=t.parent,Qr(t,!1)),e.firstCreatePass&&(dy(e,t),Y0(t)&&e.queries.elementEnd(t)),GE}function qE(t,e,r){return WE(t,e,r),GE(),qE}let YP=(t,e,r,n)=>(Ss(!0),yE(e[ce],""));function R6(t,e,r,n){let i;const s=e[Mr],o=!s||Lc()||yh(s,n)||Mh(r);if(Ss(o),o)return yE(e[ce],"");const a=Sy(s,t,e,r),l=z4(s,n);return gy(s,n,a),i=Ty(l,a),i}function N6(){YP=R6}function JP(){return k()}function Zi(t,e,r){const n=k(),i=oi();if(Dt(n,i,e)){const s=_e(),o=ot();Hn(s,o,n,t,e,n[ce],r,!0)}return Zi}function XP(t,e,r){const n=k(),i=oi();if(Dt(n,i,e)){const s=_e(),o=ot(),a=tE(s.data),l=yN(a,o,n);Hn(s,o,n,t,e,l,r,!0)}return XP}const qo=void 0;function P6(t){const e=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&r===0?1:5}var L6=["en",[["a","p"],["AM","PM"],qo],[["AM","PM"],qo,qo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qo,"{1} 'at' {0}",qo],[".",",",";","%","+","-","E","×","‰","∞","NaN",":"],["#,##0.###","#,##0%","¤#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",P6];let pb={};function jn(t){const e=F6(t);let r=AS(e);if(r)return r;const n=e.split("-")[0];if(r=AS(n),r)return r;if(n==="en")return L6;throw new z(701,!1)}function QP(t){return jn(t)[pt.PluralCase]}function AS(t){return t in pb||(pb[t]=Ti.ng&&Ti.ng.common&&Ti.ng.common.locales&&Ti.ng.common.locales[t]),pb[t]}var pt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(pt||{});function F6(t){return t.toLowerCase().replace(/_/g,"-")}const B6=["zero","one","two","few","many"];function V6(t,e){const r=QP(e)(parseInt(t,10)),n=B6[r];return n!==void 0?n:"other"}const og="en-US",H6="USD",eL={marker:"element"},tL={marker:"ICU"};var us=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}(us||{});let nL=og;function j6(t){typeof t=="string"&&(nL=t.toLowerCase().replace(/_/g,"-"))}function U6(){return nL}let Id=0,$u=0;function $6(t){t&&(Id=Id|1<<Math.min($u,31)),$u++}function z6(t,e,r){if($u>0){const n=t.data[r],i=Array.isArray(n)?n:n.update,s=ks()-$u-1;iL(t,e,i,s,Id)}Id=0,$u=0}function W6(t,e,r){const n=t[ce];switch(r){case Node.COMMENT_NODE:return yE(n,e);case Node.TEXT_NODE:return mE(n,e);case Node.ELEMENT_NODE:return yy(n,e,null)}}let ip=(t,e,r,n)=>(Ss(!0),W6(t,r,n));function G6(t,e,r,n){const i=t[ce];for(let s=0;s<e.length;s++){const o=e[s++],a=e[s],l=(o&us.COMMENT)===us.COMMENT,c=(o&us.APPEND_EAGERLY)===us.APPEND_EAGERLY,u=o>>>us.SHIFT;let d=t[u],h=!1;d===null&&(d=t[u]=ip(t,u,a,l?Node.COMMENT_NODE:Node.TEXT_NODE),h=ph()),c&&r!==null&&h&&Ma(i,r,d,n,!1)}}function rL(t,e,r,n){const i=r[ce];let s=null,o;for(let a=0;a<e.length;a++){const l=e[a];if(typeof l=="string"){const c=e[++a];r[c]===null&&(r[c]=ip(r,c,l,Node.TEXT_NODE))}else if(typeof l=="number")switch(l&1){case 0:const c=B5(l);s===null&&(s=c,o=bE(i,n));let u,d;if(c===s?(u=n,d=o):(u=null,d=Qn(r[c])),d!==null){const g=V5(l),m=r[g];Ma(i,d,m,u,!1);const y=ju(t,g);if(y!==null&&typeof y=="object"){const v=My(y,r);v!==null&&rL(t,y.create[v],r,r[y.anchorIdx])}}break;case 1:const h=l>>>1,f=e[++a],p=e[++a];SE(i,hh(h,r),null,null,f,p,null);break;default:}else switch(l){case tL:const c=e[++a],u=e[++a];if(r[u]===null){const f=r[u]=ip(r,u,c,Node.COMMENT_NODE);Fi(f,r)}break;case eL:const d=e[++a],h=e[++a];if(r[h]===null){const f=r[h]=ip(r,h,d,Node.ELEMENT_NODE);Fi(f,r)}break;default:}}}function iL(t,e,r,n,i){for(let s=0;s<r.length;s++){const o=r[s],a=r[++s];if(o&i){let l="";for(let c=s+1;c<=s+a;c++){const u=r[c];if(typeof u=="string")l+=u;else if(typeof u=="number")if(u<0)l+=fe(e[n-u]);else{const d=u>>>2;switch(u&3){case 1:const h=r[++c],f=r[++c],p=t.data[d];typeof p=="string"?SE(e[ce],e[d],null,p,h,l,f):Hn(t,p,e,h,l,e[ce],f,!1);break;case 0:const g=e[d];g!==null&&$R(e[ce],g,l);break;case 2:q6(t,ju(t,d),e,l);break;case 3:OS(t,ju(t,d),n,e);break}}}}else{const l=r[s+1];if(l>0&&(l&3)===3){const c=l>>>2,u=ju(t,c);e[u.currentCaseLViewIndex]<0&&OS(t,u,n,e)}}s+=a}}function OS(t,e,r,n){let i=n[e.currentCaseLViewIndex];if(i!==null){let s=Id;i<0&&(i=n[e.currentCaseLViewIndex]=~i,s=-1),iL(t,n,e.update[i],r,s)}}function q6(t,e,r,n){const i=K6(e,n);if(My(e,r)!==i&&(sL(t,e,r),r[e.currentCaseLViewIndex]=i===null?null:~i,i!==null)){const o=r[e.anchorIdx];o&&rL(t,e.create[i],r,o),e.anchorIdx}}function sL(t,e,r){let n=My(e,r);if(n!==null){const i=e.remove[n];for(let s=0;s<i.length;s++){const o=i[s];if(o>0){const a=hh(o,r);a!==null&&wh(r[ce],a)}else sL(t,ju(t,~o),r)}}}function K6(t,e){let r=t.cases.indexOf(e);if(r===-1)switch(t.type){case 1:{const n=V6(e,U6());r=t.cases.indexOf(n),r===-1&&n!=="other"&&(r=t.cases.indexOf("other"));break}case 0:{r=t.cases.indexOf("other");break}}return r===-1?null:r}const ag=/�(\d+):?\d*�/gi,Z6=/({\s*�\d+:?\d*�\s*,\s*\S{6}\s*,[\s\S]*})/gi,Y6=/�(\d+)�/,oL=/^\s*(�\d+:?\d*�)\s*,\s*(select|plural)\s*,/,zu="�",J6=/�\/?\*(\d+:\d+)�/gi,X6=/�(\/?[#*]\d+):?\d*�/gi,Q6=/\uE500/g;function eq(t){return t.replace(Q6," ")}function tq(t,e,r,n,i,s){const o=wd(),a=[],l=[],c=[[]],u=[[]];i=sq(i,s);const d=eq(i).split(X6);for(let h=0;h<d.length;h++){let f=d[h];if(h&1){const p=f.charCodeAt(0)===47,g=f.charCodeAt(p?1:0),m=Se+Number.parseInt(f.substring(p?2:1));if(p)c.shift(),u.shift(),Qr(wd(),!1);else{const y=F5(t,c[0],m);c.unshift([]),Qr(y,!0);const v={kind:2,index:m,children:[],type:g===35?0:1};u[0].push(v),u.unshift(v.children)}}else{const p=C_(f);for(let g=0;g<p.length;g++){let m=p[g];if(g&1){const y=m;if(typeof y!="object")throw new Error(`Unable to parse ICU expression in "${i}" message.`);const b=aL(t,o,c[0],r,a,"",!0).index;cL(u[0],t,r,l,e,y,b)}else{const y=m;y!==""&&nq(u[0],t,o,c[0],a,l,r,y)}}}}t.data[n]={create:a,update:l,ast:u[0],parentTNodeIndex:e}}function aL(t,e,r,n,i,s,o){const a=_h(t,n,1,null);let l=a<<us.SHIFT,c=wd();e===c&&(c=null),c===null&&(l|=us.APPEND_EAGERLY),o&&(l|=us.COMMENT,R8(U5)),i.push(l,s===null?"":s);const u=_E(t,a,o?32:1,s===null?"":s,null);SN(r,u);const d=u.index;return Qr(u,!1),c!==null&&e!==c&&L5(c,d),u}function nq(t,e,r,n,i,s,o,a){const l=a.match(ag),u=aL(e,r,n,o,i,l?null:a,!1).index;l&&Wu(s,a,u,null,0,null),t.push({kind:0,index:u})}function rq(t,e,r){const i=Ge().index,s=[];if(t.firstCreatePass&&t.data[e]===null){for(let o=0;o<r.length;o+=2){const a=r[o],l=r[o+1];if(l!==""){if(Z6.test(l))throw new Error(`ICU expressions are not supported in attributes. Message: "${l}".`);Wu(s,l,i,a,iq(s),null)}}t.data[e]=s}}function Wu(t,e,r,n,i,s){const o=t.length,a=o+1;t.push(null,null);const l=o+2,c=e.split(ag);let u=0;for(let d=0;d<c.length;d++){const h=c[d];if(d&1){const f=i+parseInt(h,10);t.push(-1-f),u=u|lL(f)}else h!==""&&t.push(h)}return t.push(r<<2|(n?1:0)),n&&t.push(n,s),t[o]=u,t[a]=t.length-l,u}function iq(t){let e=0;for(let r=0;r<t.length;r++){const n=t[r];typeof n=="number"&&n<0&&e++}return e}function lL(t){return 1<<Math.min(t,31)}function RS(t){let e,r="",n=0,i=!1,s;for(;(e=J6.exec(t))!==null;)i?e[0]===`${zu}/*${s}${zu}`&&(n=e.index,i=!1):(r+=t.substring(n,e.index+e[0].length),s=e[1],i=!0);return r+=t.slice(n),r}function sq(t,e){if(j5(e))return RS(t);{const r=t.indexOf(`:${e}${zu}`)+2+e.toString().length,n=t.search(new RegExp(`${zu}\\/\\*\\d+:${e}${zu}`));return RS(t.substring(r,n))}}function cL(t,e,r,n,i,s,o){let a=0;const l={type:s.type,currentCaseLViewIndex:_h(e,r,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};cq(n,s,o),P5(e,o,l);const c=s.values,u=[];for(let d=0;d<c.length;d++){const h=c[d],f=[];for(let g=0;g<h.length;g++){const m=h[g];if(typeof m!="string"){const y=f.push(m)-1;h[g]=`<!--�${y}�-->`}}const p=[];u.push(p),a=aq(p,e,l,r,n,i,s.cases[d],h.join(""),f)|a}a&&uq(n,a,o),t.push({kind:3,index:o,cases:u,currentCaseLViewIndex:l.currentCaseLViewIndex})}function oq(t){const e=[],r=[];let n=1,i=0;t=t.replace(oL,function(o,a,l){return l==="select"?n=0:n=1,i=parseInt(a.slice(1),10),""});const s=C_(t);for(let o=0;o<s.length;){let a=s[o++].trim();n===1&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&e.push(a);const l=C_(s[o++]);e.length>r.length&&r.push(l)}return{type:n,mainBinding:i,cases:e,values:r}}function C_(t){if(!t)return[];let e=0;const r=[],n=[],i=/[{}]/g;i.lastIndex=0;let s;for(;s=i.exec(t);){const a=s.index;if(s[0]=="}"){if(r.pop(),r.length==0){const l=t.substring(e,a);oL.test(l)?n.push(oq(l)):n.push(l),e=a+1}}else{if(r.length==0){const l=t.substring(e,a);n.push(l),e=a+1}r.push("{")}}const o=t.substring(e);return n.push(o),n}function aq(t,e,r,n,i,s,o,a,l){const c=[],u=[],d=[];r.cases.push(o),r.create.push(c),r.remove.push(u),r.update.push(d);const f=OR(Vc()).getInertBodyElement(a),p=i_(f)||f;return p?uL(t,e,r,n,i,c,u,d,p,s,l,0):0}function uL(t,e,r,n,i,s,o,a,l,c,u,d){let h=0,f=l.firstChild;for(;f;){const p=_h(e,n,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:const g=f,m=g.tagName.toLowerCase();if(r_.hasOwnProperty(m)){gb(s,eL,m,c,p),e.data[p]=m;const C=g.attributes;for(let T=0;T<C.length;T++){const F=C.item(T),R=F.name.toLowerCase();!!F.value.match(ag)?LR.hasOwnProperty(R)&&(pE[R]?Wu(a,F.value,p,F.name,0,my):Wu(a,F.value,p,F.name,0,null)):dq(s,p,F)}const M={kind:1,index:p,children:[]};t.push(M),h=uL(M.children,e,r,n,i,s,o,a,f,p,u,d+1)|h,NS(o,p,d)}break;case Node.TEXT_NODE:const y=f.textContent||"",v=y.match(ag);gb(s,null,v?"":y,c,p),NS(o,p,d),v&&(h=Wu(a,y,p,null,0,null)|h),t.push({kind:0,index:p});break;case Node.COMMENT_NODE:const b=Y6.exec(f.textContent||"");if(b){const C=parseInt(b[1],10),M=u[C];gb(s,tL,"",c,p),cL(t,e,n,i,c,M,p),lq(o,p,d)}break}f=f.nextSibling}return h}function NS(t,e,r){r===0&&t.push(e)}function lq(t,e,r){r===0&&(t.push(~e),t.push(e))}function cq(t,e,r){t.push(lL(e.mainBinding),2,-1-e.mainBinding,r<<2|2)}function uq(t,e,r){t.push(e,1,r<<2|3)}function gb(t,e,r,n,i){e!==null&&t.push(e),t.push(r,i,H5(0,n,i))}function dq(t,e,r){t.push(e<<1|1,r.name,r.value)}const PS=0,hq=/\[(�.+?�?)\]/,fq=/\[(�.+?�?)\]|(�\/?\*\d+:\d+�)/g,pq=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,gq=/{([A-Z0-9_]+)}/g,mq=/�I18N_EXP_(ICU(_\d+)?)�/g,yq=/\/\*/,vq=/\d+\:(\d+)/;function bq(t,e={}){let r=t;if(hq.test(t)){const n={},i=[PS];r=r.replace(fq,(s,o,a)=>{const l=o||a,c=n[l]||[];if(c.length||(l.split("|").forEach(g=>{const m=g.match(vq),y=m?parseInt(m[1],10):PS,v=yq.test(g);c.push([y,v,g])}),n[l]=c),!c.length)throw new Error(`i18n postprocess: unmatched placeholder - ${l}`);const u=i[i.length-1];let d=0;for(let g=0;g<c.length;g++)if(c[g][0]===u){d=g;break}const[h,f,p]=c[d];return f?i.pop():u!==h&&i.push(h),c.splice(d,1),p})}return Object.keys(e).length&&(r=r.replace(pq,(n,i,s,o,a,l)=>e.hasOwnProperty(s)?`${i}${e[s]}${l}`:n),r=r.replace(gq,(n,i)=>e.hasOwnProperty(i)?e[i]:n),r=r.replace(mq,(n,i)=>{if(e.hasOwnProperty(i)){const s=e[i];if(!s.length)throw new Error(`i18n postprocess: unmatched ICU - ${n} with key: ${i}`);return s.shift()}return n})),r}function dL(t,e,r=-1){const n=_e(),i=k(),s=Se+t,o=Sr(n.consts,e),a=wd();if(n.firstCreatePass&&tq(n,a===null?0:a.index,i,s,o,r),n.type===2){const h=i[an];h[oe]|=32}else i[oe]|=32;const l=n.data[s],c=a===i[En]?null:a,u=qR(n,c,i),d=a&&a.type&8?i[a.index]:null;G6(i,l.create,u,d),zO(!0)}function hL(){zO(!1)}function wq(t,e,r){dL(t,e,r),hL()}function _q(t,e){const r=_e(),n=Sr(r.consts,e);rq(r,t+Se,n)}function fL(t){const e=k();return $6(Dt(e,oi(),t)),fL}function Cq(t){z6(_e(),k(),t+Se)}function Eq(t,e={}){return bq(t,e)}function kt(t,e,r,n){const i=k(),s=_e(),o=Ge();return KE(s,i,i[ce],o,t,e,n),kt}function pL(t,e){const r=Ge(),n=k(),i=_e(),s=tE(i.data),o=yN(s,r,n);return KE(i,n,o,r,t,e),pL}function Dq(t,e,r,n){const i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===r&&i[s+1]===n){const a=e[zl],l=i[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function KE(t,e,r,n,i,s,o){const a=ay(n),c=t.firstCreatePass&&mN(t),u=e[sn],d=gN(e);let h=!0;if(n.type&3||o){const g=Bn(n,e),m=o?o(g):g,y=d.length,v=o?C=>o(Qn(C[n.index])):n.index;let b=null;if(!o&&a&&(b=Dq(t,e,i,n.index)),b!==null){const C=b.__ngLastListenerFn__||b;C.__ngNextListenerFn__=s,b.__ngLastListenerFn__=s,h=!1}else{s=FS(n,e,u,s);const C=r.listen(m,i,s);d.push(s,C),c&&c.push(i,v,y,y+1)}}else s=FS(n,e,u,s);const f=n.outputs;let p;if(h&&f!==null&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const y=p[m],v=p[m+1],M=e[y][v].subscribe(s),T=d.length;d.push(s,M),c&&c.push(i,n.index,T,-(T+1))}}}function LS(t,e,r,n){const i=pe(null);try{return xi(6,e,r),r(n)!==!1}catch(s){return Ey(t,s),!1}finally{xi(7,e,r),pe(i)}}function FS(t,e,r,n){return function i(s){if(s===Function)return n;const o=t.componentOffset>-1?Ro(t.index,e):e;Dy(o,5);let a=LS(e,r,n,s),l=i.__ngNextListenerFn__;for(;l;)a=LS(e,r,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function ZE(t=1){return O3(t)}function kq(t,e){let r=null;const n=Vz(t);for(let i=0;i<e.length;i++){const s=e[i];if(s==="*"){r=i;continue}if(n===null?_O(t,s,!0):Uz(n,s))return i}return r}function YE(t){const e=k()[an][En];if(!e.projection){const r=t?t.length:1,n=e.projection=Xf(r,null),i=n.slice();let s=e.child;for(;s!==null;){if(s.type!==128){const o=t?kq(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:n[o]=s,i[o]=s)}s=s.next}}}function JE(t,e=0,r,n,i,s){const o=k(),a=_e(),l=n?t+1:null;l!==null&&kd(o,a,l,n,i,s,null,r);const c=el(a,Se+t,16,null,r||null);c.projection===null&&(c.projection=e),eE();const d=!o[Mr]||Lc();o[an][En].projection[c.projection]===null&&l!==null?Mq(o,a,l):d&&(c.flags&32)!==32&&j8(a,o,c)}function Mq(t,e,r){const n=Se+r,i=e.data[n],s=t[n],o=Ta(s,i.tView.ssrId),a=jc(t,i,void 0,{dehydratedView:o});Uc(s,a,0,Sa(i,o))}function gL(t,e,r){return XE(t,"",e,"",r),gL}function XE(t,e,r,n,i){const s=k(),o=qc(s,e,r,n);if(o!==ue){const a=_e(),l=ot();Hn(a,l,s,t,o,s[ce],i,!1)}return XE}function mL(t,e,r,n,i,s,o){const a=k(),l=Kc(a,e,r,n,i,s);if(l!==ue){const c=_e(),u=ot();Hn(c,u,a,t,l,a[ce],o,!1)}return mL}function yL(t,e,r,n,i,s,o,a,l){const c=k(),u=Zc(c,e,r,n,i,s,o,a);if(u!==ue){const d=_e(),h=ot();Hn(d,h,c,t,u,c[ce],l,!1)}return yL}function vL(t,e,r,n,i,s,o,a,l,c,u){const d=k(),h=Yc(d,e,r,n,i,s,o,a,l,c);if(h!==ue){const f=_e(),p=ot();Hn(f,p,d,t,h,d[ce],u,!1)}return vL}function bL(t,e,r,n,i,s,o,a,l,c,u,d,h){const f=k(),p=Jc(f,e,r,n,i,s,o,a,l,c,u,d);if(p!==ue){const g=_e(),m=ot();Hn(g,m,f,t,p,f[ce],h,!1)}return bL}function wL(t,e,r,n,i,s,o,a,l,c,u,d,h,f,p){const g=k(),m=Xc(g,e,r,n,i,s,o,a,l,c,u,d,h,f);if(m!==ue){const y=_e(),v=ot();Hn(y,v,g,t,m,g[ce],p,!1)}return wL}function _L(t,e,r,n,i,s,o,a,l,c,u,d,h,f,p,g,m){const y=k(),v=Qc(y,e,r,n,i,s,o,a,l,c,u,d,h,f,p,g);if(v!==ue){const b=_e(),C=ot();Hn(b,C,y,t,v,y[ce],m,!1)}return _L}function CL(t,e,r,n,i,s,o,a,l,c,u,d,h,f,p,g,m,y,v){const b=k(),C=eu(b,e,r,n,i,s,o,a,l,c,u,d,h,f,p,g,m,y);if(C!==ue){const M=_e(),T=ot();Hn(M,T,b,t,C,b[ce],v,!1)}return CL}function EL(t,e,r){const n=k(),i=Gc(n,e);if(i!==ue){const s=_e(),o=ot();Hn(s,o,n,t,i,n[ce],r,!1)}return EL}function $y(t,e,r,n){KN(t,e,r,n)}function zy(t,e,r){qN(t,e,r)}function nl(t){const e=k(),r=_e(),n=nE();uy(n+1);const i=VE(r,n);if(t.dirty&&v3(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{const s=YN(e,n);t.reset(s,pR),t.notifyOnChanges()}return!0}return!1}function rl(){return BE(k(),nE())}function Sq(t,e,r,n,i){eP(e,KN(t,r,n,i))}function Tq(t,e,r,n){eP(t,qN(e,r,n))}function Iq(t=1){uy(nE()+t)}function QE(t,e,r,n){r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),e[r]=n}function xq(t){const e=jO();return Xa(e,Se+t)}function Aq(t,e,r){const n=k(),i=qc(n,t,e,r);qi(i)}function Oq(t,e,r,n,i){const s=k(),o=Kc(s,t,e,r,n,i);qi(o)}function Rq(t,e,r,n,i,s,o){const a=k(),l=Zc(a,t,e,r,n,i,s,o);qi(l)}function Nq(t,e,r,n,i,s,o,a,l){const c=k(),u=Yc(c,t,e,r,n,i,s,o,a,l);qi(u)}function Pq(t,e,r,n,i,s,o,a,l,c,u){const d=k(),h=Jc(d,t,e,r,n,i,s,o,a,l,c,u);qi(h)}function Lq(t,e,r,n,i,s,o,a,l,c,u,d,h){const f=k(),p=Xc(f,t,e,r,n,i,s,o,a,l,c,u,d,h);qi(p)}function Fq(t,e,r,n,i,s,o,a,l,c,u,d,h,f,p){const g=k(),m=Qc(g,t,e,r,n,i,s,o,a,l,c,u,d,h,f,p);qi(m)}function Bq(t,e,r,n,i,s,o,a,l,c,u,d,h,f,p,g,m){const y=k(),v=eu(y,t,e,r,n,i,s,o,a,l,c,u,d,h,f,p,g,m);qi(v)}function Vq(t){const e=k(),r=Gc(e,t);qi(r)}function DL(t,e,r,n,i){const s=k(),o=qc(s,e,r,n);return li(t,o,i,!1),DL}function kL(t,e,r,n,i,s,o){const a=k(),l=Kc(a,e,r,n,i,s);return li(t,l,o,!1),kL}function ML(t,e,r,n,i,s,o,a,l){const c=k(),u=Zc(c,e,r,n,i,s,o,a);return li(t,u,l,!1),ML}function SL(t,e,r,n,i,s,o,a,l,c,u){const d=k(),h=Yc(d,e,r,n,i,s,o,a,l,c);return li(t,h,u,!1),SL}function TL(t,e,r,n,i,s,o,a,l,c,u,d,h){const f=k(),p=Jc(f,e,r,n,i,s,o,a,l,c,u,d);return li(t,p,h,!1),TL}function IL(t,e,r,n,i,s,o,a,l,c,u,d,h,f,p){const g=k(),m=Xc(g,e,r,n,i,s,o,a,l,c,u,d,h,f);return li(t,m,p,!1),IL}function xL(t,e,r,n,i,s,o,a,l,c,u,d,h,f,p,g,m){const y=k(),v=Qc(y,e,r,n,i,s,o,a,l,c,u,d,h,f,p,g);return li(t,v,m,!1),xL}function AL(t,e,r,n,i,s,o,a,l,c,u,d,h,f,p,g,m,y,v){const b=k(),C=eu(b,e,r,n,i,s,o,a,l,c,u,d,h,f,p,g,m,y);return li(t,C,v,!1),AL}function OL(t,e,r){const n=k(),i=Gc(n,e);return li(t,i,r,!1),OL}function RL(t,e=""){const r=k(),n=_e(),i=t+Se,s=n.firstCreatePass?el(n,i,1,e,null):n.data[i],o=NL(n,r,s,e,t);r[i]=o,ph()&&by(n,r,o,s),Qr(s,!1)}let NL=(t,e,r,n,i)=>(Ss(!0),mE(e[ce],n));function Hq(t,e,r,n,i){const s=e[Mr],o=!s||Lc()||Mh(r)||yh(s,i);return Ss(o),o?mE(e[ce],n):Sy(s,t,e,r)}function jq(){NL=Hq}function PL(t){return Wy("",t,""),PL}function Wy(t,e,r){const n=k(),i=qc(n,t,e,r);return i!==ue&&Is(n,ln(),i),Wy}function LL(t,e,r,n,i){const s=k(),o=Kc(s,t,e,r,n,i);return o!==ue&&Is(s,ln(),o),LL}function FL(t,e,r,n,i,s,o){const a=k(),l=Zc(a,t,e,r,n,i,s,o);return l!==ue&&Is(a,ln(),l),FL}function BL(t,e,r,n,i,s,o,a,l){const c=k(),u=Yc(c,t,e,r,n,i,s,o,a,l);return u!==ue&&Is(c,ln(),u),BL}function VL(t,e,r,n,i,s,o,a,l,c,u){const d=k(),h=Jc(d,t,e,r,n,i,s,o,a,l,c,u);return h!==ue&&Is(d,ln(),h),VL}function HL(t,e,r,n,i,s,o,a,l,c,u,d,h){const f=k(),p=Xc(f,t,e,r,n,i,s,o,a,l,c,u,d,h);return p!==ue&&Is(f,ln(),p),HL}function jL(t,e,r,n,i,s,o,a,l,c,u,d,h,f,p){const g=k(),m=Qc(g,t,e,r,n,i,s,o,a,l,c,u,d,h,f,p);return m!==ue&&Is(g,ln(),m),jL}function UL(t,e,r,n,i,s,o,a,l,c,u,d,h,f,p,g,m){const y=k(),v=eu(y,t,e,r,n,i,s,o,a,l,c,u,d,h,f,p,g,m);return v!==ue&&Is(y,ln(),v),UL}function $L(t){const e=k(),r=Gc(e,t);return r!==ue&&Is(e,ln(),r),$L}/*!
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function zL(t,e,r){XN(e)&&(e=e());const n=k(),i=oi();if(Dt(n,i,e)){const s=_e(),o=ot();Hn(s,o,n,t,e,n[ce],r,!1)}return zL}function Uq(t,e){const r=XN(t);return r&&t.set(e),r}function WL(t,e){const r=k(),n=_e(),i=Ge();return KE(n,r,r[ce],i,t,e),WL}/*!
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const GL={};function qL(t){const e=_e(),r=k(),n=t+Se,i=el(e,n,128,null,null);return Qr(i,!1),QE(e,r,n,GL),qL}function $q(t){ir("NgLet");const e=_e(),r=k(),n=ln();return QE(e,r,n,t),t}function zq(t){const e=jO(),r=Xa(e,Se+t);if(r===GL)throw new z(314,!1);return r}function Wq(t,e,r){const n=_e();if(n.firstCreatePass){const i=Xr(t);E_(r,n.data,n.blueprint,i,!0),E_(e,n.data,n.blueprint,i,!1)}}function E_(t,e,r,n,i){if(t=Be(t),Array.isArray(t))for(let s=0;s<t.length;s++)E_(t[s],e,r,n,i);else{const s=_e(),o=k(),a=Ge();let l=uc(t)?t:Be(t.provide);const c=MO(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(uc(t)||!t.multi){const f=new gh(c,i,O),p=yb(l,e,i?u:u+h,d);p===-1?(Jw(Zp(a,o),s,l),mb(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),r.push(f),o.push(f)):(r[p]=f,o[p]=f)}else{const f=yb(l,e,u+h,d),p=yb(l,e,u,u+h),g=f>=0&&r[f],m=p>=0&&r[p];if(i&&!m||!i&&!g){Jw(Zp(a,o),s,l);const y=Kq(i?qq:Gq,r.length,i,n,c);!i&&m&&(r[p].providerFactory=y),mb(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),r.push(y),o.push(y)}else{const y=KL(r[i?p:f],c,!i&&n);mb(s,t,f>-1?f:p,y)}!i&&n&&m&&r[p].componentProviders++}}}function mb(t,e,r,n){const i=uc(e),s=Qz(e);if(i||s){const l=(s?Be(e.useClass):e).prototype.ngOnDestroy;if(l){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(r);u===-1?c.push(r,[n,l]):c[u+1].push(n,l)}else c.push(r,l)}}}function KL(t,e,r){return r&&t.componentProviders++,t.multi.push(e)-1}function yb(t,e,r,n){for(let i=r;i<n;i++)if(e[i]===t)return i;return-1}function Gq(t,e,r,n){return D_(this.multi,[])}function qq(t,e,r,n){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=ka(r,r[Y],this.providerFactory.index,n);s=a.slice(0,o),D_(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],D_(i,s);return s}function D_(t,e){for(let r=0;r<t.length;r++){const n=t[r];e.push(n())}return e}function Kq(t,e,r,n,i){const s=new gh(t,r,O);return s.multi=[],s.index=e,s.componentProviders=0,KL(s,i,n&&!r),s}function Pe(t,e=[]){return r=>{r.providersResolver=(n,i)=>Wq(n,i?i(t):t,e)}}let Zq=(()=>{const e=class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const i=z0(!1,n.type),s=i.length>0?Ry([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};e.ɵprov=P({token:e,providedIn:"environment",factory:()=>new e(I(kr))});let t=e;return t})();function Fo(t){ir("NgStandalone"),t.getStandaloneInjector=e=>e.get(Zq).getOrCreateStandaloneInjector(t)}function Yq(t,e,r){const n=t.ɵcmp;n.directiveDefs=Up(e,!1),n.pipeDefs=Up(r,!0)}function Jq(t,e){return xo(()=>{const r=yo(t,!0);r.declarations=df(e.declarations||Fe),r.imports=df(e.imports||Fe),r.exports=df(e.exports||Fe),e.bootstrap&&(r.bootstrap=df(e.bootstrap)),Ed.registerNgModule(t,e)})}function df(t){if(typeof t=="function")return t;const e=Di(t);return e.some(ty)?()=>e.map(Be).map(BS):e.map(BS)}function BS(t){return OE(t)?t.ngModule:t}function ZL(t,e,r){const n=Dn()+t,i=k();return i[n]===ue?Gi(i,n,r?e.call(r):e()):kh(i,n)}function Xq(t,e,r,n){return YL(k(),Dn(),t,e,r,n)}function Qq(t,e,r,n,i){return JL(k(),Dn(),t,e,r,n,i)}function e9(t,e,r,n,i,s){return XL(k(),Dn(),t,e,r,n,i,s)}function t9(t,e,r,n,i,s,o){return QL(k(),Dn(),t,e,r,n,i,s,o)}function n9(t,e,r,n,i,s,o,a){const l=Dn()+t,c=k(),u=Ir(c,l,r,n,i,s);return Dt(c,l+4,o)||u?Gi(c,l+5,a?e.call(a,r,n,i,s,o):e(r,n,i,s,o)):kh(c,l+5)}function r9(t,e,r,n,i,s,o,a,l){const c=Dn()+t,u=k(),d=Ir(u,c,r,n,i,s);return Ia(u,c+4,o,a)||d?Gi(u,c+6,l?e.call(l,r,n,i,s,o,a):e(r,n,i,s,o,a)):kh(u,c+6)}function i9(t,e,r,n,i,s,o,a,l,c){const u=Dn()+t,d=k();let h=Ir(d,u,r,n,i,s);return Ny(d,u+4,o,a,l)||h?Gi(d,u+7,c?e.call(c,r,n,i,s,o,a,l):e(r,n,i,s,o,a,l)):kh(d,u+7)}function s9(t,e,r,n,i,s,o,a,l,c,u){const d=Dn()+t,h=k(),f=Ir(h,d,r,n,i,s);return Ir(h,d+4,o,a,l,c)||f?Gi(h,d+8,u?e.call(u,r,n,i,s,o,a,l,c):e(r,n,i,s,o,a,l,c)):kh(h,d+8)}function o9(t,e,r,n){return eF(k(),Dn(),t,e,r,n)}function Th(t,e){const r=t[e];return r===ue?void 0:r}function YL(t,e,r,n,i,s){const o=e+r;return Dt(t,o,i)?Gi(t,o+1,s?n.call(s,i):n(i)):Th(t,o+1)}function JL(t,e,r,n,i,s,o){const a=e+r;return Ia(t,a,i,s)?Gi(t,a+2,o?n.call(o,i,s):n(i,s)):Th(t,a+2)}function XL(t,e,r,n,i,s,o,a){const l=e+r;return Ny(t,l,i,s,o)?Gi(t,l+3,a?n.call(a,i,s,o):n(i,s,o)):Th(t,l+3)}function QL(t,e,r,n,i,s,o,a,l){const c=e+r;return Ir(t,c,i,s,o,a)?Gi(t,c+4,l?n.call(l,i,s,o,a):n(i,s,o,a)):Th(t,c+4)}function eF(t,e,r,n,i,s){let o=e+r,a=!1;for(let l=0;l<i.length;l++)Dt(t,o++,i[l])&&(a=!0);return a?Gi(t,o,n.apply(s,i)):Th(t,o)}function a9(t,e){const r=_e();let n;const i=t+Se;r.firstCreatePass?(n=l9(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks??(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];const s=n.factory||(n.factory=_a(n.type,!0));let o;const a=Tn(O);try{const l=Kp(!1),c=s();return Kp(l),QE(r,k(),i,c),c}finally{Tn(a)}}function l9(t,e){if(e)for(let r=e.length-1;r>=0;r--){const n=e[r];if(t===n.name)return n}}function c9(t,e,r){const n=t+Se,i=k(),s=Xa(i,n);return Ih(i,n)?YL(i,Dn(),e,s.transform,r,s):s.transform(r)}function u9(t,e,r,n){const i=t+Se,s=k(),o=Xa(s,i);return Ih(s,i)?JL(s,Dn(),e,o.transform,r,n,o):o.transform(r,n)}function d9(t,e,r,n,i){const s=t+Se,o=k(),a=Xa(o,s);return Ih(o,s)?XL(o,Dn(),e,a.transform,r,n,i,a):a.transform(r,n,i)}function h9(t,e,r,n,i,s){const o=t+Se,a=k(),l=Xa(a,o);return Ih(a,o)?QL(a,Dn(),e,l.transform,r,n,i,s,l):l.transform(r,n,i,s)}function f9(t,e,r){const n=t+Se,i=k(),s=Xa(i,n);return Ih(i,n)?eF(i,Dn(),e,s.transform,r,s):s.transform.apply(s,r)}function Ih(t,e){return t[Y].data[e].pure}function p9(t,e){return ky(t,e)}function g9(t,e){return()=>{try{return Ed.getComponentDependencies(t,e).dependencies}catch(r){throw console.error(`Computing dependencies in local compilation mode for the component "${t.name}" failed with the exception:`,r),r}}}function m9(t,e){const r=Pt(t);r!==null&&(r.debugInfo=e)}const io={ɵɵattribute:dt,ɵɵattributeInterpolate1:IP,ɵɵattributeInterpolate2:xP,ɵɵattributeInterpolate3:AP,ɵɵattributeInterpolate4:OP,ɵɵattributeInterpolate5:RP,ɵɵattributeInterpolate6:NP,ɵɵattributeInterpolate7:PP,ɵɵattributeInterpolate8:LP,ɵɵattributeInterpolateV:FP,ɵɵdefineComponent:Oo,ɵɵdefineDirective:W,ɵɵdefineInjectable:P,ɵɵdefineInjector:Za,ɵɵdefineNgModule:Nc,ɵɵdefinePipe:Ln,ɵɵdirectiveInject:O,ɵɵgetInheritedFactory:wt,ɵɵinject:I,ɵɵinjectAttribute:hy,ɵɵinvalidFactory:oN,ɵɵinvalidFactoryDep:fO,ɵɵtemplateRefExtractor:p9,ɵɵresetView:Kw,ɵɵHostDirectivesFeature:Dh,ɵɵNgOnChangesFeature:Or,ɵɵProvidersFeature:Pe,ɵɵCopyDefinitionFeature:nG,ɵɵInheritDefinitionFeature:Te,ɵɵInputTransformsFeature:Lo,ɵɵStandaloneFeature:Fo,ɵɵnextContext:ZE,ɵɵnamespaceHTML:P3,ɵɵnamespaceMathML:N3,ɵɵnamespaceSVG:R3,ɵɵenableBindings:D3,ɵɵdisableBindings:M3,ɵɵelementStart:Hy,ɵɵelementEnd:jy,ɵɵelement:Uy,ɵɵelementContainerStart:WE,ɵɵelementContainerEnd:GE,ɵɵelementContainer:qE,ɵɵpureFunction0:ZL,ɵɵpureFunction1:Xq,ɵɵpureFunction2:Qq,ɵɵpureFunction3:e9,ɵɵpureFunction4:t9,ɵɵpureFunction5:n9,ɵɵpureFunction6:r9,ɵɵpureFunction7:i9,ɵɵpureFunction8:s9,ɵɵpureFunctionV:o9,ɵɵgetCurrentView:JP,ɵɵrestoreView:qw,ɵɵlistener:kt,ɵɵprojection:JE,ɵɵsyntheticHostProperty:XP,ɵɵsyntheticHostListener:pL,ɵɵpipeBind1:c9,ɵɵpipeBind2:u9,ɵɵpipeBind3:d9,ɵɵpipeBind4:h9,ɵɵpipeBindV:f9,ɵɵprojectionDef:YE,ɵɵhostProperty:Zi,ɵɵproperty:Vy,ɵɵpropertyInterpolate:gL,ɵɵpropertyInterpolate1:XE,ɵɵpropertyInterpolate2:mL,ɵɵpropertyInterpolate3:yL,ɵɵpropertyInterpolate4:vL,ɵɵpropertyInterpolate5:bL,ɵɵpropertyInterpolate6:wL,ɵɵpropertyInterpolate7:_L,ɵɵpropertyInterpolate8:CL,ɵɵpropertyInterpolateV:EL,ɵɵpipe:a9,ɵɵqueryRefresh:nl,ɵɵqueryAdvance:Iq,ɵɵviewQuery:zy,ɵɵviewQuerySignal:Tq,ɵɵloadQuery:rl,ɵɵcontentQuery:$y,ɵɵcontentQuerySignal:Sq,ɵɵreference:xq,ɵɵclassMap:UP,ɵɵclassMapInterpolate1:l6,ɵɵclassMapInterpolate2:c6,ɵɵclassMapInterpolate3:u6,ɵɵclassMapInterpolate4:d6,ɵɵclassMapInterpolate5:h6,ɵɵclassMapInterpolate6:f6,ɵɵclassMapInterpolate7:p6,ɵɵclassMapInterpolate8:g6,ɵɵclassMapInterpolateV:m6,ɵɵstyleMap:qi,ɵɵstyleMapInterpolate1:Aq,ɵɵstyleMapInterpolate2:Oq,ɵɵstyleMapInterpolate3:Rq,ɵɵstyleMapInterpolate4:Nq,ɵɵstyleMapInterpolate5:Pq,ɵɵstyleMapInterpolate6:Lq,ɵɵstyleMapInterpolate7:Fq,ɵɵstyleMapInterpolate8:Bq,ɵɵstyleMapInterpolateV:Vq,ɵɵstyleProp:Sd,ɵɵstylePropInterpolate1:DL,ɵɵstylePropInterpolate2:kL,ɵɵstylePropInterpolate3:ML,ɵɵstylePropInterpolate4:SL,ɵɵstylePropInterpolate5:TL,ɵɵstylePropInterpolate6:IL,ɵɵstylePropInterpolate7:xL,ɵɵstylePropInterpolate8:AL,ɵɵstylePropInterpolateV:OL,ɵɵclassProp:xs,ɵɵadvance:iN,ɵɵtemplate:Py,ɵɵconditional:KP,ɵɵdefer:DG,ɵɵdeferWhen:kG,ɵɵdeferOnIdle:SG,ɵɵdeferOnImmediate:IG,ɵɵdeferOnTimer:AG,ɵɵdeferOnHover:RG,ɵɵdeferOnInteraction:PG,ɵɵdeferOnViewport:FG,ɵɵdeferPrefetchWhen:MG,ɵɵdeferPrefetchOnIdle:TG,ɵɵdeferPrefetchOnImmediate:xG,ɵɵdeferPrefetchOnTimer:OG,ɵɵdeferPrefetchOnHover:NG,ɵɵdeferPrefetchOnInteraction:LG,ɵɵdeferPrefetchOnViewport:BG,ɵɵdeferEnableTimerScheduling:EG,ɵɵrepeater:M6,ɵɵrepeaterCreate:D6,ɵɵrepeaterTrackByIndex:_6,ɵɵrepeaterTrackByIdentity:C6,ɵɵcomponentInstance:y6,ɵɵtext:RL,ɵɵtextInterpolate:PL,ɵɵtextInterpolate1:Wy,ɵɵtextInterpolate2:LL,ɵɵtextInterpolate3:FL,ɵɵtextInterpolate4:BL,ɵɵtextInterpolate5:VL,ɵɵtextInterpolate6:HL,ɵɵtextInterpolate7:jL,ɵɵtextInterpolate8:UL,ɵɵtextInterpolateV:$L,ɵɵi18n:wq,ɵɵi18nAttributes:_q,ɵɵi18nExp:fL,ɵɵi18nStart:dL,ɵɵi18nEnd:hL,ɵɵi18nApply:Cq,ɵɵi18nPostprocess:Eq,ɵɵresolveWindow:A8,ɵɵresolveDocument:O8,ɵɵresolveBody:UR,ɵɵsetComponentScope:Yq,ɵɵsetNgModuleScope:Jq,ɵɵregisterNgModuleType:oP,ɵɵgetComponentDepsFactory:g9,ɵsetClassDebugInfo:m9,ɵɵdeclareLet:qL,ɵɵstoreLet:$q,ɵɵreadContextLet:zq,ɵɵsanitizeHtml:_8,ɵɵsanitizeStyle:C8,ɵɵsanitizeResourceUrl:HR,ɵɵsanitizeScript:E8,ɵɵsanitizeUrl:VR,ɵɵsanitizeUrlOrResourceUrl:jR,ɵɵtrustConstantHtml:D8,ɵɵtrustConstantResourceUrl:k8,ɵɵvalidateIframeAttribute:KW,forwardRef:Ye,resolveForwardRef:Be,ɵɵtwoWayProperty:zL,ɵɵtwoWayBindingSet:Uq,ɵɵtwoWayListener:WL};let Iu=null;function y9(t){Iu!==null&&(t.defaultEncapsulation!==Iu.defaultEncapsulation||t.preserveWhitespaces!==Iu.preserveWhitespaces)||(Iu=t)}function v9(){return Iu}const sp=[];function b9(t,e){sp.push({moduleType:t,ngModule:e})}let vb=!1;function w9(){if(!vb){vb=!0;try{for(let t=sp.length-1;t>=0;t--){const{moduleType:e,ngModule:r}=sp[t];r.declarations&&r.declarations.every(tF)&&(sp.splice(t,1),E9(e,r))}}finally{vb=!1}}}function tF(t){return Array.isArray(t)?t.every(tF):!!Be(t)}function _9(t,e={}){C9(t,e),e.id!==void 0&&oP(t,e.id),b9(t,e)}function C9(t,e,r=!1){const n=Di(e.declarations||Fe);let i=null;Object.defineProperty(t,uO,{configurable:!0,get:()=>(i===null&&(i=vr({usage:0,kind:"NgModule",type:t}).compileNgModule(io,`ng:///${t.name}/ɵmod.js`,{type:t,bootstrap:Di(e.bootstrap||Fe).map(Be),declarations:n.map(Be),imports:Di(e.imports||Fe).map(Be).map(VS),exports:Di(e.exports||Fe).map(Be).map(VS),schemas:e.schemas?Di(e.schemas):null,id:e.id||null}),i.schemas||(i.schemas=[])),i)});let s=null;Object.defineProperty(t,ws,{get:()=>{if(s===null){const a=vr({usage:0,kind:"NgModule",type:t});s=a.compileFactory(io,`ng:///${t.name}/ɵfac.js`,{name:t.name,type:t,deps:fy(t),target:a.FactoryTarget.NgModule,typeArgumentCount:0})}return s},configurable:!1});let o=null;Object.defineProperty(t,Fw,{get:()=>{if(o===null){const a={name:t.name,type:t,providers:e.providers||Fe,imports:[(e.imports||Fe).map(Be),(e.exports||Fe).map(Be)]};o=vr({usage:0,kind:"NgModule",type:t}).compileInjector(io,`ng:///${t.name}/ɵinj.js`,a)}return o},configurable:!1})}function E9(t,e){const r=Di(e.declarations||Fe),n=rF(t);r.forEach(i=>{if(i=Be(i),i.hasOwnProperty(ry)){const o=Pt(i);nF(o,n)}else!i.hasOwnProperty(F0)&&!i.hasOwnProperty(B0)&&(i.ngSelectorScope=t)})}function nF(t,e){t.directiveDefs=()=>Array.from(e.compilation.directives).map(r=>r.hasOwnProperty(ry)?Pt(r):si(r)).filter(r=>!!r),t.pipeDefs=()=>Array.from(e.compilation.pipes).map(r=>Ds(r)),t.schemas=e.schemas,t.tView=null}function rF(t){if(kl(t)){const e=Ed.getNgModuleScope(t);return{schemas:yo(t,!0).schemas||null,...e}}else if(jp(t)){if((Pt(t)||si(t))!==null)return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set([t]),pipes:new Set}};if(Ds(t)!==null)return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set([t])}}}throw new Error(`${t.name} does not have a module def (ɵmod property)`)}function VS(t){return OE(t)?t.ngModule:t}let bb=0;function D9(t,e){let r=null;jW(t,e),oF(t,e),Object.defineProperty(t,ry,{get:()=>{if(r===null){const n=vr({usage:0,kind:"component",type:t});if(sP(e)){const c=[`Component '${t.name}' is not resolved:`];throw e.templateUrl&&c.push(` - templateUrl: ${e.templateUrl}`),e.styleUrls&&e.styleUrls.length&&c.push(` - styleUrls: ${JSON.stringify(e.styleUrls)}`),e.styleUrl&&c.push(` - styleUrl: ${e.styleUrl}`),c.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(c.join(`
`))}const i=v9();let s=e.preserveWhitespaces;s===void 0&&(i!==null&&i.preserveWhitespaces!==void 0?s=i.preserveWhitespaces:s=!1);let o=e.encapsulation;o===void 0&&(i!==null&&i.defaultEncapsulation!==void 0?o=i.defaultEncapsulation:o=Ii.Emulated);const a=e.templateUrl||`ng:///${t.name}/template.html`,l={...aF(t,e),typeSourceSpan:n.createParseSourceSpan("Component",t.name,a),template:e.template||"",preserveWhitespaces:s,styles:typeof e.styles=="string"?[e.styles]:e.styles||Fe,animations:e.animations,declarations:[],changeDetection:e.changeDetection,encapsulation:o,interpolation:e.interpolation,viewProviders:e.viewProviders||null};bb++;try{if(l.usesInheritance&&lF(t),r=n.compileComponent(io,a,l),e.standalone){const c=Di(e.imports||Fe),{directiveDefs:u,pipeDefs:d}=k9(t,c);r.directiveDefs=u,r.pipeDefs=d,r.dependencies=()=>c.map(Be)}}finally{bb--}if(bb===0&&w9(),M9(t)){const c=rF(t.ngSelectorScope);nF(r,c)}if(e.schemas)if(e.standalone)r.schemas=e.schemas;else throw new Error(`The 'schemas' was specified for the ${Ei(t)} but is only valid on a component that is standalone.`);else e.standalone&&(r.schemas=[])}return r},configurable:!1})}function k9(t,e){return{directiveDefs:()=>Uu(t)?[...Ed.getStandaloneComponentScope(t,e).compilation.directives].map(s=>Pt(s)||si(s)).filter(s=>s!==null):[],pipeDefs:()=>Uu(t)?[...Ed.getStandaloneComponentScope(t,e).compilation.pipes].map(s=>Ds(s)).filter(s=>s!==null):[]}}function M9(t){return t.ngSelectorScope!==void 0}function iF(t,e){let r=null;oF(t,e||{}),Object.defineProperty(t,F0,{get:()=>{if(r===null){const n=sF(t,e||{});r=vr({usage:0,kind:"directive",type:t}).compileDirective(io,n.sourceMapUrl,n.metadata)}return r},configurable:!1})}function sF(t,e){const r=t&&t.name,n=`ng:///${r}/ɵdir.js`,i=vr({usage:0,kind:"directive",type:t}),s=aF(t,e);return s.typeSourceSpan=i.createParseSourceSpan("Directive",r,n),s.usesInheritance&&lF(t),{metadata:s,sourceMapUrl:n}}function oF(t,e){let r=null;Object.defineProperty(t,ws,{get:()=>{if(r===null){const n=sF(t,e),i=vr({usage:0,kind:"directive",type:t});r=i.compileFactory(io,`ng:///${t.name}/ɵfac.js`,{name:n.metadata.name,type:n.metadata.type,typeArgumentCount:0,deps:fy(t),target:i.FactoryTarget.Directive})}return r},configurable:!1})}function S9(t){return Object.getPrototypeOf(t.prototype)===Object.prototype}function aF(t,e){const r=oE(),n=r.ownPropMetadata(t);return{name:t.name,type:t,selector:e.selector!==void 0?e.selector:null,host:e.host||Pi,propMetadata:n,inputs:e.inputs||Fe,outputs:e.outputs||Fe,queries:HS(t,n,cF),lifecycle:{usesOnChanges:r.hasLifecycleHook(t,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!S9(t),exportAs:x9(e.exportAs),providers:e.providers||null,viewQueries:HS(t,n,uF),isStandalone:!!e.standalone,isSignal:!!e.signals,hostDirectives:e.hostDirectives?.map(i=>typeof i=="function"?{directive:i}:i)||null}}function lF(t){const e=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==e;)!si(r)&&!Pt(r)&&O9(r)&&iF(r,null),r=Object.getPrototypeOf(r)}function T9(t){return typeof t=="string"?hF(t):Be(t)}function I9(t,e){return{propertyName:t,predicate:T9(e.selector),descendants:e.descendants,first:e.first,read:e.read?e.read:null,static:!!e.static,emitDistinctChangesOnly:!!e.emitDistinctChangesOnly,isSignal:!!e.isSignal}}function HS(t,e,r){const n=[];for(const i in e)if(e.hasOwnProperty(i)){const s=e[i];s.forEach(o=>{if(r(o)){if(!o.selector)throw new Error(`Can't construct a query for the property "${i}" of "${Ei(t)}" since the query selector wasn't defined.`);if(s.some(dF))throw new Error("Cannot combine @Input decorators with query decorators");n.push(I9(i,o))}})}return n}function x9(t){return t===void 0?null:hF(t)}function cF(t){const e=t.ngMetadataName;return e==="ContentChild"||e==="ContentChildren"}function uF(t){const e=t.ngMetadataName;return e==="ViewChild"||e==="ViewChildren"}function dF(t){return t.ngMetadataName==="Input"}function hF(t){return t.split(",").map(e=>e.trim())}const A9=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function O9(t){const e=oE();if(A9.some(n=>e.hasLifecycleHook(t,n)))return!0;const r=e.propMetadata(t);for(const n in r){const i=r[n];for(let s=0;s<i.length;s++){const o=i[s],a=o.ngMetadataName;if(dF(o)||cF(o)||uF(o)||a==="Output"||a==="HostBinding"||a==="HostListener")return!0}}return!1}function R9(t,e){let r=null,n=null;Object.defineProperty(t,ws,{get:()=>{if(n===null){const i=jS(t,e),s=vr({usage:0,kind:"pipe",type:i.type});n=s.compileFactory(io,`ng:///${i.name}/ɵfac.js`,{name:i.name,type:i.type,typeArgumentCount:0,deps:fy(t),target:s.FactoryTarget.Pipe})}return n},configurable:!1}),Object.defineProperty(t,B0,{get:()=>{if(r===null){const i=jS(t,e);r=vr({usage:0,kind:"pipe",type:i.type}).compilePipe(io,`ng:///${i.name}/ɵpipe.js`,i)}return r},configurable:!1})}function jS(t,e){return{type:t,name:t.name,pipeName:e.name,pure:e.pure!==void 0?e.pure:!0,isStandalone:!!e.standalone}}const N9=ah("Directive",(t={})=>t,void 0,void 0,(t,e)=>iF(t,e));ah("Component",(t={})=>({changeDetection:U0.Default,...t}),N9,void 0,(t,e)=>D9(t,e));ah("Pipe",t=>({pure:!0,...t}),void 0,void 0,(t,e)=>R9(t,e));Ao("Input",t=>t?typeof t=="string"?{alias:t}:t:{});Ao("Output",t=>({alias:t}));Ao("HostBinding",t=>({hostPropertyName:t}));Ao("HostListener",(t,e)=>({eventName:t,args:e}));const Wpe=ah("NgModule",t=>t,void 0,void 0,(t,e)=>_9(t,e));class xh{constructor(e){this.full=e;const r=e.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}new xh("18.2.0");let P9=(()=>{const e=class e{log(n){console.log(n)}warn(n){console.warn(n)}};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"platform"});let t=e;return t})();class L9{constructor(){this.resolverToTokenToDependencies=new WeakMap,this.resolverToProviders=new WeakMap,this.standaloneInjectorToComponent=new WeakMap}reset(){this.resolverToTokenToDependencies=new WeakMap,this.resolverToProviders=new WeakMap,this.standaloneInjectorToComponent=new WeakMap}}let Gpe=new L9;const F9=new A(""),qpe=new A("");function Ah(t){return!!t&&typeof t.then=="function"}function fF(t){return!!t&&typeof t.subscribe=="function"}const eD=new A("");let pF=(()=>{const e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=w(eD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const s of this.appInits){const o=s();if(Ah(o))n.push(o);else if(fF(o)){const a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});n.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(s=>{this.reject(s)}),n.length===0&&i(),this.initialized=!0}};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();const Oh=new A("");function gF(){n$(()=>{throw new z(600,!1)})}function B9(t){return t.isBoundToModule}const V9=10;function H9(t,e,r){try{const n=r();return Ah(n)?n.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}function mF(t,e){return Array.isArray(e)?e.reduce(mF,t):{...t,...e}}let Bo=(()=>{const e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=w(m4),this.afterRenderEffectManager=w(xy),this.zonelessEnabled=w(AE),this.externalTestViews=new Set,this.beforeRender=new de,this.afterTick=new de,this.componentTypes=[],this.components=[],this.isStable=w(No).hasPendingTasks.pipe(ke(n=>!n)),this._injector=w(kr)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,i){const s=n instanceof NN;if(!this._injector.get(pF).done){const f=!s&&jp(n),p=!1;throw new z(405,p)}let a;s?a=n:a=this._injector.get(vo).resolveComponentFactory(n),this.componentTypes.push(a.componentType);const l=B9(a)?void 0:this._injector.get(fc),c=i||a.selector,u=a.create(tt.NULL,[],c,l),d=u.location.nativeElement,h=u.injector.get(F9,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),op(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new z(101,!1);const i=pe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,pe(i),this.afterTick.next()}}detectChangesInAttachedViews(n){let i=null;this._injector.destroyed||(i=this._injector.get(Iy,null,{optional:!0}));let s=0;const o=this.afterRenderEffectManager;for(;s<V9;){const a=s===0;if(n||!a){this.beforeRender.next(a);for(let{_lView:l,notifyErrorHandler:c}of this._views)j9(l,c,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(s++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:l})=>bd(l))&&(o.execute(),!this.allViews.some(({_lView:l})=>bd(l))))break}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;op(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const i=this._injector.get(Oh,[]);[...this._bootstrapListeners,...i].forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>op(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new z(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();function op(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}let hf;function yF(t){hf??(hf=new WeakMap);const e=hf.get(t);if(e)return e;const r=t.isStable.pipe(Io(n=>n)).toPromise().then(()=>{});return hf.set(t,r),t.onDestroy(()=>hf?.delete(t)),r}function j9(t,e,r,n){if(!r&&!bd(t))return;_N(t,e,r&&!n?0:1)}class U9{constructor(e,r){this.ngModuleFactory=e,this.componentFactories=r}}let vF=(()=>{const e=class e{compileModuleSync(n){return new uP(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const i=this.compileModuleSync(n),s=yo(n),o=Fl(s.declarations).reduce((a,l)=>{const c=Pt(l);return c&&a.push(new Ay(c)),a},[]);return new U9(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();const $9=new A("");function z9(t,e,r){const n=new uP(r);return Promise.resolve(n)}function US(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}let W9=(()=>{const e=class e{constructor(){this.zone=w(Me),this.changeDetectionScheduler=w(Ch),this.applicationRef=w(Bo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();const G9=new A("",{factory:()=>!1});function tD({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??(t=()=>new Me(nD())),[{provide:Me,useFactory:t},{provide:gd,multi:!0,useFactory:()=>{const r=w(W9,{optional:!0});return()=>r.initialize()}},{provide:gd,multi:!0,useFactory:()=>{const r=w(q9);return()=>{r.initialize()}}},e===!0?{provide:RN,useValue:!0}:[]]}function Kpe(t){const e=t?.ignoreChangesOutsideZone,r=tD({ngZoneFactory:()=>{const n=nD(t);return n.shouldCoalesceEventChangeDetection&&ir("NgZone_CoalesceEvent"),new Me(n)},ignoreChangesOutsideZone:e});return uh([{provide:G9,useValue:!0},{provide:AE,useValue:!1},r])}function nD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let q9=(()=>{const e=class e{constructor(){this.subscription=new vn,this.initialized=!1,this.zone=w(Me),this.pendingTasks=w(No)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Me.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Me.assertInAngularZone(),n??(n=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();let bF=(()=>{const e=class e{constructor(){this.appRef=w(Bo),this.taskService=w(No),this.ngZone=w(Me),this.zonelessEnabled=w(AE),this.disableScheduling=w(RN,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new vn,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Jp):null,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof dR||!this.zoneIsDefined))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}}if(!this.shouldScheduleTick())return;const i=this.useMicrotaskScheduler?KM:uR;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Jp+this.angularZoneId))}tick(n){if(this.runningTick||this.appRef.destroyed)return;const i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(n)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(i),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,KM(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();function K9(){return typeof $localize<"u"&&$localize.locale||og}const Vo=new A("",{providedIn:"root",factory:()=>w(Vo,De.Optional|De.SkipSelf)||K9()}),Z9=new A("",{providedIn:"root",factory:()=>H6});new A("");new A("");const rD=new A("");function ff(t){return!!t.platformInjector}function wF(t){const e=ff(t)?t.r3Injector:t.moduleRef.injector,r=e.get(Me);return r.run(()=>{ff(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const n=e.get(Po,null);let i;if(r.runOutsideAngular(()=>{i=r.onError.subscribe({next:s=>{n.handleError(s)}})}),ff(t)){const s=()=>e.destroy(),o=t.platformInjector.get(rD);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{op(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return H9(n,r,()=>{const s=e.get(pF);return s.runInitializers(),s.donePromise.then(()=>{const o=e.get(Vo,og);if(j6(o||og),ff(t)){const a=e.get(Bo);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return Y9(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function Y9(t,e){const r=t.injector.get(Bo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(n=>r.bootstrap(n));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(r);else throw new z(-403,!1);e.push(t)}let _F=(()=>{const e=class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const s=()=>g4(i?.ngZone,nD({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing})),o=i?.ignoreChangesOutsideZone,a=[tD({ngZoneFactory:s,ignoreChangesOutsideZone:o}),{provide:Ch,useExisting:bF}],l=sG(n.moduleType,this.injector,a);return wF({moduleRef:l,allPlatformModules:this._modules})}bootstrapModule(n,i=[]){const s=mF({},i);return z9(this.injector,s,n).then(o=>this.bootstrapModuleFactory(o,s))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new z(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const n=this._injector.get(rD,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.ɵfac=function(i){return new(i||e)(I(tt))},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"platform"});let t=e;return t})(),so=null;const CF=new A("");function J9(t){if(so&&!so.get(CF,!1))throw new z(400,!1);gF(),so=t;const e=t.get(_F);return MF(t),e}function EF(t,e,r=[]){const n=`Platform: ${e}`,i=new A(n);return(s=[])=>{let o=kF();if(!o||o.injector.get(CF,!1)){const a=[...r,...s,{provide:i,useValue:!0}];t?t(a):J9(DF(a,n))}return X9(i)}}function DF(t=[],e){return tt.create({name:e,providers:[{provide:G0,useValue:"platform"},{provide:rD,useValue:new Set([()=>so=null])},...t]})}function X9(t){const e=kF();if(!e)throw new z(401,!1);return e}function kF(){return so?.get(_F)??null}function Q9(t=[]){if(so)return so;const e=DF(t);return so=e,gF(),MF(e),e}function MF(t){t.get(_R,null)?.forEach(r=>r())}function pf(){return!1}let As=(()=>{const e=class e{};e.__NG_ELEMENT_ID__=e7;let t=e;return t})();function e7(t){return t7(Ge(),k(),(t&16)===16)}function t7(t,e,r){if(dh(t)&&!r){const n=Ro(t.index,e);return new Cd(n,n)}else if(t.type&175){const n=e[an];return new Cd(n,e)}return null}class SF{constructor(){}supports(e){return hP(e)}create(e){return new r7(e)}}const n7=(t,e)=>e;class r7{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||n7}forEachItem(e){let r;for(r=this._itHead;r!==null;r=r._next)e(r)}forEachOperation(e){let r=this._itHead,n=this._removalsHead,i=0,s=null;for(;r||n;){const o=!n||r&&r.currentIndex<zS(n,i,s)?r:n,a=zS(o,i,s),l=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(r=r._next,o.previousIndex==null)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}const d=o.previousIndex;s[d]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let r;for(r=this._previousItHead;r!==null;r=r._nextPrevious)e(r)}forEachAddedItem(e){let r;for(r=this._additionsHead;r!==null;r=r._nextAdded)e(r)}forEachMovedItem(e){let r;for(r=this._movesHead;r!==null;r=r._nextMoved)e(r)}forEachRemovedItem(e){let r;for(r=this._removalsHead;r!==null;r=r._nextRemoved)e(r)}forEachIdentityChange(e){let r;for(r=this._identityChangesHead;r!==null;r=r._nextIdentityChange)e(r)}diff(e){if(e==null&&(e=[]),!hP(e))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r=this._itHead,n=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),r===null||!Object.is(r.trackById,o)?(r=this._mismatch(r,s,o,a),n=!0):(n&&(r=this._verifyReinsertion(r,s,o,a)),Object.is(r.item,s)||this._addIdentityChange(r,s)),r=r._next}else i=0,aG(e,a=>{o=this._trackByFn(i,a),r===null||!Object.is(r.trackById,o)?(r=this._mismatch(r,a,o,i),n=!0):(n&&(r=this._verifyReinsertion(r,a,o,i)),Object.is(r.item,a)||this._addIdentityChange(r,a)),r=r._next,i++}),this.length=i;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,r,n,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),e!==null?(Object.is(e.item,r)||this._addIdentityChange(e,r),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(n,i),e!==null?(Object.is(e.item,r)||this._addIdentityChange(e,r),this._moveAfter(e,s,i)):e=this._addAfter(new i7(r,n),s,i)),e}_verifyReinsertion(e,r,n,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){const r=e._next;this._addToRemovals(this._unlink(e)),e=r}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,r,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,r,n),this._addToMoves(e,n),e}_moveAfter(e,r,n){return this._unlink(e),this._insertAfter(e,r,n),this._addToMoves(e,n),e}_addAfter(e,r,n){return this._insertAfter(e,r,n),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,r,n){const i=r===null?this._itHead:r._next;return e._next=i,e._prev=r,i===null?this._itTail=e:i._prev=e,r===null?this._itHead=e:r._next=e,this._linkedRecords===null&&(this._linkedRecords=new $S),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);const r=e._prev,n=e._next;return r===null?this._itHead=n:r._next=n,n===null?this._itTail=r:n._prev=r,e}_addToMoves(e,r){return e.previousIndex===r||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new $S),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,r){return e.item=r,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}}class i7{constructor(e,r){this.item=e,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class s7{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,r){let n;for(n=this._head;n!==null;n=n._nextDup)if((r===null||r<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const r=e._prevDup,n=e._nextDup;return r===null?this._head=n:r._nextDup=n,n===null?this._tail=r:n._prevDup=r,this._head===null}}class $S{constructor(){this.map=new Map}put(e){const r=e.trackById;let n=this.map.get(r);n||(n=new s7,this.map.set(r,n)),n.add(e)}get(e,r){const n=e,i=this.map.get(n);return i?i.get(e,r):null}remove(e){const r=e.trackById;return this.map.get(r).remove(e)&&this.map.delete(r),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}}function zS(t,e,r){const n=t.previousIndex;if(n===null)return n;let i=0;return r&&n<r.length&&(i=r[n]),n+e+i}class TF{constructor(){}supports(e){return e instanceof Map||jE(e)}create(){return new o7}}class o7{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let r;for(r=this._mapHead;r!==null;r=r._next)e(r)}forEachPreviousItem(e){let r;for(r=this._previousMapHead;r!==null;r=r._nextPrevious)e(r)}forEachChangedItem(e){let r;for(r=this._changesHead;r!==null;r=r._nextChanged)e(r)}forEachAddedItem(e){let r;for(r=this._additionsHead;r!==null;r=r._nextAdded)e(r)}forEachRemovedItem(e){let r;for(r=this._removalsHead;r!==null;r=r._nextRemoved)e(r)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||jE(e)))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(e,(n,i)=>{if(r&&r.key===i)this._maybeAddToChanges(r,n),this._appendAfter=r,r=r._next;else{const s=this._getOrCreateRecordForKey(i,n);r=this._insertBeforeOrAppend(r,s)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let n=r;n!==null;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,r){if(e){const n=e._prev;return r._next=e,r._prev=n,e._prev=r,n&&(n._next=r),e===this._mapHead&&(this._mapHead=r),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(e,r){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,r);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const n=new a7(e);return this._records.set(e,n),n.currentValue=r,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,r){Object.is(r,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=r,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,r){e instanceof Map?e.forEach(r):Object.keys(e).forEach(n=>r(e[n],n))}}class a7{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function WS(){return new iD([new SF])}let iD=(()=>{const e=class e{constructor(n){this.factories=n}static create(n,i){if(i!=null){const s=i.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||WS()),deps:[[e,new Ja,new Ya]]}}find(n){const i=this.factories.find(s=>s.supports(n));if(i!=null)return i;throw new z(901,!1)}};e.ɵprov=P({token:e,providedIn:"root",factory:WS});let t=e;return t})();function GS(){return new Gy([new TF])}let Gy=(()=>{const e=class e{constructor(n){this.factories=n}static create(n,i){if(i){const s=i.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||GS()),deps:[[e,new Ja,new Ya]]}}find(n){const i=this.factories.find(s=>s.supports(n));if(i)return i;throw new z(901,!1)}};e.ɵprov=P({token:e,providedIn:"root",factory:GS});let t=e;return t})();const l7=[new TF],c7=[new SF];new iD(c7);new Gy(l7);const u7=EF(null,"core",[]);function d7(t){try{const{rootComponent:e,appProviders:r,platformProviders:n}=t,i=Q9(n),s=[tD({}),{provide:Ch,useExisting:bF},...r||[]],o=new dP({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return wF({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}const Zpe=new A("",{providedIn:"root",factory:()=>({})}),h7=new A("");let qS=!1;function f7(){qS||(qS=!0,H4(),A6(),jq(),N6(),uG(),TW(),tW(),Y8())}function p7(t,e){return yF(t)}function g7(){return uh([{provide:nf,useFactory:()=>{let t=!0;return Wr()&&(t=!!w(mh,{optional:!0})?.get(MR,null)),t&&ir("NgHydration"),t}},{provide:gd,useValue:()=>{Wr()&&w(nf)&&(m7(),f7())},multi:!0},{provide:xR,useFactory:()=>Wr()&&w(nf)},{provide:Oh,useFactory:()=>{if(Wr()&&w(nf)){const t=w(Bo),e=w(tt);return()=>{p7(t,e).then(()=>{X5(t)})}}return()=>{}},multi:!0}])}function m7(){const t=Vc();let e;for(const r of t.body.childNodes)if(r.nodeType===Node.COMMENT_NODE&&r.textContent?.trim()===B4){e=r;break}if(!e)throw new z(-507,!1)}function At(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ap(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}function _t(t,e){return ir("NgSignals"),MA(t)}function Hr(t){const e=pe(null);try{return t()}finally{pe(e)}}const y7=new A("",{providedIn:"root",factory:()=>w(v7)});let v7=(()=>{const e=class e{};e.ɵprov=P({token:e,providedIn:"root",factory:()=>new b7});let t=e;return t})();class b7{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=w(No),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){const r=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(r),this.taskId=null})}}enqueue(e){const r=e.creationZone;this.queues.has(r)||this.queues.set(r,new Set);const n=this.queues.get(r);n.has(e)||(this.queuedEffectCount++,n.add(e))}flush(){for(;this.queuedEffectCount>0;)for(const[e,r]of this.queues)e===null?this.flushQueue(r):e.run(()=>this.flushQueue(r))}flushQueue(e){for(const r of e)e.delete(r),this.queuedEffectCount--,r.run()}}class w7{constructor(e,r,n,i,s,o){this.scheduler=e,this.effectFn=r,this.creationZone=n,this.injector=s,this.watcher=o$(a=>this.runEffect(a),()=>this.schedule(),o),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(r){this.injector.get(Po,null,{optional:!0})?.handleError(r)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function Pn(t,e){var o;ir("NgSignals"),!e?.injector&&sy(Pn);const r=e?.injector??w(tt),n=e?.manualCleanup!==!0?r.get(Fc):null,i=new w7(r.get(y7),t,typeof Zone>"u"?null:Zone.current,n,r,e?.allowSignalWrites??!1),s=r.get(As,null,{optional:!0});return!s||!(s._lView[oe]&8)?i.watcher.notify():((o=s._lView)[Wl]??(o[Wl]=[])).push(i.watcher.notify),i}function _7(t){const e=Pt(t);if(!e)return null;const r=new Ay(e);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}/**
 * @license Angular v18.2.0
 * (c) 2010-2024 Google LLC. https://angular.io/
 * License: MIT
 */let IF=null;function ua(){return IF}function C7(t){IF??(IF=t)}class E7{}const Ae=new A("");let sD=(()=>{const e=class e{historyGo(n){throw new Error("")}};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:()=>w(k7),providedIn:"platform"});let t=e;return t})();const D7=new A("");let k7=(()=>{const e=class e extends sD{constructor(){super(),this._doc=w(Ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ua().getBaseHref(this._doc)}onPopState(n){const i=ua().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){const i=ua().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,s){this._history.pushState(n,i,s)}replaceState(n,i,s){this._history.replaceState(n,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function oD(t,e){if(t.length==0)return e;if(e.length==0)return t;let r=0;return t.endsWith("/")&&r++,e.startsWith("/")&&r++,r==2?t+e.substring(1):r==1?t+e:t+"/"+e}function KS(t){const e=t.match(/#|\?|$/),r=e&&e.index||t.length,n=r-(t[r-1]==="/"?1:0);return t.slice(0,n)+t.slice(r)}function fs(t){return t&&t[0]!=="?"?"?"+t:t}let il=(()=>{const e=class e{historyGo(n){throw new Error("")}};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:()=>w(AF),providedIn:"root"});let t=e;return t})();const xF=new A("");let AF=(()=>{const e=class e extends il{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??w(Ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return oD(this._baseHref,n)}path(n=!1){const i=this._platformLocation.pathname+fs(this._platformLocation.search),s=this._platformLocation.hash;return s&&n?`${i}${s}`:i}pushState(n,i,s,o){const a=this.prepareExternalUrl(s+fs(o));this._platformLocation.pushState(n,i,a)}replaceState(n,i,s,o){const a=this.prepareExternalUrl(s+fs(o));this._platformLocation.replaceState(n,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.ɵfac=function(i){return new(i||e)(I(sD),I(xF,8))},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})(),M7=(()=>{const e=class e extends il{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){const i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(n){const i=oD(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,s,o){let a=this.prepareExternalUrl(s+fs(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,i,a)}replaceState(n,i,s,o){let a=this.prepareExternalUrl(s+fs(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.ɵfac=function(i){return new(i||e)(I(sD),I(xF,8))},e.ɵprov=P({token:e,factory:e.ɵfac});let t=e;return t})(),tu=(()=>{const e=class e{constructor(n){this._subject=new Ne,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const i=this._locationStrategy.getBaseHref();this._basePath=I7(KS(ZS(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+fs(i))}normalize(n){return e.stripTrailingSlash(T7(this._basePath,ZS(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",s=null){this._locationStrategy.pushState(s,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+fs(i)),s)}replaceState(n,i="",s=null){this._locationStrategy.replaceState(s,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+fs(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(s=>s(n,i))}subscribe(n,i,s){return this._subject.subscribe({next:n,error:i,complete:s})}};e.normalizeQueryParams=fs,e.joinWithSlash=oD,e.stripTrailingSlash=KS,e.ɵfac=function(i){return new(i||e)(I(il))},e.ɵprov=P({token:e,factory:()=>S7(),providedIn:"root"});let t=e;return t})();function S7(){return new tu(I(il))}function T7(t,e){if(!t||!e.startsWith(t))return e;const r=e.substring(t.length);return r===""||["/",";","?","#"].includes(r[0])?r:e}function ZS(t){return t.replace(/\/index.html$/,"")}function I7(t){if(new RegExp("^(https?:)?//").test(t)){const[,r]=t.split(/\/\/[^\/]+/);return r}return t}const OF={ADP:[void 0,void 0,0],AFN:[void 0,"؋",0],ALL:[void 0,void 0,0],AMD:[void 0,"֏",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"₼"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"৳"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN¥","¥"],COP:[void 0,"$",2],CRC:[void 0,"₡",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"Kč",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E£"],ESP:[void 0,"₧",0],EUR:["€"],FJD:[void 0,"$"],FKP:[void 0,"£"],GBP:["£"],GEL:[void 0,"₾"],GHS:[void 0,"GH₵"],GIP:[void 0,"£"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["₪"],INR:["₹"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["¥",void 0,0],KHR:[void 0,"៛"],KMF:[void 0,"CF",0],KPW:[void 0,"₩",0],KRW:["₩",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"₸"],LAK:[void 0,"₭",0],LBP:[void 0,"L£",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"₮",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"₦"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["₱"],PKR:[void 0,"Rs",2],PLN:[void 0,"zł"],PYG:[void 0,"₲",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"₽"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"£"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"£"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"£",0],THB:[void 0,"฿"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"₺"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"₴"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["₫",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["¤"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var qy=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(qy||{}),Ml=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}(Ml||{}),pn=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(pn||{}),Xe=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Xe||{}),Un=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Un||{});const Ot={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function x7(t){return jn(t)[pt.LocaleId]}function A7(t,e,r){const n=jn(t),i=[n[pt.DayPeriodsFormat],n[pt.DayPeriodsStandalone]],s=xr(i,e);return xr(s,r)}function O7(t,e,r){const n=jn(t),i=[n[pt.DaysFormat],n[pt.DaysStandalone]],s=xr(i,e);return xr(s,r)}function R7(t,e,r){const n=jn(t),i=[n[pt.MonthsFormat],n[pt.MonthsStandalone]],s=xr(i,e);return xr(s,r)}function N7(t,e){const n=jn(t)[pt.Eras];return xr(n,e)}function gf(t,e){const r=jn(t);return xr(r[pt.DateFormat],e)}function mf(t,e){const r=jn(t);return xr(r[pt.TimeFormat],e)}function yf(t,e){const n=jn(t)[pt.DateTimeFormat];return xr(n,e)}function mr(t,e){const r=jn(t),n=r[pt.NumberSymbols][e];if(typeof n>"u"){if(e===Ot.CurrencyDecimal)return r[pt.NumberSymbols][Ot.Decimal];if(e===Ot.CurrencyGroup)return r[pt.NumberSymbols][Ot.Group]}return n}function aD(t,e){return jn(t)[pt.NumberFormats][e]}function P7(t){return jn(t)[pt.Currencies]}const L7=QP;function RF(t){if(!t[pt.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[pt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function F7(t){const e=jn(t);return RF(e),(e[pt.ExtraData][2]||[]).map(n=>typeof n=="string"?wb(n):[wb(n[0]),wb(n[1])])}function B7(t,e,r){const n=jn(t);RF(n);const i=[n[pt.ExtraData][0],n[pt.ExtraData][1]],s=xr(i,e)||[];return xr(s,r)||[]}function xr(t,e){for(let r=e;r>-1;r--)if(typeof t[r]<"u")return t[r];throw new Error("Locale data API: locale data undefined")}function wb(t){const[e,r]=t.split(":");return{hours:+e,minutes:+r}}function V7(t,e,r="en"){const n=P7(r)[t]||OF[t]||[],i=n[1];return e==="narrow"&&typeof i=="string"?i:n[0]||t}const H7=2;function j7(t){let e;const r=OF[t];return r&&(e=r[2]),typeof e=="number"?e:H7}const U7=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,vl={},$7=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ps=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(ps||{}),Ue=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Ue||{}),je=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(je||{});function z7(t,e,r,n){let i=Q7(t);e=ns(r,e)||e;let o=[],a;for(;e;)if(a=$7.exec(e),a){o=o.concat(a.slice(1));const u=o.pop();if(!u)break;e=u}else{o.push(e);break}let l=i.getTimezoneOffset();n&&(l=PF(n,l),i=X7(i,n));let c="";return o.forEach(u=>{const d=Y7(u);c+=d?d(i,r,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function lg(t,e,r){const n=new Date(0);return n.setFullYear(t,e,r),n.setHours(0,0,0),n}function ns(t,e){const r=x7(t);if(vl[r]??(vl[r]={}),vl[r][e])return vl[r][e];let n="";switch(e){case"shortDate":n=gf(t,Un.Short);break;case"mediumDate":n=gf(t,Un.Medium);break;case"longDate":n=gf(t,Un.Long);break;case"fullDate":n=gf(t,Un.Full);break;case"shortTime":n=mf(t,Un.Short);break;case"mediumTime":n=mf(t,Un.Medium);break;case"longTime":n=mf(t,Un.Long);break;case"fullTime":n=mf(t,Un.Full);break;case"short":const i=ns(t,"shortTime"),s=ns(t,"shortDate");n=vf(yf(t,Un.Short),[i,s]);break;case"medium":const o=ns(t,"mediumTime"),a=ns(t,"mediumDate");n=vf(yf(t,Un.Medium),[o,a]);break;case"long":const l=ns(t,"longTime"),c=ns(t,"longDate");n=vf(yf(t,Un.Long),[l,c]);break;case"full":const u=ns(t,"fullTime"),d=ns(t,"fullDate");n=vf(yf(t,Un.Full),[u,d]);break}return n&&(vl[r][e]=n),n}function vf(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(r,n){return e!=null&&n in e?e[n]:r})),t}function Vr(t,e,r="-",n,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=r));let o=String(t);for(;o.length<e;)o="0"+o;return n&&(o=o.slice(o.length-e)),s+o}function W7(t,e){return Vr(t,3).substring(0,e)}function Mt(t,e,r=0,n=!1,i=!1){return function(s,o){let a=G7(t,s);if((r>0||a>-r)&&(a+=r),t===Ue.Hours)a===0&&r===-12&&(a=12);else if(t===Ue.FractionalSeconds)return W7(a,e);const l=mr(o,Ot.MinusSign);return Vr(a,e,l,n,i)}}function G7(t,e){switch(t){case Ue.FullYear:return e.getFullYear();case Ue.Month:return e.getMonth();case Ue.Date:return e.getDate();case Ue.Hours:return e.getHours();case Ue.Minutes:return e.getMinutes();case Ue.Seconds:return e.getSeconds();case Ue.FractionalSeconds:return e.getMilliseconds();case Ue.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function it(t,e,r=pn.Format,n=!1){return function(i,s){return q7(i,s,t,e,r,n)}}function q7(t,e,r,n,i,s){switch(r){case je.Months:return R7(e,i,n)[t.getMonth()];case je.Days:return O7(e,i,n)[t.getDay()];case je.DayPeriods:const o=t.getHours(),a=t.getMinutes();if(s){const c=F7(e),u=B7(e,i,n),d=c.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,g=o>=f.hours&&a>=f.minutes,m=o<p.hours||o===p.hours&&a<p.minutes;if(f.hours<p.hours){if(g&&m)return!0}else if(g||m)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return A7(e,i,n)[o<12?0:1];case je.Eras:return N7(e,n)[t.getFullYear()<=0?0:1];default:const l=r;throw new Error(`unexpected translation type ${l}`)}}function bf(t){return function(e,r,n){const i=-1*n,s=mr(r,Ot.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case ps.Short:return(i>=0?"+":"")+Vr(o,2,s)+Vr(Math.abs(i%60),2,s);case ps.ShortGMT:return"GMT"+(i>=0?"+":"")+Vr(o,1,s);case ps.Long:return"GMT"+(i>=0?"+":"")+Vr(o,2,s)+":"+Vr(Math.abs(i%60),2,s);case ps.Extended:return n===0?"Z":(i>=0?"+":"")+Vr(o,2,s)+":"+Vr(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}const K7=0,lp=4;function Z7(t){const e=lg(t,K7,1).getDay();return lg(t,0,1+(e<=lp?lp:lp+7)-e)}function NF(t){const e=t.getDay(),r=e===0?-3:lp-e;return lg(t.getFullYear(),t.getMonth(),t.getDate()+r)}function _b(t,e=!1){return function(r,n){let i;if(e){const s=new Date(r.getFullYear(),r.getMonth(),1).getDay()-1,o=r.getDate();i=1+Math.floor((o+s)/7)}else{const s=NF(r),o=Z7(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Vr(i,t,mr(n,Ot.MinusSign))}}function wf(t,e=!1){return function(r,n){const s=NF(r).getFullYear();return Vr(s,t,mr(n,Ot.MinusSign),e)}}const Cb={};function Y7(t){if(Cb[t])return Cb[t];let e;switch(t){case"G":case"GG":case"GGG":e=it(je.Eras,Xe.Abbreviated);break;case"GGGG":e=it(je.Eras,Xe.Wide);break;case"GGGGG":e=it(je.Eras,Xe.Narrow);break;case"y":e=Mt(Ue.FullYear,1,0,!1,!0);break;case"yy":e=Mt(Ue.FullYear,2,0,!0,!0);break;case"yyy":e=Mt(Ue.FullYear,3,0,!1,!0);break;case"yyyy":e=Mt(Ue.FullYear,4,0,!1,!0);break;case"Y":e=wf(1);break;case"YY":e=wf(2,!0);break;case"YYY":e=wf(3);break;case"YYYY":e=wf(4);break;case"M":case"L":e=Mt(Ue.Month,1,1);break;case"MM":case"LL":e=Mt(Ue.Month,2,1);break;case"MMM":e=it(je.Months,Xe.Abbreviated);break;case"MMMM":e=it(je.Months,Xe.Wide);break;case"MMMMM":e=it(je.Months,Xe.Narrow);break;case"LLL":e=it(je.Months,Xe.Abbreviated,pn.Standalone);break;case"LLLL":e=it(je.Months,Xe.Wide,pn.Standalone);break;case"LLLLL":e=it(je.Months,Xe.Narrow,pn.Standalone);break;case"w":e=_b(1);break;case"ww":e=_b(2);break;case"W":e=_b(1,!0);break;case"d":e=Mt(Ue.Date,1);break;case"dd":e=Mt(Ue.Date,2);break;case"c":case"cc":e=Mt(Ue.Day,1);break;case"ccc":e=it(je.Days,Xe.Abbreviated,pn.Standalone);break;case"cccc":e=it(je.Days,Xe.Wide,pn.Standalone);break;case"ccccc":e=it(je.Days,Xe.Narrow,pn.Standalone);break;case"cccccc":e=it(je.Days,Xe.Short,pn.Standalone);break;case"E":case"EE":case"EEE":e=it(je.Days,Xe.Abbreviated);break;case"EEEE":e=it(je.Days,Xe.Wide);break;case"EEEEE":e=it(je.Days,Xe.Narrow);break;case"EEEEEE":e=it(je.Days,Xe.Short);break;case"a":case"aa":case"aaa":e=it(je.DayPeriods,Xe.Abbreviated);break;case"aaaa":e=it(je.DayPeriods,Xe.Wide);break;case"aaaaa":e=it(je.DayPeriods,Xe.Narrow);break;case"b":case"bb":case"bbb":e=it(je.DayPeriods,Xe.Abbreviated,pn.Standalone,!0);break;case"bbbb":e=it(je.DayPeriods,Xe.Wide,pn.Standalone,!0);break;case"bbbbb":e=it(je.DayPeriods,Xe.Narrow,pn.Standalone,!0);break;case"B":case"BB":case"BBB":e=it(je.DayPeriods,Xe.Abbreviated,pn.Format,!0);break;case"BBBB":e=it(je.DayPeriods,Xe.Wide,pn.Format,!0);break;case"BBBBB":e=it(je.DayPeriods,Xe.Narrow,pn.Format,!0);break;case"h":e=Mt(Ue.Hours,1,-12);break;case"hh":e=Mt(Ue.Hours,2,-12);break;case"H":e=Mt(Ue.Hours,1);break;case"HH":e=Mt(Ue.Hours,2);break;case"m":e=Mt(Ue.Minutes,1);break;case"mm":e=Mt(Ue.Minutes,2);break;case"s":e=Mt(Ue.Seconds,1);break;case"ss":e=Mt(Ue.Seconds,2);break;case"S":e=Mt(Ue.FractionalSeconds,1);break;case"SS":e=Mt(Ue.FractionalSeconds,2);break;case"SSS":e=Mt(Ue.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=bf(ps.Short);break;case"ZZZZZ":e=bf(ps.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=bf(ps.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=bf(ps.Long);break;default:return null}return Cb[t]=e,e}function PF(t,e){t=t.replace(/:/g,"");const r=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(r)?e:r}function J7(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function X7(t,e,r){const i=t.getTimezoneOffset(),s=PF(e,i);return J7(t,-1*(s-i))}function Q7(t){if(YS(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[i,s=1,o=1]=t.split("-").map(a=>+a);return lg(i,s-1,o)}const r=parseFloat(t);if(!isNaN(t-r))return new Date(r);let n;if(n=t.match(U7))return eK(n)}const e=new Date(t);if(!YS(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function eK(t){const e=new Date(0);let r=0,n=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(r=Number(t[9]+t[10]),n=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-r,a=Number(t[5]||0)-n,l=Number(t[6]||0),c=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,l,c),e}function YS(t){return t instanceof Date&&!isNaN(t.valueOf())}const tK=/^(\d+)?\.((\d+)(-(\d+))?)?$/,JS=22,cg=".",Gu="0",nK=";",rK=",",Eb="#",XS="¤",iK="%";function lD(t,e,r,n,i,s,o=!1){let a="",l=!1;if(!isFinite(t))a=mr(r,Ot.Infinity);else{let c=cK(t);o&&(c=lK(c));let u=e.minInt,d=e.minFrac,h=e.maxFrac;if(s){const v=s.match(tK);if(v===null)throw new Error(`${s} is not a valid digit info`);const b=v[1],C=v[3],M=v[5];b!=null&&(u=Db(b)),C!=null&&(d=Db(C)),M!=null?h=Db(M):C!=null&&d>h&&(h=d)}uK(c,d,h);let f=c.digits,p=c.integerLen;const g=c.exponent;let m=[];for(l=f.every(v=>!v);p<u;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?m=f.splice(p,f.length):(m=f,f=[0]);const y=[];for(f.length>=e.lgSize&&y.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)y.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&y.unshift(f.join("")),a=y.join(mr(r,n)),m.length&&(a+=mr(r,i)+m.join("")),g&&(a+=mr(r,Ot.Exponential)+"+"+g)}return t<0&&!l?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function sK(t,e,r,n,i){const s=aD(e,qy.Currency),o=cD(s,mr(e,Ot.MinusSign));return o.minFrac=j7(n),o.maxFrac=o.minFrac,lD(t,o,e,Ot.CurrencyGroup,Ot.CurrencyDecimal,i).replace(XS,r).replace(XS,"").trim()}function oK(t,e,r){const n=aD(e,qy.Percent),i=cD(n,mr(e,Ot.MinusSign));return lD(t,i,e,Ot.Group,Ot.Decimal,r,!0).replace(new RegExp(iK,"g"),mr(e,Ot.PercentSign))}function aK(t,e,r){const n=aD(e,qy.Decimal),i=cD(n,mr(e,Ot.MinusSign));return lD(t,i,e,Ot.Group,Ot.Decimal,r)}function cD(t,e="-"){const r={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=t.split(nK),i=n[0],s=n[1],o=i.indexOf(cg)!==-1?i.split(cg):[i.substring(0,i.lastIndexOf(Gu)+1),i.substring(i.lastIndexOf(Gu)+1)],a=o[0],l=o[1]||"";r.posPre=a.substring(0,a.indexOf(Eb));for(let u=0;u<l.length;u++){const d=l.charAt(u);d===Gu?r.minFrac=r.maxFrac=u+1:d===Eb?r.maxFrac=u+1:r.posSuf+=d}const c=a.split(rK);if(r.gSize=c[1]?c[1].length:0,r.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const u=i.length-r.posPre.length-r.posSuf.length,d=s.indexOf(Eb);r.negPre=s.substring(0,d).replace(/'/g,""),r.negSuf=s.slice(d+u).replace(/'/g,"")}else r.negPre=e+r.posPre,r.negSuf=r.posSuf;return r}function lK(t){if(t.digits[0]===0)return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function cK(t){let e=Math.abs(t)+"",r=0,n,i,s,o,a;for((i=e.indexOf(cg))>-1&&(e=e.replace(cg,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===Gu;s++);if(s===(a=e.length))n=[0],i=1;else{for(a--;e.charAt(a)===Gu;)a--;for(i-=s,n=[],o=0;s<=a;s++,o++)n[o]=Number(e.charAt(s))}return i>JS&&(n=n.splice(0,JS-1),r=i-1,i=1),{digits:n,exponent:r,integerLen:i}}function uK(t,e,r){if(e>r)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${r}).`);let n=t.digits,i=n.length-t.integerLen;const s=Math.min(Math.max(e,i),r);let o=s+t.integerLen,a=n[o];if(o>0){n.splice(Math.max(t.integerLen,o));for(let d=o;d<n.length;d++)n[d]=0}else{i=Math.max(0,i),t.integerLen=1,n.length=Math.max(1,o=s+1),n[0]=0;for(let d=1;d<o;d++)n[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)n.unshift(0),t.integerLen++;n.unshift(1),t.integerLen++}else n[o-1]++;for(;i<Math.max(0,s);i++)n.push(0);let l=s!==0;const c=e+t.integerLen,u=n.reduceRight(function(d,h,f,p){return h=h+d,p[f]=h<10?h:h-10,l&&(p[f]===0&&f>=c?p.pop():l=!1),h>=10?1:0},0);u&&(n.unshift(u),t.integerLen++)}function Db(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}let uD=(()=>{const e=class e{};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:function(i){let s=null;return i?s=new i:s=(o=>new dK(o))(I(Vo)),s},providedIn:"root"});let t=e;return t})();function LF(t,e,r,n){let i=`=${t}`;if(e.indexOf(i)>-1||(i=r.getPluralCategory(t,n),e.indexOf(i)>-1))return i;if(e.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${t}"`)}let dK=(()=>{const e=class e extends uD{constructor(n){super(),this.locale=n}getPluralCategory(n,i){switch(L7(i||this.locale)(n)){case Ml.Zero:return"zero";case Ml.One:return"one";case Ml.Two:return"two";case Ml.Few:return"few";case Ml.Many:return"many";default:return"other"}}};e.ɵfac=function(i){return new(i||e)(I(Vo))},e.ɵprov=P({token:e,factory:e.ɵfac});let t=e;return t})();function FF(t,e){e=encodeURIComponent(e);for(const r of t.split(";")){const n=r.indexOf("="),[i,s]=n==-1?[r,""]:[r.slice(0,n),r.slice(n+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const kb=/\s+/,QS=[];let eT=(()=>{const e=class e{constructor(n,i){this._ngEl=n,this._renderer=i,this.initialClasses=QS,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(kb):QS}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(kb):n}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const i of n)this._updateState(i,!0);else if(n!=null)for(const i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){const s=this.stateMap.get(n);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const i=n[0],s=n[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(kb).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.ɵfac=function(i){return new(i||e)(O(Ze),O(ai))},e.ɵdir=W({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})(),tT=(()=>{const e=class e{constructor(n){this._viewContainerRef=n,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(n){return n.ngComponentOutletNgModule!==void 0||n.ngComponentOutletNgModuleFactory!==void 0}_needToReCreateComponentInstance(n){return n.ngComponentOutlet!==void 0||n.ngComponentOutletContent!==void 0||n.ngComponentOutletInjector!==void 0||this._needToReCreateNgModuleInstance(n)}ngOnChanges(n){if(this._needToReCreateComponentInstance(n)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const i=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(n)&&(this._moduleRef?.destroy(),this.ngComponentOutletNgModule?this._moduleRef=iG(this.ngComponentOutletNgModule,nT(i)):this.ngComponentOutletNgModuleFactory?this._moduleRef=this.ngComponentOutletNgModuleFactory.create(nT(i)):this._moduleRef=void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:i,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const n of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(n,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(n){for(const[i,s]of this._inputsUsed)s?(n.setInput(i,this.ngComponentOutletInputs[i]),this._inputsUsed.set(i,!1)):(n.setInput(i,void 0),this._inputsUsed.delete(i))}};e.ɵfac=function(i){return new(i||e)(O(kn))},e.ɵdir=W({type:e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[Or]});let t=e;return t})();function nT(t){return t.get(fc).injector}class hK{constructor(e,r,n,i){this.$implicit=e,this.ngForOf=r,this.index=n,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}}let rT=(()=>{const e=class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,s){this._viewContainer=n,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const i=this._viewContainer;n.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new hK(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){const l=i.get(o);i.move(l,a),iT(l,s)}});for(let s=0,o=i.length;s<o;s++){const l=i.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}n.forEachIdentityChange(s=>{const o=i.get(s.currentIndex);iT(o,s)})}static ngTemplateContextGuard(n,i){return!0}};e.ɵfac=function(i){return new(i||e)(O(kn),O(Tr),O(iD))},e.ɵdir=W({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function iT(t,e){t.context.$implicit=e.item}let sT=(()=>{const e=class e{constructor(n,i){this._viewContainer=n,this._context=new fK,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){oT("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){oT("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}};e.ɵfac=function(i){return new(i||e)(O(kn),O(Tr))},e.ɵdir=W({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})();class fK{constructor(){this.$implicit=null,this.ngIf=null}}function oT(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${dn(e)}'.`)}class dD{constructor(e,r){this._viewContainerRef=e,this._templateRef=r,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ug=(()=>{const e=class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const i=n===this._ngSwitch;return this._lastCasesMatched||(this._lastCasesMatched=i),this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const i of this._defaultViews)i.enforceState(n)}}};e.ɵfac=function(i){return new(i||e)},e.ɵdir=W({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0});let t=e;return t})(),aT=(()=>{const e=class e{constructor(n,i,s){this.ngSwitch=s,s._addCase(),this._view=new dD(n,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}};e.ɵfac=function(i){return new(i||e)(O(kn),O(Tr),O(ug,9))},e.ɵdir=W({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0});let t=e;return t})(),lT=(()=>{const e=class e{constructor(n,i,s){s._addDefault(new dD(n,i))}};e.ɵfac=function(i){return new(i||e)(O(kn),O(Tr),O(ug,9))},e.ɵdir=W({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0});let t=e;return t})();let k_=(()=>{const e=class e{constructor(n){this._localization=n,this._caseViews={}}set ngPlural(n){this._updateView(n)}addCase(n,i){this._caseViews[n]=i}_updateView(n){this._clearViews();const i=Object.keys(this._caseViews),s=LF(n,i,this._localization);this._activateView(this._caseViews[s])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(n){n&&(this._activeView=n,this._activeView.create())}};e.ɵfac=function(i){return new(i||e)(O(uD))},e.ɵdir=W({type:e,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"},standalone:!0});let t=e;return t})(),cT=(()=>{const e=class e{constructor(n,i,s,o){this.value=n;const a=!isNaN(Number(n));o.addCase(a?`=${n}`:n,new dD(s,i))}};e.ɵfac=function(i){return new(i||e)(hy("ngPluralCase"),O(Tr),O(kn),O(k_,1))},e.ɵdir=W({type:e,selectors:[["","ngPluralCase",""]],standalone:!0});let t=e;return t})(),M_=(()=>{const e=class e{constructor(n,i,s){this._ngEl=n,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,i){const[s,o]=n.split("."),a=s.indexOf("-")===-1?void 0:Ks.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(n){n.forEachRemovedItem(i=>this._setStyle(i.key,null)),n.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),n.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};e.ɵfac=function(i){return new(i||e)(O(Ze),O(Gy),O(ai))},e.ɵdir=W({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})(),S_=(()=>{const e=class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}const s=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,i,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,s):!1,get:(n,i,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,s)}})}};e.ɵfac=function(i){return new(i||e)(O(kn))},e.ɵdir=W({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Or]});let t=e;return t})();function ui(t,e){return new z(2100,!1)}class pK{createSubscription(e,r){return Hr(()=>e.subscribe({next:r,error:n=>{throw n}}))}dispose(e){Hr(()=>e.unsubscribe())}}class gK{createSubscription(e,r){return e.then(r,n=>{throw n})}dispose(e){}}const mK=new gK,yK=new pK;let uT=(()=>{const e=class e{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,i=>this._updateLatestValue(n,i))}_selectStrategy(n){if(Ah(n))return mK;if(fF(n))return yK;throw ui(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,i){n===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.ɵfac=function(i){return new(i||e)(O(As,16))},e.ɵpipe=Ln({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})(),dT=(()=>{const e=class e{transform(n){if(n==null)return null;if(typeof n!="string")throw ui(e,n);return n.toLowerCase()}};e.ɵfac=function(i){return new(i||e)},e.ɵpipe=Ln({name:"lowercase",type:e,pure:!0,standalone:!0});let t=e;return t})();const vK=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let hT=(()=>{const e=class e{transform(n){if(n==null)return null;if(typeof n!="string")throw ui(e,n);return n.replace(vK,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}};e.ɵfac=function(i){return new(i||e)},e.ɵpipe=Ln({name:"titlecase",type:e,pure:!0,standalone:!0});let t=e;return t})(),fT=(()=>{const e=class e{transform(n){if(n==null)return null;if(typeof n!="string")throw ui(e,n);return n.toUpperCase()}};e.ɵfac=function(i){return new(i||e)},e.ɵpipe=Ln({name:"uppercase",type:e,pure:!0,standalone:!0});let t=e;return t})();const bK="mediumDate",wK=new A(""),_K=new A("");let pT=(()=>{const e=class e{constructor(n,i,s){this.locale=n,this.defaultTimezone=i,this.defaultOptions=s}transform(n,i,s,o){if(n==null||n===""||n!==n)return null;try{const a=i??this.defaultOptions?.dateFormat??bK,l=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return z7(n,a,o||this.locale,l)}catch(a){throw ui(e,a.message)}}};e.ɵfac=function(i){return new(i||e)(O(Vo,16),O(wK,24),O(_K,24))},e.ɵpipe=Ln({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();const CK=/#/g;let gT=(()=>{const e=class e{constructor(n){this._localization=n}transform(n,i,s){if(n==null)return"";if(typeof i!="object"||i===null)throw ui(e,i);const o=LF(n,Object.keys(i),this._localization,s);return i[o].replace(CK,n.toString())}};e.ɵfac=function(i){return new(i||e)(O(uD,16))},e.ɵpipe=Ln({name:"i18nPlural",type:e,pure:!0,standalone:!0});let t=e;return t})(),mT=(()=>{const e=class e{transform(n,i){if(n==null)return"";if(typeof i!="object"||typeof n!="string")throw ui(e,i);return i.hasOwnProperty(n)?i[n]:i.hasOwnProperty("other")?i.other:""}};e.ɵfac=function(i){return new(i||e)},e.ɵpipe=Ln({name:"i18nSelect",type:e,pure:!0,standalone:!0});let t=e;return t})(),yT=(()=>{const e=class e{transform(n){return JSON.stringify(n,null,2)}};e.ɵfac=function(i){return new(i||e)},e.ɵpipe=Ln({name:"json",type:e,pure:!1,standalone:!0});let t=e;return t})();function EK(t,e){return{key:t,value:e}}let vT=(()=>{const e=class e{constructor(n){this.differs=n,this.keyValues=[],this.compareFn=bT}transform(n,i=bT){if(!n||!(n instanceof Map)&&typeof n!="object")return null;this.differ??(this.differ=this.differs.find(n).create());const s=this.differ.diff(n),o=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(a=>{this.keyValues.push(EK(a.key,a.currentValue))})),(s||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}};e.ɵfac=function(i){return new(i||e)(O(Gy,16))},e.ɵpipe=Ln({name:"keyvalue",type:e,pure:!1,standalone:!0});let t=e;return t})();function bT(t,e){const r=t.key,n=e.key;if(r===n)return 0;if(r===void 0)return 1;if(n===void 0)return-1;if(r===null)return 1;if(n===null)return-1;if(typeof r=="string"&&typeof n=="string")return r<n?-1:1;if(typeof r=="number"&&typeof n=="number")return r-n;if(typeof r=="boolean"&&typeof n=="boolean")return r<n?-1:1;const i=String(r),s=String(n);return i==s?0:i<s?-1:1}let wT=(()=>{const e=class e{constructor(n){this._locale=n}transform(n,i,s){if(!hD(n))return null;s||(s=this._locale);try{const o=fD(n);return aK(o,s,i)}catch(o){throw ui(e,o.message)}}};e.ɵfac=function(i){return new(i||e)(O(Vo,16))},e.ɵpipe=Ln({name:"number",type:e,pure:!0,standalone:!0});let t=e;return t})(),_T=(()=>{const e=class e{constructor(n){this._locale=n}transform(n,i,s){if(!hD(n))return null;s||(s=this._locale);try{const o=fD(n);return oK(o,s,i)}catch(o){throw ui(e,o.message)}}};e.ɵfac=function(i){return new(i||e)(O(Vo,16))},e.ɵpipe=Ln({name:"percent",type:e,pure:!0,standalone:!0});let t=e;return t})(),CT=(()=>{const e=class e{constructor(n,i="USD"){this._locale=n,this._defaultCurrencyCode=i}transform(n,i=this._defaultCurrencyCode,s="symbol",o,a){if(!hD(n))return null;a||(a=this._locale),typeof s=="boolean"&&(s=s?"symbol":"code");let l=i||this._defaultCurrencyCode;s!=="code"&&(s==="symbol"||s==="symbol-narrow"?l=V7(l,s==="symbol"?"wide":"narrow",a):l=s);try{const c=fD(n);return sK(c,a,l,i,o)}catch(c){throw ui(e,c.message)}}};e.ɵfac=function(i){return new(i||e)(O(Vo,16),O(Z9,16))},e.ɵpipe=Ln({name:"currency",type:e,pure:!0,standalone:!0});let t=e;return t})();function hD(t){return!(t==null||t===""||t!==t)}function fD(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}let ET=(()=>{const e=class e{transform(n,i,s){if(n==null)return null;if(!this.supports(n))throw ui(e,n);return n.slice(i,s)}supports(n){return typeof n=="string"||Array.isArray(n)}};e.ɵfac=function(i){return new(i||e)},e.ɵpipe=Ln({name:"slice",type:e,pure:!1,standalone:!0});let t=e;return t})(),Ype=(()=>{const e=class e{};e.ɵfac=function(i){return new(i||e)},e.ɵmod=Nc({type:e,imports:[eT,tT,rT,sT,S_,M_,ug,aT,lT,k_,cT,uT,fT,dT,yT,ET,wT,_T,hT,CT,pT,gT,mT,vT],exports:[eT,tT,rT,sT,S_,M_,ug,aT,lT,k_,cT,uT,fT,dT,yT,ET,wT,_T,hT,CT,pT,gT,mT,vT]}),e.ɵinj=Za({});let t=e;return t})();const BF="browser",DK="server";function nu(t){return t===BF}function pD(t){return t===DK}new xh("18.2.0");let kK=(()=>{const e=class e{};e.ɵprov=P({token:e,providedIn:"root",factory:()=>nu(w(Vn))?new MK(w(Ae),window):new TK});let t=e;return t})();class MK{constructor(e,r){this.document=e,this.window=r,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const r=SK(this.document,e);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const r=e.getBoundingClientRect(),n=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],i-s[1])}}function SK(t,e){const r=t.getElementById(e)||t.getElementsByName(e)[0];if(r)return r;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=n.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=n.nextNode()}}return null}class TK{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class VF{}const gD="20";function IK(t){return/^https?:\/\//.test(t)}function xK(t){if(!(typeof t=="string")||t.trim()==="")return!1;try{const r=new URL(t);return!0}catch{return!1}}function AK(t){return t.endsWith("/")?t.slice(0,-1):t}function OK(t){return t.startsWith("/")?t.slice(1):t}const RK=t=>t.src,NK=new A("",{providedIn:"root",factory:()=>RK});function Ky(t,e){return function(n){return xK(n)||PK(n,e||[]),n=AK(n),[{provide:NK,useValue:o=>(IK(o.src)&&LK(n,o.src),t(n,{...o,src:OK(o.src)}))}]}}function PK(t,e){throw new z(2959,!1)}function LK(t,e){throw new z(2959,!1)}Ky(FK,void 0);function FK(t,e){let r="format=auto";return e.width&&(r+=`,width=${e.width}`),e.isPlaceholder&&(r+=`,quality=${gD}`),`${t}/cdn-cgi/image/${r}/${e.src}`}Ky(BK,void 0);function BK(t,e){let n=`f_auto,${e.isPlaceholder?"q_auto:low":"q_auto"}`;return e.width&&(n+=`,w_${e.width}`),`${t}/image/upload/${n}/${e.src}`}Ky(VK,void 0);function VK(t,e){const{src:r,width:n}=e,i=[];n&&i.push(`w-${n}`),e.isPlaceholder&&i.push(`q-${gD}`);const s=i.length?[t,`tr:${i.join(",")}`,r]:[t,r];return new URL(s.join("/")).href}Ky(HK,void 0);function HK(t,e){const r=new URL(`${t}/${e.src}`);return r.searchParams.set("auto","format"),e.width&&r.searchParams.set("w",e.width.toString()),e.isPlaceholder&&r.searchParams.set("q",gD),r.href}new A("");new A("NG_OPTIMIZED_PRELOADED_IMAGES",{providedIn:"root",factory:()=>new Set});/**
 * @license Angular v18.2.0
 * (c) 2010-2024 Google LLC. https://angular.io/
 * License: MIT
 */class mD{}class HF{}class wr{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(r=>{const n=r.indexOf(":");if(n>0){const i=r.slice(0,n),s=i.toLowerCase(),o=r.slice(n+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((r,n)=>{this.setHeaderEntries(n,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([r,n])=>{this.setHeaderEntries(r,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const r=this.headers.get(e.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,r){return this.clone({name:e,value:r,op:"a"})}set(e,r){return this.clone({name:e,value:r,op:"s"})}delete(e,r){return this.clone({name:e,value:r,op:"d"})}maybeSetNormalizedName(e,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,e)}init(){this.lazyInit&&(this.lazyInit instanceof wr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(r=>{this.headers.set(r,e.headers.get(r)),this.normalizedNames.set(r,e.normalizedNames.get(r))})}clone(e){const r=new wr;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof wr?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([e]),r}applyUpdate(e){const r=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,r);const i=(e.op==="a"?this.headers.get(r):void 0)||[];i.push(...n),this.headers.set(r,i);break;case"d":const s=e.value;if(!s)this.headers.delete(r),this.normalizedNames.delete(r);else{let o=this.headers.get(r);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,o)}break}}setHeaderEntries(e,r){const n=(Array.isArray(r)?r:[r]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,n),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>e(this.normalizedNames.get(r),this.headers.get(r)))}}class jK{encodeKey(e){return DT(e)}encodeValue(e){return DT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function UK(t,e){const r=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=r.get(o)||[];l.push(a),r.set(o,l)}),r}const $K=/%(\d[a-f0-9])/gi,zK={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function DT(t){return encodeURIComponent(t).replace($K,(e,r)=>zK[r]??e)}function _f(t){return`${t}`}class oo{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new jK,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=UK(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(r=>{const n=e.fromObject[r],i=Array.isArray(n)?n.map(_f):[_f(n)];this.map.set(r,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const r=this.map.get(e);return r?r[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,r){return this.clone({param:e,value:r,op:"a"})}appendAll(e){const r=[];return Object.keys(e).forEach(n=>{const i=e[n];Array.isArray(i)?i.forEach(s=>{r.push({param:n,value:s,op:"a"})}):r.push({param:n,value:i,op:"a"})}),this.clone(r)}set(e,r){return this.clone({param:e,value:r,op:"s"})}delete(e,r){return this.clone({param:e,value:r,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const r=this.encoder.encodeKey(e);return this.map.get(e).map(n=>r+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){const r=new oo({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(e),r}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const r=(e.op==="a"?this.map.get(e.param):void 0)||[];r.push(_f(e.value)),this.map.set(e.param,r);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[];const i=n.indexOf(_f(e.value));i!==-1&&n.splice(i,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}}class WK{constructor(){this.map=new Map}set(e,r){return this.map.set(e,r),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function GK(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function kT(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function MT(t){return typeof Blob<"u"&&t instanceof Blob}function ST(t){return typeof FormData<"u"&&t instanceof FormData}function qK(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}class qu{constructor(e,r,n,i){this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(GK(this.method)||i?(this.body=n!==void 0?n:null,s=i):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??(this.headers=new wr),this.context??(this.context=new WK),!this.params)this.params=new oo,this.urlWithParams=r;else{const o=this.params.toString();if(o.length===0)this.urlWithParams=r;else{const a=r.indexOf("?"),l=a===-1?"?":a<r.length-1?"&":"";this.urlWithParams=r+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||kT(this.body)||MT(this.body)||ST(this.body)||qK(this.body)?this.body:this.body instanceof oo?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||ST(this.body)?null:MT(this.body)?this.body.type||null:kT(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof oo?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){const r=e.method||this.method,n=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const d=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),u)),new qu(r,n,o,{params:u,headers:c,context:d,reportProgress:l,responseType:i,withCredentials:a,transferCache:s})}}var ao=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ao||{});class yD{constructor(e,r=200,n="OK"){this.headers=e.headers||new wr,this.status=e.status!==void 0?e.status:r,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Zy extends yD{constructor(e={}){super(e),this.type=ao.ResponseHeader}clone(e={}){return new Zy({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Aa extends yD{constructor(e={}){super(e),this.type=ao.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new Aa({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Vl extends yD{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}const jF=200,KK=204;function Mb(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}let ZK=(()=>{const e=class e{constructor(n){this.handler=n}request(n,i,s={}){let o;if(n instanceof qu)o=n;else{let c;s.headers instanceof wr?c=s.headers:c=new wr(s.headers);let u;s.params&&(s.params instanceof oo?u=s.params:u=new oo({fromObject:s.params})),o=new qu(n,i,s.body!==void 0?s.body:null,{headers:c,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}const a=J(o).pipe(lc(c=>this.handler.handle(c)));if(n instanceof qu||s.observe==="events")return a;const l=a.pipe(Zt(c=>c instanceof Aa));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(ke(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(ke(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(ke(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(ke(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new oo().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,s={}){return this.request("PATCH",n,Mb(s,i))}post(n,i,s={}){return this.request("POST",n,Mb(s,i))}put(n,i,s={}){return this.request("PUT",n,Mb(s,i))}};e.ɵfac=function(i){return new(i||e)(I(mD))},e.ɵprov=P({token:e,factory:e.ɵfac});let t=e;return t})();const YK=/^\)\]\}',?\n/,JK="X-Request-URL";function TT(t){if(t.url)return t.url;const e=JK.toLocaleLowerCase();return t.headers.get(e)}let XK=(()=>{const e=class e{constructor(){this.fetchImpl=w(QK,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=w(Me)}handle(n){return new ut(i=>{const s=new AbortController;return this.doRequest(n,s.signal,i).then(T_,o=>i.error(new Vl({error:o}))),()=>s.abort()})}async doRequest(n,i,s){const o=this.createRequestInit(n);let a;try{const p=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,{signal:i,...o}));eZ(p),s.next({type:ao.Sent}),a=await p}catch(p){s.error(new Vl({error:p,status:p.status??0,statusText:p.statusText,url:n.urlWithParams,headers:p.headers}));return}const l=new wr(a.headers),c=a.statusText,u=TT(a)??n.urlWithParams;let d=a.status,h=null;if(n.reportProgress&&s.next(new Zy({headers:l,status:d,statusText:c,url:u})),a.body){const p=a.headers.get("content-length"),g=[],m=a.body.getReader();let y=0,v,b;const C=typeof Zone<"u"&&Zone.current;await this.ngZone.runOutsideAngular(async()=>{for(;;){const{done:T,value:F}=await m.read();if(T)break;if(g.push(F),y+=F.length,n.reportProgress){b=n.responseType==="text"?(b??"")+(v??(v=new TextDecoder)).decode(F,{stream:!0}):void 0;const R=()=>s.next({type:ao.DownloadProgress,total:p?+p:void 0,loaded:y,partialText:b});C?C.run(R):R()}}});const M=this.concatChunks(g,y);try{const T=a.headers.get("Content-Type")??"";h=this.parseBody(n,M,T)}catch(T){s.error(new Vl({error:T,headers:new wr(a.headers),status:a.status,statusText:a.statusText,url:TT(a)??n.urlWithParams}));return}}d===0&&(d=h?jF:0),d>=200&&d<300?(s.next(new Aa({body:h,headers:l,status:d,statusText:c,url:u})),s.complete()):s.error(new Vl({error:h,headers:l,status:d,statusText:c,url:u}))}parseBody(n,i,s){switch(n.responseType){case"json":const o=new TextDecoder().decode(i).replace(YK,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:s});case"arraybuffer":return i.buffer}}createRequestInit(n){const i={},s=n.withCredentials?"include":void 0;if(n.headers.forEach((o,a)=>i[o]=a.join(",")),n.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){const o=n.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:i,credentials:s}}concatChunks(n,i){const s=new Uint8Array(i);let o=0;for(const a of n)s.set(a,o),o+=a.length;return s}};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:e.ɵfac});let t=e;return t})();class QK{}function T_(){}function eZ(t){t.then(T_,T_)}function tZ(t,e){return e(t)}function nZ(t,e,r){return(n,i)=>Fn(r,()=>e(n,s=>t(s,i)))}new A("");const UF=new A(""),$F=new A(""),rZ=new A("",{providedIn:"root",factory:()=>!0});let IT=(()=>{const e=class e extends mD{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null,this.pendingTasks=w(No),this.contributeToStability=w(rZ)}handle(n){if(this.chain===null){const i=Array.from(new Set([...this.injector.get(UF),...this.injector.get($F,[])]));this.chain=i.reduceRight((s,o)=>nZ(s,o,this.injector),tZ)}if(this.contributeToStability){const i=this.pendingTasks.add();return this.chain(n,s=>this.backend.handle(s)).pipe(Fp(()=>this.pendingTasks.remove(i)))}else return this.chain(n,i=>this.backend.handle(i))}};e.ɵfac=function(i){return new(i||e)(I(HF),I(kr))},e.ɵprov=P({token:e,factory:e.ɵfac});let t=e;return t})();const iZ=/^\)\]\}',?\n/;function sZ(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}let xT=(()=>{const e=class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new z(-2800,!1);const i=this.xhrFactory;return(i.ɵloadImpl?bt(i.ɵloadImpl()):J(null)).pipe(gn(()=>new ut(o=>{const a=i.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((m,y)=>a.setRequestHeader(m,y.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const m=n.detectContentTypeHeader();m!==null&&a.setRequestHeader("Content-Type",m)}if(n.responseType){const m=n.responseType.toLowerCase();a.responseType=m!=="json"?m:"text"}const l=n.serializeBody();let c=null;const u=()=>{if(c!==null)return c;const m=a.statusText||"OK",y=new wr(a.getAllResponseHeaders()),v=sZ(a)||n.url;return c=new Zy({headers:y,status:a.status,statusText:m,url:v}),c},d=()=>{let{headers:m,status:y,statusText:v,url:b}=u(),C=null;y!==KK&&(C=typeof a.response>"u"?a.responseText:a.response),y===0&&(y=C?jF:0);let M=y>=200&&y<300;if(n.responseType==="json"&&typeof C=="string"){const T=C;C=C.replace(iZ,"");try{C=C!==""?JSON.parse(C):null}catch(F){C=T,M&&(M=!1,C={error:F,text:C})}}M?(o.next(new Aa({body:C,headers:m,status:y,statusText:v,url:b||void 0})),o.complete()):o.error(new Vl({error:C,headers:m,status:y,statusText:v,url:b||void 0}))},h=m=>{const{url:y}=u(),v=new Vl({error:m,status:a.status||0,statusText:a.statusText||"Unknown Error",url:y||void 0});o.error(v)};let f=!1;const p=m=>{f||(o.next(u()),f=!0);let y={type:ao.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),n.responseType==="text"&&a.responseText&&(y.partialText=a.responseText),o.next(y)},g=m=>{let y={type:ao.UploadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),o.next(y)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),n.reportProgress&&(a.addEventListener("progress",p),l!==null&&a.upload&&a.upload.addEventListener("progress",g)),a.send(l),o.next({type:ao.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),n.reportProgress&&(a.removeEventListener("progress",p),l!==null&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}};e.ɵfac=function(i){return new(i||e)(I(VF))},e.ɵprov=P({token:e,factory:e.ɵfac});let t=e;return t})();const zF=new A(""),oZ="XSRF-TOKEN",aZ=new A("",{providedIn:"root",factory:()=>oZ}),lZ="X-XSRF-TOKEN",cZ=new A("",{providedIn:"root",factory:()=>lZ});class WF{}let uZ=(()=>{const e=class e{constructor(n,i,s){this.doc=n,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=FF(n,this.cookieName),this.lastCookieString=n),this.lastToken}};e.ɵfac=function(i){return new(i||e)(I(Ae),I(Vn),I(aZ))},e.ɵprov=P({token:e,factory:e.ɵfac});let t=e;return t})();function dZ(t,e){const r=t.url.toLowerCase();if(!w(zF)||t.method==="GET"||t.method==="HEAD"||r.startsWith("http://")||r.startsWith("https://"))return e(t);const n=w(WF).getToken(),i=w(cZ);return n!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,n)})),e(t)}function Jpe(...t){const e=[ZK,xT,IT,{provide:mD,useExisting:IT},{provide:HF,useFactory:()=>w(XK,{optional:!0})??w(xT)},{provide:UF,useValue:dZ,multi:!0},{provide:zF,useValue:!0},{provide:WF,useClass:uZ}];for(const r of t)e.push(...r.ɵproviders);return uh(e)}new A("");const hZ=new A(""),AT="b",OT="h",RT="s",NT="st",PT="u",LT="rt",cp=new A(""),fZ=["GET","HEAD"];function pZ(t,e){const{isCacheActive:r,...n}=w(cp),{transferCache:i,method:s}=t;if(!r||i===!1||s==="POST"&&!n.includePostRequests&&!i||s!=="POST"&&!fZ.includes(s)||!n.includeRequestsWithAuthHeaders&&gZ(t)||n.filter?.(t)===!1)return e(t);const o=w(mh),a=w(hZ,{optional:!0}),l=pD(w(Vn));if(a&&!l)throw new z(2803,!1);const c=l&&a?wZ(t.url,a):t.url,u=yZ(t,c),d=o.get(u,null);let h=n.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(h=i.includeHeaders),d){const{[AT]:f,[LT]:p,[OT]:g,[RT]:m,[NT]:y,[PT]:v}=d;let b=f;switch(p){case"arraybuffer":b=new TextEncoder().encode(f).buffer;break;case"blob":b=new Blob([f]);break}let C=new wr(g);return J(new Aa({body:b,headers:C,status:m,statusText:y,url:v}))}return e(t).pipe(Tt(f=>{f instanceof Aa&&l&&o.set(u,{[AT]:f.body,[OT]:mZ(f.headers,h),[RT]:f.status,[NT]:f.statusText,[PT]:c,[LT]:t.responseType})}))}function gZ(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function mZ(t,e){if(!e)return{};const r={};for(const n of e){const i=t.getAll(n);i!==null&&(r[n]=i)}return r}function FT(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function yZ(t,e){const{params:r,method:n,responseType:i}=t,s=FT(r);let o=t.serializeBody();o instanceof URLSearchParams?o=FT(o):typeof o!="string"&&(o="");const a=[n,i,e,o,s].join("|"),l=vZ(a);return l}function vZ(t){let e=0;for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function bZ(t){return[{provide:cp,useFactory:()=>(ir("NgHttpTransferCache"),{isCacheActive:!0,...t})},{provide:$F,useValue:pZ,multi:!0,deps:[mh,cp]},{provide:Oh,multi:!0,useFactory:()=>{const e=w(Bo),r=w(cp);return()=>{yF(e).then(()=>{r.isCacheActive=!1})}}}]}function wZ(t,e){const r=new URL(t,"resolve://").origin,n=e[r];return n?t.replace(r,n):t}/**
 * @license Angular v18.2.0
 * (c) 2010-2024 Google LLC. https://angular.io/
 * License: MIT
 */class _Z extends E7{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class vD extends _Z{static makeCurrent(){C7(new vD)}onAndCancel(e,r,n){return e.addEventListener(r,n),()=>{e.removeEventListener(r,n)}}dispatchEvent(e,r){e.dispatchEvent(r)}remove(e){e.remove()}createElement(e,r){return r=r||this.getDefaultDocument(),r.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,r){return r==="window"?window:r==="document"?e:r==="body"?e.body:null}getBaseHref(e){const r=CZ();return r==null?null:EZ(r)}resetBaseElement(){xu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return FF(document.cookie,e)}}let xu=null;function CZ(){return xu=xu||document.querySelector("base"),xu?xu.getAttribute("href"):null}function EZ(t){return new URL(t,document.baseURI).pathname}let DZ=(()=>{const e=class e{build(){return new XMLHttpRequest}};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:e.ɵfac});let t=e;return t})();const up=new A("");let GF=(()=>{const e=class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(s=>{s.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,s){return this._findPluginFor(i).addEventListener(n,i,s)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new z(5101,!1);return this._eventNameToPlugin.set(n,i),i}};e.ɵfac=function(i){return new(i||e)(I(up),I(Me))},e.ɵprov=P({token:e,factory:e.ɵfac});let t=e;return t})();class bD{constructor(e){this._doc=e}}const Sb="ng-app-id";let qF=(()=>{const e=class e{constructor(n,i,s,o={}){this.doc=n,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=pD(o),this.resetHostNodes()}addStyles(n){for(const i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(const i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){const i=this.styleRef;i.get(n)?.elements?.forEach(s=>s.remove()),i.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Sb}="${this.appId}"]`);if(n?.length){const i=new Map;return n.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(n,i){const s=this.styleRef;if(s.has(n)){const o=s.get(n);return o.usage+=i,o.usage}return s.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===n)return s.delete(i),o.removeAttribute(Sb),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Sb,this.appId),n.appendChild(a),a}}addStyleToHost(n,i){const s=this.getStyleElement(n,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.ɵfac=function(i){return new(i||e)(I(Ae),I(py),I(cE,8),I(Vn))},e.ɵprov=P({token:e,factory:e.ɵfac});let t=e;return t})();const Tb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},wD=/%COMP%/g,KF="%COMP%",kZ=`_nghost-${KF}`,MZ=`_ngcontent-${KF}`,SZ=!0,TZ=new A("",{providedIn:"root",factory:()=>SZ});function IZ(t){return MZ.replace(wD,t)}function xZ(t){return kZ.replace(wD,t)}function ZF(t,e){return e.map(r=>r.replace(wD,t))}let BT=(()=>{const e=class e{constructor(n,i,s,o,a,l,c,u=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=pD(l),this.defaultRenderer=new _D(n,a,c,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ii.ShadowDom&&(i={...i,encapsulation:Ii.Emulated});const s=this.getOrCreateRenderer(n,i);return s instanceof HT?s.applyToHost(n):s instanceof I_&&s.applyStyles(),s}getOrCreateRenderer(n,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Ii.Emulated:o=new HT(c,u,i,this.appId,d,a,l,h);break;case Ii.ShadowDom:return new AZ(c,u,n,i,a,l,this.nonce,h);default:o=new I_(c,u,i,d,a,l,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.ɵfac=function(i){return new(i||e)(I(GF),I(qF),I(py),I(TZ),I(Ae),I(Vn),I(Me),I(cE))},e.ɵprov=P({token:e,factory:e.ɵfac});let t=e;return t})();class _D{constructor(e,r,n,i){this.eventManager=e,this.doc=r,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,r){return r?this.doc.createElementNS(Tb[r]||r,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,r){(VT(e)?e.content:e).appendChild(r)}insertBefore(e,r,n){e&&(VT(e)?e.content:e).insertBefore(r,n)}removeChild(e,r){r.remove()}selectRootElement(e,r){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new z(-5104,!1);return r||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,r,n,i){if(i){r=i+":"+r;const s=Tb[i];s?e.setAttributeNS(s,r,n):e.setAttribute(r,n)}else e.setAttribute(r,n)}removeAttribute(e,r,n){if(n){const i=Tb[n];i?e.removeAttributeNS(i,r):e.removeAttribute(`${n}:${r}`)}else e.removeAttribute(r)}addClass(e,r){e.classList.add(r)}removeClass(e,r){e.classList.remove(r)}setStyle(e,r,n,i){i&(Ks.DashCase|Ks.Important)?e.style.setProperty(r,n,i&Ks.Important?"important":""):e.style[r]=n}removeStyle(e,r,n){n&Ks.DashCase?e.style.removeProperty(r):e.style[r]=""}setProperty(e,r,n){e!=null&&(e[r]=n)}setValue(e,r){e.nodeValue=r}listen(e,r,n){if(typeof e=="string"&&(e=ua().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${r}`);return this.eventManager.addEventListener(e,r,this.decoratePreventDefault(n))}decoratePreventDefault(e){return r=>{if(r==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(r)):e(r))===!1&&r.preventDefault()}}}function VT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}class AZ extends _D{constructor(e,r,n,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=ZF(i.id,i.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,r){return super.appendChild(this.nodeOrShadowRoot(e),r)}insertBefore(e,r,n){return super.insertBefore(this.nodeOrShadowRoot(e),r,n)}removeChild(e,r){return super.removeChild(null,r)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class I_ extends _D{constructor(e,r,n,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=i,this.styles=l?ZF(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class HT extends I_{constructor(e,r,n,i,s,o,a,l){const c=i+"-"+n.id;super(e,r,n,s,o,a,l,c),this.contentAttr=IZ(c),this.hostAttr=xZ(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,r){const n=super.createElement(e,r);return super.setAttribute(n,this.contentAttr,""),n}}let OZ=(()=>{const e=class e extends bD{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,s){return n.addEventListener(i,s,!1),()=>this.removeEventListener(n,i,s)}removeEventListener(n,i,s){return n.removeEventListener(i,s)}};e.ɵfac=function(i){return new(i||e)(I(Ae))},e.ɵprov=P({token:e,factory:e.ɵfac});let t=e;return t})(),RZ=(()=>{const e=class e extends bD{constructor(n){super(n),this.delegate=w(h7,{optional:!0})}supports(n){return this.delegate?this.delegate.supports(n):!1}addEventListener(n,i,s){return this.delegate.addEventListener(n,i,s)}removeEventListener(n,i,s){return this.delegate.removeEventListener(n,i,s)}};e.ɵfac=function(i){return new(i||e)(I(Ae))},e.ɵprov=P({token:e,factory:e.ɵfac});let t=e;return t})();const jT=["alt","control","meta","shift"],NZ={"\b":"Backspace","	":"Tab","":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PZ={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let LZ=(()=>{const e=class e extends bD{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ua().onAndCancel(n,o.domEventName,a))}static parseEventName(n){const i=n.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;const o=e._normalizeKey(i.pop());let a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),jT.forEach(u=>{const d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,i.length!=0||o.length===0)return null;const c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(n,i){let s=NZ[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(s=n.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),jT.forEach(a=>{if(a!==s){const l=PZ[a];l(n)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(n,i,s){return o=>{e.matchEventFullKeyCode(o,n)&&s.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.ɵfac=function(i){return new(i||e)(I(Ae))},e.ɵprov=P({token:e,factory:e.ɵfac});let t=e;return t})();function Xpe(t,e){return d7({rootComponent:t,...FZ(e)})}function FZ(t){return{appProviders:[...jZ,...t?.providers??[]],platformProviders:YF}}function BZ(){vD.makeCurrent()}function VZ(){return new Po}function HZ(){return S4(document),document}const YF=[{provide:Vn,useValue:BF},{provide:_R,useValue:BZ,multi:!0},{provide:Ae,useFactory:HZ,deps:[]}];EF(u7,"browser",YF);const Qpe=new A(""),jZ=[{provide:G0,useValue:"root"},{provide:Po,useFactory:VZ,deps:[]},{provide:up,useClass:OZ,multi:!0,deps:[Ae,Me,Vn]},{provide:up,useClass:LZ,multi:!0,deps:[Ae]},{provide:up,useClass:RZ,multi:!0},BT,qF,GF,{provide:Iy,useExisting:BT},{provide:VF,useClass:DZ,deps:[]},[]];let UZ=(()=>{const e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.ɵfac=function(i){return new(i||e)(I(Ae))},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();new A("HammerGestureConfig");new A("HammerLoader");let JF=(()=>{const e=class e{};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:function(i){let s=null;return i?s=new(i||e):s=I($Z),s},providedIn:"root"});let t=e;return t})(),$Z=(()=>{const e=class e extends JF{constructor(n){super(),this._doc=n}sanitize(n,i){if(i==null)return null;switch(n){case Wn.NONE:return i;case Wn.HTML:return ki(i,"HTML")?Gn(i):BR(this._doc,String(i)).toString();case Wn.STYLE:return ki(i,"Style")?Gn(i):i;case Wn.SCRIPT:if(ki(i,"Script"))return Gn(i);throw new z(5200,!1);case Wn.URL:return ki(i,"URL")?Gn(i):my(String(i));case Wn.RESOURCE_URL:if(ki(i,"ResourceURL"))return Gn(i);throw new z(5201,!1);default:throw new z(5202,!1)}}bypassSecurityTrustHtml(n){return Q4(n)}bypassSecurityTrustStyle(n){return e8(n)}bypassSecurityTrustScript(n){return t8(n)}bypassSecurityTrustUrl(n){return n8(n)}bypassSecurityTrustResourceUrl(n){return r8(n)}};e.ɵfac=function(i){return new(i||e)(I(Ae))},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();var x_=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t}(x_||{});function ege(...t){const e=[],r=new Set,n=r.has(x_.HttpTransferCacheOptions);for(const{ɵproviders:i,ɵkind:s}of t)r.add(s),i.length&&e.push(i);return uh([[],g7(),r.has(x_.NoHttpTransferCache)||n?[]:bZ({}),e])}new xh("18.2.0");/**
 * @license Angular v18.2.0
 * (c) 2010-2024 Google LLC. https://angular.io/
 * License: MIT
 */const ye="primary",Rh=Symbol("RouteTitle");class zZ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const r=this.params[e];return Array.isArray(r)?r[0]:r}return null}getAll(e){if(this.has(e)){const r=this.params[e];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function mc(t){return new zZ(t)}function WZ(t,e,r){const n=r.path.split("/");if(n.length>t.length||r.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;const i={};for(let s=0;s<n.length;s++){const o=n[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:i}}function GZ(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!Ni(t[r],e[r]))return!1;return!0}function Ni(t,e){const r=t?A_(t):void 0,n=e?A_(e):void 0;if(!r||!n||r.length!=n.length)return!1;let i;for(let s=0;s<r.length;s++)if(i=r[s],!XF(t[i],e[i]))return!1;return!0}function A_(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function XF(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const r=[...t].sort(),n=[...e].sort();return r.every((i,s)=>n[s]===i)}else return t===e}function QF(t){return t.length>0?t[t.length-1]:null}function Ho(t){return Ym(t)?t:Ah(t)?bt(Promise.resolve(t)):J(t)}const qZ={exact:t2,subset:n2},e2={exact:KZ,subset:ZZ,ignored:()=>!0};function UT(t,e,r){return qZ[r.paths](t.root,e.root,r.matrixParams)&&e2[r.queryParams](t.queryParams,e.queryParams)&&!(r.fragment==="exact"&&t.fragment!==e.fragment)}function KZ(t,e){return Ni(t,e)}function t2(t,e,r){if(!da(t.segments,e.segments)||!dp(t.segments,e.segments,r)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children)if(!t.children[n]||!t2(t.children[n],e.children[n],r))return!1;return!0}function ZZ(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(r=>XF(t[r],e[r]))}function n2(t,e,r){return r2(t,e,e.segments,r)}function r2(t,e,r,n){if(t.segments.length>r.length){const i=t.segments.slice(0,r.length);return!(!da(i,r)||e.hasChildren()||!dp(i,r,n))}else if(t.segments.length===r.length){if(!da(t.segments,r)||!dp(t.segments,r,n))return!1;for(const i in e.children)if(!t.children[i]||!n2(t.children[i],e.children[i],n))return!1;return!0}else{const i=r.slice(0,t.segments.length),s=r.slice(t.segments.length);return!da(t.segments,i)||!dp(t.segments,i,n)||!t.children[ye]?!1:r2(t.children[ye],e,s,n)}}function dp(t,e,r){return e.every((n,i)=>e2[r](t[i].parameters,n.parameters))}class Oa{constructor(e=new Ke([],{}),r={},n=null){this.root=e,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap??(this._queryParamMap=mc(this.queryParams)),this._queryParamMap}toString(){return XZ.serialize(this)}}class Ke{constructor(e,r){this.segments=e,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hp(this)}}class Ku{constructor(e,r){this.path=e,this.parameters=r}get parameterMap(){return this._parameterMap??(this._parameterMap=mc(this.parameters)),this._parameterMap}toString(){return s2(this)}}function YZ(t,e){return da(t,e)&&t.every((r,n)=>Ni(r.parameters,e[n].parameters))}function da(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.path===e[n].path)}function JZ(t,e){let r=[];return Object.entries(t.children).forEach(([n,i])=>{n===ye&&(r=r.concat(e(i,n)))}),Object.entries(t.children).forEach(([n,i])=>{n!==ye&&(r=r.concat(e(i,n)))}),r}let Nh=(()=>{const e=class e{};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:()=>new Yy,providedIn:"root"});let t=e;return t})();class Yy{parse(e){const r=new cY(e);return new Oa(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(e){const r=`/${Au(e.root,!0)}`,n=tY(e.queryParams),i=typeof e.fragment=="string"?`#${QZ(e.fragment)}`:"";return`${r}${n}${i}`}}const XZ=new Yy;function hp(t){return t.segments.map(e=>s2(e)).join("/")}function Au(t,e){if(!t.hasChildren())return hp(t);if(e){const r=t.children[ye]?Au(t.children[ye],!1):"",n=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ye&&n.push(`${i}:${Au(s,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}else{const r=JZ(t,(n,i)=>i===ye?[Au(t.children[ye],!1)]:[`${i}:${Au(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[ye]!=null?`${hp(t)}/${r[0]}`:`${hp(t)}/(${r.join("//")})`}}function i2(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cf(t){return i2(t).replace(/%3B/gi,";")}function QZ(t){return encodeURI(t)}function O_(t){return i2(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fp(t){return decodeURIComponent(t)}function $T(t){return fp(t.replace(/\+/g,"%20"))}function s2(t){return`${O_(t.path)}${eY(t.parameters)}`}function eY(t){return Object.entries(t).map(([e,r])=>`;${O_(e)}=${O_(r)}`).join("")}function tY(t){const e=Object.entries(t).map(([r,n])=>Array.isArray(n)?n.map(i=>`${Cf(r)}=${Cf(i)}`).join("&"):`${Cf(r)}=${Cf(n)}`).filter(r=>r);return e.length?`?${e.join("&")}`:""}const nY=/^[^\/()?;#]+/;function Ib(t){const e=t.match(nY);return e?e[0]:""}const rY=/^[^\/()?;=#]+/;function iY(t){const e=t.match(rY);return e?e[0]:""}const sY=/^[^=?&#]+/;function oY(t){const e=t.match(sY);return e?e[0]:""}const aY=/^[^&#]+/;function lY(t){const e=t.match(aY);return e?e[0]:""}class cY{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ke([],{}):new Ke([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(r).length>0)&&(n[ye]=new Ke(e,r)),n}parseSegment(){const e=Ib(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new Ku(fp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const r=iY(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const i=Ib(this.remaining);i&&(n=i,this.capture(n))}e[fp(r)]=fp(n)}parseQueryParam(e){const r=oY(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const o=lY(this.remaining);o&&(n=o,this.capture(n))}const i=$T(r),s=$T(n);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Ib(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new z(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ye);const o=this.parseChildren();r[s]=Object.keys(o).length===1?o[ye]:new Ke([],o),this.consumeOptional("//")}return r}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}}function o2(t){return t.segments.length>0?new Ke([],{[ye]:t}):t}function a2(t){const e={};for(const[n,i]of Object.entries(t.children)){const s=a2(i);if(n===ye&&s.segments.length===0&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[n]=s)}const r=new Ke(t.segments,e);return uY(r)}function uY(t){if(t.numberOfChildren===1&&t.children[ye]){const e=t.children[ye];return new Ke(t.segments.concat(e.segments),e.children)}return t}function Ra(t){return t instanceof Oa}function dY(t,e,r=null,n=null){const i=l2(t);return c2(i,e,r,n)}function l2(t){let e;function r(s){const o={};for(const l of s.children){const c=r(l);o[l.outlet]=c}const a=new Ke(s.url,o);return s===t&&(e=a),a}const n=r(t.root),i=o2(n);return e??i}function c2(t,e,r,n){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return xb(i,i,i,r,n);const s=hY(e);if(s.toRoot())return xb(i,i,new Ke([],{}),r,n);const o=fY(s,i,t),a=o.processChildren?Zu(o.segmentGroup,o.index,s.commands):d2(o.segmentGroup,o.index,s.commands);return xb(i,o.segmentGroup,a,r,n)}function dg(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function xd(t){return typeof t=="object"&&t!=null&&t.outlets}function xb(t,e,r,n,i){let s={};n&&Object.entries(n).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;t===e?o=r:o=u2(t,e,r);const a=o2(a2(o));return new Oa(a,s,i)}function u2(t,e,r){const n={};return Object.entries(t.children).forEach(([i,s])=>{s===e?n[i]=r:n[i]=u2(s,e,r)}),new Ke(t.segments,n)}class zT{constructor(e,r,n){if(this.isAbsolute=e,this.numberOfDoubleDots=r,this.commands=n,e&&n.length>0&&dg(n[0]))throw new z(4003,!1);const i=n.find(xd);if(i&&i!==QF(n))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}}function hY(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new zT(!0,0,t);let e=0,r=!1;const n=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?r=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new zT(r,e,n)}class pp{constructor(e,r,n){this.segmentGroup=e,this.processChildren=r,this.index=n}}function fY(t,e,r){if(t.isAbsolute)return new pp(e,!0,0);if(!r)return new pp(e,!1,NaN);if(r.parent===null)return new pp(r,!0,0);const n=dg(t.commands[0])?0:1,i=r.segments.length-1+n;return pY(r,i,t.numberOfDoubleDots)}function pY(t,e,r){let n=t,i=e,s=r;for(;s>i;){if(s-=i,n=n.parent,!n)throw new z(4005,!1);i=n.segments.length}return new pp(n,!1,i-s)}function gY(t){return xd(t[0])?t[0].outlets:{[ye]:t}}function d2(t,e,r){if(t??(t=new Ke([],{})),t.segments.length===0&&t.hasChildren())return Zu(t,e,r);const n=mY(t,e,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){const s=new Ke(t.segments.slice(0,n.pathIndex),{});return s.children[ye]=new Ke(t.segments.slice(n.pathIndex),t.children),Zu(s,0,i)}else return n.match&&i.length===0?new Ke(t.segments,{}):n.match&&!t.hasChildren()?R_(t,e,r):n.match?Zu(t,0,i):R_(t,e,r)}function Zu(t,e,r){if(r.length===0)return new Ke(t.segments,{});{const n=gY(r),i={};if(Object.keys(n).some(s=>s!==ye)&&t.children[ye]&&t.numberOfChildren===1&&t.children[ye].segments.length===0){const s=Zu(t.children[ye],e,r);return new Ke(t.segments,s.children)}return Object.entries(n).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=d2(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{n[s]===void 0&&(i[s]=o)}),new Ke(t.segments,i)}}function mY(t,e,r){let n=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(n>=r.length)return s;const o=t.segments[i],a=r[n];if(xd(a))break;const l=`${a}`,c=n<r.length-1?r[n+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!GT(l,c,o))return s;n+=2}else{if(!GT(l,{},o))return s;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function R_(t,e,r){const n=t.segments.slice(0,e);let i=0;for(;i<r.length;){const s=r[i];if(xd(s)){const l=yY(s.outlets);return new Ke(n,l)}if(i===0&&dg(r[0])){const l=t.segments[e];n.push(new Ku(l.path,WT(r[0]))),i++;continue}const o=xd(s)?s.outlets[ye]:`${s}`,a=i<r.length-1?r[i+1]:null;o&&a&&dg(a)?(n.push(new Ku(o,WT(a))),i+=2):(n.push(new Ku(o,{})),i++)}return new Ke(n,{})}function yY(t){const e={};return Object.entries(t).forEach(([r,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[r]=R_(new Ke([],{}),0,n))}),e}function WT(t){const e={};return Object.entries(t).forEach(([r,n])=>e[r]=`${n}`),e}function GT(t,e,r){return t==r.path&&Ni(e,r.parameters)}const Yu="imperative";var Qt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Qt||{});class Yi{constructor(e,r){this.id=e,this.url=r}}class hg extends Yi{constructor(e,r,n="imperative",i=null){super(e,r),this.type=Qt.NavigationStart,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cs extends Yi{constructor(e,r,n){super(e,r),this.urlAfterRedirects=n,this.type=Qt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Kn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Kn||{}),fg=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(fg||{});class ha extends Yi{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=Qt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yc extends Yi{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=Qt.NavigationSkipped}}class CD extends Yi{constructor(e,r,n,i){super(e,r),this.error=n,this.target=i,this.type=Qt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class h2 extends Yi{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=Qt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vY extends Yi{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=Qt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bY extends Yi{constructor(e,r,n,i,s){super(e,r),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=s,this.type=Qt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wY extends Yi{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=Qt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _Y extends Yi{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=Qt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CY{constructor(e){this.route=e,this.type=Qt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class EY{constructor(e){this.route=e,this.type=Qt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class DY{constructor(e){this.snapshot=e,this.type=Qt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kY{constructor(e){this.snapshot=e,this.type=Qt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MY{constructor(e){this.snapshot=e,this.type=Qt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SY{constructor(e){this.snapshot=e,this.type=Qt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qT{constructor(e,r,n){this.routerEvent=e,this.position=r,this.anchor=n,this.type=Qt.Scroll}toString(){const e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}}class ED{}class pg{constructor(e,r){this.url=e,this.navigationBehaviorOptions=r}}function TY(t,e){return t.providers&&!t._injector&&(t._injector=Ry(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Zr(t){return t.outlet||ye}function IY(t,e){const r=t.filter(n=>Zr(n)===e);return r.push(...t.filter(n=>Zr(n)!==e)),r}function Ph(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const r=e.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}class xY{get injector(){return Ph(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Lh(this.rootInjector),this.attachRef=null}}let Lh=(()=>{const e=class e{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,i){const s=this.getOrCreateContext(n);s.outlet=i,this.contexts.set(n,s)}onChildOutletDestroyed(n){const i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new xY(this.rootInjector),this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}};e.ɵfac=function(i){return new(i||e)(I(kr))},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();class f2{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const r=this.pathFromRoot(e);return r.length>1?r[r.length-2]:null}children(e){const r=N_(e,this._root);return r?r.children.map(n=>n.value):[]}firstChild(e){const r=N_(e,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(e){const r=P_(e,this._root);return r.length<2?[]:r[r.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return P_(e,this._root).map(r=>r.value)}}function N_(t,e){if(t===e.value)return e;for(const r of e.children){const n=N_(t,r);if(n)return n}return null}function P_(t,e){if(t===e.value)return[e];for(const r of e.children){const n=P_(t,r);if(n.length)return n.unshift(e),n}return[]}class jr{constructor(e,r){this.value=e,this.children=r}toString(){return`TreeNode(${this.value})`}}function Hl(t){const e={};return t&&t.children.forEach(r=>e[r.value.outlet]=r),e}class p2 extends f2{constructor(e,r){super(e),this.snapshot=r,DD(this,e)}toString(){return this.snapshot.toString()}}function g2(t){const e=AY(t),r=new An([new Ku("",{})]),n=new An({}),i=new An({}),s=new An({}),o=new An(""),a=new ru(r,n,s,o,i,ye,t,e.root);return a.snapshot=e.root,new p2(new jr(a,[]),e)}function AY(t){const e={},r={},n={},i="",s=new gp([],e,n,i,r,ye,t,null,{});return new m2("",new jr(s,[]))}class ru{constructor(e,r,n,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ke(c=>c[Rh]))??J(void 0),this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??(this._paramMap=this.params.pipe(ke(e=>mc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap??(this._queryParamMap=this.queryParams.pipe(ke(e=>mc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gg(t,e,r="emptyOnly"){let n;const{routeConfig:i}=t;return e!==null&&(r==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...i?.data,...t._resolvedData}}:n={params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}},i&&v2(i)&&(n.resolve[Rh]=i.title),n}class gp{get title(){return this.data?.[Rh]}constructor(e,r,n,i,s,o,a,l,c){this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??(this._paramMap=mc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap??(this._queryParamMap=mc(this.queryParams)),this._queryParamMap}toString(){const e=this.url.map(n=>n.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${r}')`}}class m2 extends f2{constructor(e,r){super(r),this.url=e,DD(this,r)}toString(){return y2(this._root)}}function DD(t,e){e.value._routerState=t,e.children.forEach(r=>DD(t,r))}function y2(t){const e=t.children.length>0?` { ${t.children.map(y2).join(", ")} } `:"";return`${t.value}${e}`}function Ab(t){if(t.snapshot){const e=t.snapshot,r=t._futureSnapshot;t.snapshot=r,Ni(e.queryParams,r.queryParams)||t.queryParamsSubject.next(r.queryParams),e.fragment!==r.fragment&&t.fragmentSubject.next(r.fragment),Ni(e.params,r.params)||t.paramsSubject.next(r.params),GZ(e.url,r.url)||t.urlSubject.next(r.url),Ni(e.data,r.data)||t.dataSubject.next(r.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function L_(t,e){const r=Ni(t.params,e.params)&&YZ(t.url,e.url),n=!t.parent!=!e.parent;return r&&!n&&(!t.parent||L_(t.parent,e.parent))}function v2(t){return typeof t.title=="string"||t.title===null}let F_=(()=>{const e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ye,this.activateEvents=new Ne,this.deactivateEvents=new Ne,this.attachEvents=new Ne,this.detachEvents=new Ne,this.parentContexts=w(Lh),this.location=w(kn),this.changeDetector=w(As),this.inputBinder=w(Jy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:i,previousValue:s}=n.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=n;const s=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new kD(n,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.ɵfac=function(i){return new(i||e)},e.ɵdir=W({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Or]});let t=e;return t})();class kD{__ngOutletInjector(e){return new kD(this.route,this.childContexts,e)}constructor(e,r,n){this.route=e,this.childContexts=r,this.parent=n}get(e,r){return e===ru?this.route:e===Lh?this.childContexts:this.parent.get(e,r)}}const Jy=new A("");let KT=(()=>{const e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:i}=n,s=N0([i.queryParams,i.params,i.data]).pipe(gn(([o,a,l],c)=>(l={...o,...a,...l},c===0?J(l):Promise.resolve(l)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(n);return}const a=_7(i.component);if(!a){this.unsubscribeFromRouteData(n);return}for(const{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(n,s)}};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:e.ɵfac});let t=e;return t})();function OY(t,e,r){const n=Ad(t,e._root,r?r._root:void 0);return new p2(n,e)}function Ad(t,e,r){if(r&&t.shouldReuseRoute(e.value,r.value.snapshot)){const n=r.value;n._futureSnapshot=e.value;const i=RY(t,e,r);return new jr(n,i)}else{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(s!==null){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ad(t,a)),o}}const n=NY(e.value),i=e.children.map(s=>Ad(t,s));return new jr(n,i)}}function RY(t,e,r){return e.children.map(n=>{for(const i of r.children)if(t.shouldReuseRoute(n.value,i.value.snapshot))return Ad(t,n,i);return Ad(t,n)})}function NY(t){return new ru(new An(t.url),new An(t.params),new An(t.queryParams),new An(t.fragment),new An(t.data),t.outlet,t.component,t)}class MD{constructor(e,r){this.redirectTo=e,this.navigationBehaviorOptions=r}}const b2="ngNavigationCancelingError";function mg(t,e){const{redirectTo:r,navigationBehaviorOptions:n}=Ra(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=w2(!1,Kn.Redirect);return i.url=r,i.navigationBehaviorOptions=n,i}function w2(t,e){const r=new Error(`NavigationCancelingError: ${t||""}`);return r[b2]=!0,r.cancellationCode=e,r}function PY(t){return _2(t)&&Ra(t.url)}function _2(t){return!!t&&t[b2]}const LY=(t,e,r,n)=>ke(i=>(new FY(e,i.targetRouterState,i.currentRouterState,r,n).activate(t),i));class FY{constructor(e,r,n,i,s){this.routeReuseStrategy=e,this.futureState=r,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,e),Ab(this.futureState.root),this.activateChildRoutes(r,n,e)}deactivateChildRoutes(e,r,n){const i=Hl(r);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],n),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(e,r,n){const i=e.value,s=r?r.value:null;if(i===s)if(i.component){const o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(e,r,o.children)}else this.deactivateChildRoutes(e,r,n);else s&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(e,r){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,r):this.deactivateRouteAndOutlet(e,r)}detachAndStoreRouteSubtree(e,r){const n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,s=Hl(e);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(n&&n.outlet){const o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,r){const n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,s=Hl(e);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,r,n){const i=Hl(r);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],n),this.forwardEvent(new SY(s.value.snapshot))}),e.children.length&&this.forwardEvent(new kY(e.value.snapshot))}activateRoutes(e,r,n){const i=e.value,s=r?r.value:null;if(Ab(i),i===s)if(i.component){const o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,r,o.children)}else this.activateChildRoutes(e,r,n);else if(i.component){const o=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Ab(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,n)}}class ZT{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class mp{constructor(e,r){this.component=e,this.route=r}}function BY(t,e,r){const n=t._root,i=e?e._root:null;return Ou(n,i,r,[n.value])}function VY(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function iu(t,e){const r=Symbol(),n=e.get(t,r);return n===r?typeof t=="function"&&!mz(t)?t:e.get(t):n}function Ou(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Hl(e);return t.children.forEach(o=>{HY(o,s[o.value.outlet],r,n.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ju(a,r.getContext(o),i)),i}function HY(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=r?r.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=jY(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new ZT(n)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ou(t,e,a?a.children:null,n,i):Ou(t,e,r,n,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new mp(a.outlet.component,o))}else o&&Ju(e,a,i),i.canActivateChecks.push(new ZT(n)),s.component?Ou(t,null,a?a.children:null,n,i):Ou(t,null,r,n,i);return i}function jY(t,e,r){if(typeof r=="function")return r(t,e);switch(r){case"pathParamsChange":return!da(t.url,e.url);case"pathParamsOrQueryParamsChange":return!da(t.url,e.url)||!Ni(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!L_(t,e)||!Ni(t.queryParams,e.queryParams);case"paramsChange":default:return!L_(t,e)}}function Ju(t,e,r){const n=Hl(t),i=t.value;Object.entries(n).forEach(([s,o])=>{i.component?e?Ju(o,e.children.getContext(s),r):Ju(o,null,r):Ju(o,e,r)}),i.component?e&&e.outlet&&e.outlet.isActivated?r.canDeactivateChecks.push(new mp(e.outlet.component,i)):r.canDeactivateChecks.push(new mp(null,i)):r.canDeactivateChecks.push(new mp(null,i))}function Fh(t){return typeof t=="function"}function UY(t){return typeof t=="boolean"}function $Y(t){return t&&Fh(t.canLoad)}function zY(t){return t&&Fh(t.canActivate)}function WY(t){return t&&Fh(t.canActivateChild)}function GY(t){return t&&Fh(t.canDeactivate)}function qY(t){return t&&Fh(t.canMatch)}function C2(t){return t instanceof oh||t?.name==="EmptyError"}const Ef=Symbol("INITIAL_VALUE");function vc(){return gn(t=>N0(t.map(e=>e.pipe(Dr(1),cc(Ef)))).pipe(ke(e=>{for(const r of e)if(r!==!0){if(r===Ef)return Ef;if(r===!1||KY(r))return r}return!0}),Zt(e=>e!==Ef),Dr(1)))}function KY(t){return Ra(t)||t instanceof MD}function ZY(t,e){return Nt(r=>{const{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=r;return o.length===0&&s.length===0?J({...r,guardsResult:!0}):YY(o,n,i,t).pipe(Nt(a=>a&&UY(a)?JY(n,s,t,e):J(a)),ke(a=>({...r,guardsResult:a})))})}function YY(t,e,r,n){return bt(t).pipe(Nt(i=>nJ(i.component,i.route,r,e,n)),Io(i=>i!==!0,!0))}function JY(t,e,r,n){return bt(e).pipe(lc(i=>Pw(QY(i.route.parent,n),XY(i.route,n),tJ(t,i.path,r),eJ(t,i.route,r))),Io(i=>i!==!0,!0))}function XY(t,e){return t!==null&&e&&e(new MY(t)),J(!0)}function QY(t,e){return t!==null&&e&&e(new DY(t)),J(!0)}function eJ(t,e,r){const n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return J(!0);const i=n.map(s=>fd(()=>{const o=Ph(e)??r,a=iu(s,o),l=zY(a)?a.canActivate(e,t):Fn(o,()=>a(e,t));return Ho(l).pipe(Io())}));return J(i).pipe(vc())}function tJ(t,e,r){const n=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>VY(o)).filter(o=>o!==null).map(o=>fd(()=>{const a=o.guards.map(l=>{const c=Ph(o.node)??r,u=iu(l,c),d=WY(u)?u.canActivateChild(n,t):Fn(c,()=>u(n,t));return Ho(d).pipe(Io())});return J(a).pipe(vc())}));return J(s).pipe(vc())}function nJ(t,e,r,n,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return J(!0);const o=s.map(a=>{const l=Ph(e)??i,c=iu(a,l),u=GY(c)?c.canDeactivate(t,e,r,n):Fn(l,()=>c(t,e,r,n));return Ho(u).pipe(Io())});return J(o).pipe(vc())}function rJ(t,e,r,n){const i=e.canLoad;if(i===void 0||i.length===0)return J(!0);const s=i.map(o=>{const a=iu(o,t),l=$Y(a)?a.canLoad(e,r):Fn(t,()=>a(e,r));return Ho(l)});return J(s).pipe(vc(),E2(n))}function E2(t){return g$(Tt(e=>{if(typeof e!="boolean")throw mg(t,e)}),ke(e=>e===!0))}function iJ(t,e,r,n){const i=e.canMatch;if(!i||i.length===0)return J(!0);const s=i.map(o=>{const a=iu(o,t),l=qY(a)?a.canMatch(e,r):Fn(t,()=>a(e,r));return Ho(l)});return J(s).pipe(vc(),E2(n))}class B_{constructor(e){this.segmentGroup=e||null}}class V_ extends Error{constructor(e){super(),this.urlTree=e}}function bl(t){return cs(new B_(t))}function sJ(t){return cs(new z(4e3,!1))}function oJ(t){return cs(w2(!1,Kn.GuardRejected))}class aJ{constructor(e,r){this.urlSerializer=e,this.urlTree=r}lineralizeSegments(e,r){let n=[],i=r.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return J(n);if(i.numberOfChildren>1||!i.children[ye])return sJ(`${e.redirectTo}`);i=i.children[ye]}}applyRedirectCommands(e,r,n,i,s){if(typeof r!="string"){const a=r,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,params:f,data:p,title:g}=i,m=Fn(s,()=>a({params:f,data:p,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,title:g}));if(m instanceof Oa)throw new V_(m);r=m}const o=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),e,n);if(r[0]==="/")throw new V_(o);return o}applyRedirectCreateUrlTree(e,r,n,i){const s=this.createSegmentGroup(e,r.root,n,i);return new Oa(s,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(e,r){const n={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){const a=s.substring(1);n[i]=r[a]}else n[i]=s}),n}createSegmentGroup(e,r,n,i){const s=this.createSegments(e,r.segments,n,i);let o={};return Object.entries(r.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,n,i)}),new Ke(s,o)}createSegments(e,r,n,i){return r.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,n))}findPosParam(e,r,n){const i=n[r.path.substring(1)];if(!i)throw new z(4001,!1);return i}findOrReturn(e,r){let n=0;for(const i of r){if(i.path===e.path)return r.splice(n),i;n++}return e}}const H_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lJ(t,e,r,n,i){const s=SD(t,e,r);return s.matched?(n=TY(e,n),iJ(n,e,r,i).pipe(ke(o=>o===!0?s:{...H_}))):J(s)}function SD(t,e,r){if(e.path==="**")return cJ(r);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||r.length>0)?{...H_}:{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};const i=(e.matcher||WZ)(r,t,e);if(!i)return{...H_};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:r.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function cJ(t){return{matched:!0,parameters:t.length>0?QF(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function YT(t,e,r,n){return r.length>0&&hJ(t,r,n)?{segmentGroup:new Ke(e,dJ(n,new Ke(r,t.children))),slicedSegments:[]}:r.length===0&&fJ(t,r,n)?{segmentGroup:new Ke(t.segments,uJ(t,r,n,t.children)),slicedSegments:r}:{segmentGroup:new Ke(t.segments,t.children),slicedSegments:r}}function uJ(t,e,r,n){const i={};for(const s of r)if(Xy(t,e,s)&&!n[Zr(s)]){const o=new Ke([],{});i[Zr(s)]=o}return{...n,...i}}function dJ(t,e){const r={};r[ye]=e;for(const n of t)if(n.path===""&&Zr(n)!==ye){const i=new Ke([],{});r[Zr(n)]=i}return r}function hJ(t,e,r){return r.some(n=>Xy(t,e,n)&&Zr(n)!==ye)}function fJ(t,e,r){return r.some(n=>Xy(t,e,n))}function Xy(t,e,r){return(t.hasChildren()||e.length>0)&&r.pathMatch==="full"?!1:r.path===""}function pJ(t,e,r,n){return Zr(t)!==n&&(n===ye||!Xy(e,r,t))?!1:SD(e,t,r).matched}function gJ(t,e,r){return e.length===0&&!t.children[r]}class mJ{}function yJ(t,e,r,n,i,s,o="emptyOnly"){return new bJ(t,e,r,n,i,o,s).recognize()}const vJ=31;class bJ{constructor(e,r,n,i,s,o,a){this.injector=e,this.configLoader=r,this.rootComponentType=n,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new aJ(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}recognize(){const e=YT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ke(({children:r,rootSnapshot:n})=>{const i=new jr(n,r),s=new m2("",i),o=dY(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){const r=new gp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),ye,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ye,r).pipe(ke(n=>({children:n,rootSnapshot:r})),ca(n=>{if(n instanceof V_)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof B_?this.noMatchError(n):n}))}processSegmentGroup(e,r,n,i,s){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,r,n,s):this.processSegment(e,r,n,n.segments,i,!0,s).pipe(ke(o=>o instanceof jr?[o]:[]))}processChildren(e,r,n,i){const s=[];for(const o of Object.keys(n.children))o==="primary"?s.unshift(o):s.push(o);return bt(s).pipe(lc(o=>{const a=n.children[o],l=IY(r,o);return this.processSegmentGroup(e,l,a,o,i)}),az((o,a)=>(o.push(...a),o)),Qm(null),oz(),Nt(o=>{if(o===null)return bl(n);const a=D2(o);return wJ(a),J(a)}))}processSegment(e,r,n,i,s,o,a){return bt(r).pipe(lc(l=>this.processSegmentAgainstRoute(l._injector??e,r,l,n,i,s,o,a).pipe(ca(c=>{if(c instanceof B_)return J(null);throw c}))),Io(l=>!!l),ca(l=>{if(C2(l))return gJ(n,i,s)?J(new mJ):bl(n);throw l}))}processSegmentAgainstRoute(e,r,n,i,s,o,a,l){return pJ(n,i,s,o)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,n,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,r,n,s,o,l):bl(i):bl(i)}expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,o,a){const{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=SD(r,i,s);if(!l)return bl(r);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>vJ&&(this.allowRedirects=!1));const f=new gp(s,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,JT(i),Zr(i),i.component??i._loadedComponent??null,i,XT(i)),p=gg(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);const g=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,e);return this.applyRedirects.lineralizeSegments(i,g).pipe(Nt(m=>this.processSegment(e,n,r,m.concat(h),o,!1,a)))}matchSegmentAgainstRoute(e,r,n,i,s,o){const a=lJ(r,n,i,e,this.urlSerializer);return n.path==="**"&&(r.children={}),a.pipe(gn(l=>l.matched?(e=n._injector??e,this.getChildConfig(e,n,i).pipe(gn(({routes:c})=>{const u=n._loadedInjector??e,{parameters:d,consumedSegments:h,remainingSegments:f}=l,p=new gp(h,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,JT(n),Zr(n),n.component??n._loadedComponent??null,n,XT(n)),g=gg(p,o,this.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);const{segmentGroup:m,slicedSegments:y}=YT(r,h,f,c);if(y.length===0&&m.hasChildren())return this.processChildren(u,c,m,p).pipe(ke(b=>new jr(p,b)));if(c.length===0&&y.length===0)return J(new jr(p,[]));const v=Zr(n)===s;return this.processSegment(u,c,m,y,v?ye:s,!0,p).pipe(ke(b=>new jr(p,b instanceof jr?[b]:[])))}))):bl(r)))}getChildConfig(e,r,n){return r.children?J({routes:r.children,injector:e}):r.loadChildren?r._loadedRoutes!==void 0?J({routes:r._loadedRoutes,injector:r._loadedInjector}):rJ(e,r,n,this.urlSerializer).pipe(Nt(i=>i?this.configLoader.loadChildren(e,r).pipe(Tt(s=>{r._loadedRoutes=s.routes,r._loadedInjector=s.injector})):oJ(r))):J({routes:[],injector:e})}}function wJ(t){t.sort((e,r)=>e.value.outlet===ye?-1:r.value.outlet===ye?1:e.value.outlet.localeCompare(r.value.outlet))}function _J(t){const e=t.value.routeConfig;return e&&e.path===""}function D2(t){const e=[],r=new Set;for(const n of t){if(!_J(n)){e.push(n);continue}const i=e.find(s=>n.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...n.children),r.add(i)):e.push(n)}for(const n of r){const i=D2(n.children);e.push(new jr(n.value,i))}return e.filter(n=>!r.has(n))}function JT(t){return t.data||{}}function XT(t){return t.resolve||{}}function CJ(t,e,r,n,i,s){return Nt(o=>yJ(t,e,r,n,o.extractedUrl,i,s).pipe(ke(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}function EJ(t,e){return Nt(r=>{const{targetSnapshot:n,guards:{canActivateChecks:i}}=r;if(!i.length)return J(r);const s=new Set(i.map(l=>l.route)),o=new Set;for(const l of s)if(!o.has(l))for(const c of k2(l))o.add(c);let a=0;return bt(o).pipe(lc(l=>s.has(l)?DJ(l,n,t,e):(l.data=gg(l,l.parent,t).resolve,J(void 0))),Tt(()=>a++),P0(1),Nt(l=>a===o.size?J(r):fr))})}function k2(t){const e=t.children.map(r=>k2(r)).flat();return[t,...e]}function DJ(t,e,r,n){const i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!v2(i)&&(s[Rh]=i.title),kJ(s,t,e,n).pipe(ke(o=>(t._resolvedData=o,t.data=gg(t,t.parent,r).resolve,null)))}function kJ(t,e,r,n){const i=A_(t);if(i.length===0)return J({});const s={};return bt(i).pipe(Nt(o=>MJ(t[o],e,r,n).pipe(Io(),Tt(a=>{if(a instanceof MD)throw mg(new Yy,a);s[o]=a}))),P0(1),Lp(s),ca(o=>C2(o)?fr:cs(o)))}function MJ(t,e,r,n){const i=Ph(e)??n,s=iu(t,i),o=s.resolve?s.resolve(e,r):Fn(i,()=>s(e,r));return Ho(o)}function Ob(t){return gn(e=>{const r=t(e);return r?bt(r).pipe(ke(()=>e)):J(e)})}let M2=(()=>{const e=class e{buildTitle(n){let i,s=n.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===ye);return i}getResolvedTitleForRoute(n){return n.data[Rh]}};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:()=>w(SJ),providedIn:"root"});let t=e;return t})(),SJ=(()=>{const e=class e extends M2{constructor(n){super(),this.title=n}updateTitle(n){const i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}};e.ɵfac=function(i){return new(i||e)(I(UZ))},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();const Bh=new A("",{providedIn:"root",factory:()=>({})});let j_=(()=>{const e=class e{};e.ɵfac=function(i){return new(i||e)},e.ɵcmp=Oo({type:e,selectors:[["ng-component"]],standalone:!0,features:[Fo],decls:1,vars:0,template:function(i,s){i&1&&Uy(0,"router-outlet")},dependencies:[F_],encapsulation:2});let t=e;return t})();function TD(t){const e=t.children&&t.children.map(TD),r=e?{...t,children:e}:{...t};return!r.component&&!r.loadComponent&&(e||r.loadChildren)&&r.outlet&&r.outlet!==ye&&(r.component=j_),r}const Od=new A("");let ID=(()=>{const e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=w(vF)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return J(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const i=Ho(n.loadComponent()).pipe(ke(S2),Tt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Fp(()=>{this.componentLoaders.delete(n)})),s=new DM(i,()=>new de).pipe(Rw());return this.componentLoaders.set(n,s),s}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return J({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=TJ(i,this.compiler,n,this.onLoadEndListener).pipe(Fp(()=>{this.childrenLoaders.delete(i)})),a=new DM(o,()=>new de).pipe(Rw());return this.childrenLoaders.set(i,a),a}};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();function TJ(t,e,r,n){return Ho(t.loadChildren()).pipe(ke(S2),Nt(i=>i instanceof cP||Array.isArray(i)?J(i):bt(e.compileModuleAsync(i))),ke(i=>{n&&n(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(r).injector,o=s.get(Od,[],{optional:!0,self:!0}).flat()),{routes:o.map(TD),injector:s}}))}function IJ(t){return t&&typeof t=="object"&&"default"in t}function S2(t){return IJ(t)?t.default:t}let xD=(()=>{const e=class e{};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:()=>w(xJ),providedIn:"root"});let t=e;return t})(),xJ=(()=>{const e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();const T2=new A(""),I2=new A("");function AJ(t,e,r){const n=t.get(I2),i=t.get(Ae);return t.get(Me).runOutsideAngular(()=>{if(!i.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s;const o=new Promise(c=>{s=c}),a=i.startViewTransition(()=>(s(),OJ(t))),{onViewTransitionCreated:l}=n;return l&&Fn(t,()=>l({transition:a,from:e,to:r})),o})}function OJ(t){return new Promise(e=>{Eh({read:()=>setTimeout(e)},{injector:t})})}const RJ=new A("");let AD=(()=>{const e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new de,this.transitionAbortSubject=new de,this.configLoader=w(ID),this.environmentInjector=w(kr),this.urlSerializer=w(Nh),this.rootContexts=w(Lh),this.location=w(tu),this.inputBindingEnabled=w(Jy,{optional:!0})!==null,this.titleStrategy=w(M2),this.options=w(Bh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=w(xD),this.createViewTransition=w(T2,{optional:!0}),this.navigationErrorHandler=w(RJ,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>J(void 0),this.rootComponentType=null;const n=s=>this.events.next(new CY(s)),i=s=>this.events.next(new EY(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:i})}setupNavigations(n,i,s){return this.transitions=new An({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Yu,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Zt(o=>o.id!==0),ke(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),gn(o=>{let a=!1,l=!1;return J(o).pipe(gn(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Kn.SupersededByNewNavigation),fr;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&d!=="reload"){const h="";return this.events.next(new yc(c.id,this.urlSerializer.serialize(c.rawUrl),h,fg.IgnoredSameUrlNavigation)),c.resolve(!1),fr}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return J(c).pipe(gn(h=>{const f=this.transitions?.getValue();return this.events.next(new hg(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?fr:Promise.resolve(h)}),CJ(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Tt(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new h2(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=c,y=new hg(h,this.urlSerializer.serialize(f),p,g);this.events.next(y);const v=g2(this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:v,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=f,J(o)}else{const h="";return this.events.next(new yc(c.id,this.urlSerializer.serialize(c.extractedUrl),h,fg.IgnoredByUrlHandlingStrategy)),c.resolve(!1),fr}}),Tt(c=>{const u=new vY(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),ke(c=>(this.currentTransition=o={...c,guards:BY(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),ZY(this.environmentInjector,c=>this.events.next(c)),Tt(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw mg(this.urlSerializer,c.guardsResult);const u=new bY(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Zt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Kn.GuardRejected),!1)),Ob(c=>{if(c.guards.canActivateChecks.length)return J(c).pipe(Tt(u=>{const d=new wY(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),gn(u=>{let d=!1;return J(u).pipe(EJ(this.paramsInheritanceStrategy,this.environmentInjector),Tt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Kn.NoDataFromResolver)}}))}),Tt(u=>{const d=new _Y(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Ob(c=>{const u=d=>{const h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Tt(f=>{d.component=f}),ke(()=>{})));for(const f of d.children)h.push(...u(f));return h};return N0(u(c.targetSnapshot.root)).pipe(Qm(null),Dr(1))}),Ob(()=>this.afterPreactivation()),gn(()=>{const{currentSnapshot:c,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?bt(d).pipe(ke(()=>o)):J(o)}),ke(c=>{const u=OY(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:u},this.currentNavigation.targetRouterState=u,o}),Tt(()=>{this.events.next(new ED)}),LY(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Dr(1),Tt({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Cs(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),qe(this.transitionAbortSubject.pipe(Tt(c=>{throw c}))),Fp(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",Kn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ca(c=>{if(l=!0,_2(c))this.events.next(new ha(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),PY(c)?this.events.next(new pg(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{const u=new CD(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{const d=Fn(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof MD){const{message:h,cancellationCode:f}=mg(this.urlSerializer,d);this.events.next(new ha(o.id,this.urlSerializer.serialize(o.extractedUrl),h,f)),this.events.next(new pg(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);const h=n.errorHandler(c);o.resolve(!!h)}}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return fr}))}))}cancelNavigationTransition(n,i,s){const o=new ha(n.id,this.urlSerializer.serialize(n.extractedUrl),i,s);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();function NJ(t){return t!==Yu}let PJ=(()=>{const e=class e{};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:()=>w(FJ),providedIn:"root"});let t=e;return t})();class LJ{shouldDetach(e){return!1}store(e,r){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,r){return e.routeConfig===r.routeConfig}}let FJ=(()=>{const e=class e extends LJ{};e.ɵfac=(()=>{let n;return function(s){return(n||(n=wt(e)))(s||e)}})(),e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})(),x2=(()=>{const e=class e{};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:()=>w(BJ),providedIn:"root"});let t=e;return t})(),BJ=(()=>{const e=class e extends x2{constructor(){super(...arguments),this.location=w(tu),this.urlSerializer=w(Nh),this.options=w(Bh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=w(xD),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Oa,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=g2(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.ɵrouterPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof hg)this.stateMemento=this.createStateMemento();else if(n instanceof yc)this.rawUrlTree=i.initialUrl;else if(n instanceof h2){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else n instanceof ED?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):n instanceof ha&&(n.code===Kn.GuardRejected||n.code===Kn.NoDataFromResolver)?this.restoreHistory(i):n instanceof CD?this.restoreHistory(i,!0):n instanceof Cs&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){const s=n instanceof Oa?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const o=this.browserPageId,a={...i.extras.state,...this.generateNgRouterState(i.id,o)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",o)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){const s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,ɵrouterPageId:i}:{navigationId:n}}};e.ɵfac=(()=>{let n;return function(s){return(n||(n=wt(e)))(s||e)}})(),e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();var Ru=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ru||{});function A2(t,e){t.events.pipe(Zt(r=>r instanceof Cs||r instanceof ha||r instanceof CD||r instanceof yc),ke(r=>r instanceof Cs||r instanceof yc?Ru.COMPLETE:(r instanceof ha?r.code===Kn.Redirect||r.code===Kn.SupersededByNewNavigation:!1)?Ru.REDIRECTING:Ru.FAILED),Zt(r=>r!==Ru.REDIRECTING),Dr(1)).subscribe(()=>{e()})}function VJ(t){throw t}const HJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bi=(()=>{const e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=w(P9),this.stateManager=w(x2),this.options=w(Bh,{optional:!0})||{},this.pendingTasks=w(No),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=w(AD),this.urlSerializer=w(Nh),this.location=w(tu),this.urlHandlingStrategy=w(xD),this._events=new de,this.errorHandler=this.options.errorHandler||VJ,this.navigated=!1,this.routeReuseStrategy=w(PJ),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=w(Od,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!w(Jy,{optional:!0}),this.eventsSubscription=new vn,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(i=>{try{const s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof ha&&i.code!==Kn.Redirect&&i.code!==Kn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Cs)this.navigated=!0;else if(i instanceof pg){const a=i.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||NJ(s.source),...a};this.scheduleNavigation(l,Yu,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}$J(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Yu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)}))}navigateToSyncWithBrowser(n,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const c={...s};delete c.navigationId,delete c.ɵrouterPageId,Object.keys(c).length!==0&&(o.state=c)}const l=this.parseUrl(n);this.scheduleNavigation(l,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(TD),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:a;let d=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{const f=s?s.snapshot:this.routerState.snapshot.root;h=l2(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),h=this.currentUrlTree.root}return c2(h,n,d,u??null)}navigateByUrl(n,i={skipLocationChange:!1}){const s=Ra(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Yu,null,i)}navigate(n,i={skipLocationChange:!1}){return UJ(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let s;if(i===!0?s={...HJ}:i===!1?s={...jJ}:s=i,Ra(n))return UT(this.currentUrlTree,n,s);const o=this.parseUrl(n);return UT(this.currentUrlTree,o,s)}removeEmptyProps(n){return Object.entries(n).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(n,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((h,f)=>{l=h,c=f});const d=this.pendingTasks.add();return A2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();function UJ(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new z(4008,!1)}function $J(t){return!(t instanceof ED)&&!(t instanceof pg)}let yg=(()=>{const e=class e{constructor(n,i,s,o,a,l){this.router=n,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.onChanges=new de,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof Cs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ra(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,i,s,o,a){const l=this.urlTree;if(l===null||this.isAnchorElement&&(n!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;const c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;const i=this.href===null?null:jR(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(n,i){const s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,n,i):s.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Ra(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.ɵfac=function(i){return new(i||e)(O(Bi),O(ru),hy("tabindex"),O(ai),O(Ze),O(il))},e.ɵdir=W({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&kt("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&dt("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",At],skipLocationChange:[2,"skipLocationChange","skipLocationChange",At],replaceUrl:[2,"replaceUrl","replaceUrl",At],routerLink:"routerLink"},standalone:!0,features:[Lo,Or]});let t=e;return t})(),QT=(()=>{const e=class e{get isActive(){return this._isActive}constructor(n,i,s,o,a){this.router=n,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ne,this.routerEventsSubscription=n.events.subscribe(l=>{l instanceof Cs&&this.update()})}ngAfterContentInit(){J(this.links.changes,J(null)).pipe(bs()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const n=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=bt(n).pipe(bs()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(n){const i=Array.isArray(n)?n:n.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const n=this.hasActiveLinks();this.classes.forEach(i=>{n?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){const i=zJ(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{const o=s.urlTree;return o?n.isActive(o,i):!1}}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}};e.ɵfac=function(i){return new(i||e)(O(Bi),O(Ze),O(ai),O(As),O(yg,8))},e.ɵdir=W({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&$y(o,yg,5),i&2){let a;nl(a=rl())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Or]});let t=e;return t})();function zJ(t){return!!t.paths}class O2{}let WJ=(()=>{const e=class e{constructor(n,i,s,o,a){this.router=n,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Zt(n=>n instanceof Cs),lc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){const s=[];for(const o of i){o.providers&&!o._injector&&(o._injector=Ry(o.providers,n,`Route: ${o.path}`));const a=o._injector??n,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(l,o.children??o._loadedRoutes))}return bt(s).pipe(bs())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(n,i):s=J(null);const o=s.pipe(Nt(a=>a===null?J(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));if(i.loadComponent&&!i._loadedComponent){const a=this.loader.loadComponent(i);return bt([o,a]).pipe(bs())}else return o})}};e.ɵfac=function(i){return new(i||e)(I(Bi),I(vF),I(kr),I(O2),I(ID))},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();const R2=new A("");let GJ=(()=>{const e=class e{constructor(n,i,s,o,a={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||(a.scrollPositionRestoration="disabled"),a.anchorScrolling||(a.anchorScrolling="disabled")}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof hg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Cs?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof yc&&n.code===fg.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof qT&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new qT(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.ɵfac=function(i){oN()},e.ɵprov=P({token:e,factory:e.ɵfac});let t=e;return t})();function tge(t,...e){return uh([{provide:Od,multi:!0,useValue:t},[],{provide:ru,useFactory:N2,deps:[Bi]},{provide:Oh,multi:!0,useFactory:P2},e.map(r=>r.ɵproviders)])}function N2(t){return t.routerState.root}function Vh(t,e){return{ɵkind:t,ɵproviders:e}}const nge=new A("",{providedIn:"root",factory:()=>!1});function P2(){const t=w(tt);return e=>{const r=t.get(Bo);if(e!==r.components[0])return;const n=t.get(Bi),i=t.get(L2);t.get(OD)===1&&n.initialNavigation(),t.get(F2,null,De.Optional)?.setUpPreloading(),t.get(R2,null,De.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const L2=new A("",{factory:()=>new de}),OD=new A("",{providedIn:"root",factory:()=>1});function qJ(){return Vh(2,[{provide:OD,useValue:0},{provide:eD,multi:!0,deps:[tt],useFactory:e=>{const r=e.get(D7,Promise.resolve());return()=>r.then(()=>new Promise(n=>{const i=e.get(Bi),s=e.get(L2);A2(i,()=>{n(!0)}),e.get(AD).afterPreactivation=()=>(n(!0),s.closed?J(void 0):s),i.initialNavigation()}))}}])}function KJ(){return Vh(3,[{provide:eD,multi:!0,useFactory:()=>{const e=w(Bi);return()=>{e.setUpLocationChangeListener()}}},{provide:OD,useValue:2}])}const F2=new A("");function ZJ(t){return Vh(0,[{provide:F2,useExisting:WJ},{provide:O2,useExisting:t}])}function YJ(){return Vh(8,[KT,{provide:Jy,useExisting:KT}])}function JJ(t){const e=[{provide:T2,useValue:AJ},{provide:I2,useValue:{skipNextTransition:!!t?.skipInitialTransition,...t}}];return Vh(9,e)}const e1=new A("ROUTER_FORROOT_GUARD"),XJ=[tu,{provide:Nh,useClass:Yy},Bi,Lh,{provide:ru,useFactory:N2,deps:[Bi]},ID,[]];let rge=(()=>{const e=class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[XJ,[],{provide:Od,multi:!0,useValue:n},{provide:e1,useFactory:nX,deps:[[Bi,new Ya,new Ja]]},{provide:Bh,useValue:i||{}},i?.useHash?eX():tX(),QJ(),i?.preloadingStrategy?ZJ(i.preloadingStrategy).ɵproviders:[],i?.initialNavigation?rX(i):[],i?.bindToComponentInputs?YJ().ɵproviders:[],i?.enableViewTransitions?JJ().ɵproviders:[],iX()]}}static forChild(n){return{ngModule:e,providers:[{provide:Od,multi:!0,useValue:n}]}}};e.ɵfac=function(i){return new(i||e)(I(e1,8))},e.ɵmod=Nc({type:e,imports:[F_,yg,QT,j_],exports:[F_,yg,QT,j_]}),e.ɵinj=Za({});let t=e;return t})();function QJ(){return{provide:R2,useFactory:()=>{const t=w(kK),e=w(Me),r=w(Bh),n=w(AD),i=w(Nh);return r.scrollOffset&&t.setOffset(r.scrollOffset),new GJ(i,n,t,e,r)}}}function eX(){return{provide:il,useClass:M7}}function tX(){return{provide:il,useClass:AF}}function nX(t){return"guarded"}function rX(t){return[t.initialNavigation==="disabled"?KJ().ɵproviders:[],t.initialNavigation==="enabledBlocking"?qJ().ɵproviders:[]]}const t1=new A("");function iX(){return[{provide:t1,useFactory:P2},{provide:Oh,multi:!0,useExisting:t1}]}new xh("18.2.0");/**
 * @license Angular v18.2.0
 * (c) 2010-2024 Google LLC. https://angular.io/
 * License: MIT
 */function Hh(t){t||(sy(Hh),t=w(Fc));const e=new ut(r=>t.onDestroy(r.next.bind(r)));return r=>r.pipe(qe(e))}function B2(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=B2(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function V2(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=B2(t))&&(n&&(n+=" "),n+=e);return n}const RD="-",sX=t=>{const e=aX(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const a=o.split(RD);return a[0]===""&&a.length!==1&&a.shift(),H2(a,e)||oX(o)},getConflictingClassGroupIds:(o,a)=>{const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},H2=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?H2(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(RD);return e.validators.find(({validator:o})=>o(s))?.classGroupId},n1=/^\[(.+)\]$/,oX=t=>{if(n1.test(t)){const e=n1.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},aX=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return cX(Object.entries(t.classGroups),r).forEach(([s,o])=>{U_(o,n,s,e)}),n},U_=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:r1(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(lX(i)){U_(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{U_(o,r1(e,s),r,n)})})},r1=(t,e)=>{let r=t;return e.split(RD).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},lX=t=>t.isThemeGetter,cX=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[r,i]}):t,uX=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},j2="!",dX=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let m=0;m<a.length;m++){let y=a[m];if(c===0){if(y===i&&(n||a.slice(m,m+s)===e)){l.push(a.slice(u,m)),u=m+s;continue}if(y==="/"){d=m;continue}}y==="["?c++:y==="]"&&c--}const h=l.length===0?a:a.substring(u),f=h.startsWith(j2),p=f?h.substring(1):h,g=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}};return r?a=>r({className:a,parseClassName:o}):o},hX=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},fX=t=>({cache:uX(t.cacheSize),parseClassName:dX(t),...sX(t)}),pX=/\s+/,gX=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(pX);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=r(c);let p=!!f,g=n(p?h.substring(0,f):h);if(!g){if(!p){a=c+(a.length>0?" "+a:a);continue}if(g=n(h),!g){a=c+(a.length>0?" "+a:a);continue}p=!1}const m=hX(u).join(":"),y=d?m+j2:m,v=y+g;if(s.includes(v))continue;s.push(v);const b=i(g,p);for(let C=0;C<b.length;++C){const M=b[C];s.push(y+M)}a=c+(a.length>0?" "+a:a)}return a};function mX(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=U2(e))&&(n&&(n+=" "),n+=r);return n}const U2=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=U2(t[n]))&&(r&&(r+=" "),r+=e);return r};function yX(t,...e){let r,n,i,s=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return r=fX(c),n=r.cache.get,i=r.cache.set,s=a,a(l)}function a(l){const c=n(l);if(c)return c;const u=gX(l,r);return i(l,u),u}return function(){return s(mX.apply(null,arguments))}}const at=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},$2=/^\[(?:([a-z-]+):)?(.+)\]$/i,vX=/^\d+\/\d+$/,bX=new Set(["px","full","screen"]),wX=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_X=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,CX=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,EX=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DX=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qi=t=>Kl(t)||bX.has(t)||vX.test(t),Fs=t=>su(t,"length",OX),Kl=t=>!!t&&!Number.isNaN(Number(t)),Rb=t=>su(t,"number",Kl),mu=t=>!!t&&Number.isInteger(Number(t)),kX=t=>t.endsWith("%")&&Kl(t.slice(0,-1)),me=t=>$2.test(t),Bs=t=>wX.test(t),MX=new Set(["length","size","percentage"]),SX=t=>su(t,MX,z2),TX=t=>su(t,"position",z2),IX=new Set(["image","url"]),xX=t=>su(t,IX,NX),AX=t=>su(t,"",RX),yu=()=>!0,su=(t,e,r)=>{const n=$2.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},OX=t=>_X.test(t)&&!CX.test(t),z2=()=>!1,RX=t=>EX.test(t),NX=t=>DX.test(t),PX=()=>{const t=at("colors"),e=at("spacing"),r=at("blur"),n=at("brightness"),i=at("borderColor"),s=at("borderRadius"),o=at("borderSpacing"),a=at("borderWidth"),l=at("contrast"),c=at("grayscale"),u=at("hueRotate"),d=at("invert"),h=at("gap"),f=at("gradientColorStops"),p=at("gradientColorStopPositions"),g=at("inset"),m=at("margin"),y=at("opacity"),v=at("padding"),b=at("saturate"),C=at("scale"),M=at("sepia"),T=at("skew"),F=at("space"),R=at("translate"),$=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],K=()=>["auto",me,e],H=()=>[me,e],ne=()=>["",Qi,Fs],He=()=>["auto",Kl,me],Le=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],j=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],x=()=>["start","end","center","between","around","evenly","stretch"],_=()=>["","0",me],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>[Kl,me];return{cacheSize:500,separator:":",theme:{colors:[yu],spacing:[Qi,Fs],blur:["none","",Bs,me],brightness:re(),borderColor:[t],borderRadius:["none","","full",Bs,me],borderSpacing:H(),borderWidth:ne(),contrast:re(),grayscale:_(),hueRotate:re(),invert:_(),gap:H(),gradientColorStops:[t],gradientColorStopPositions:[kX,Fs],inset:K(),margin:K(),opacity:re(),padding:H(),saturate:re(),scale:re(),sepia:_(),skew:re(),space:H(),translate:H()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[Bs]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Le(),me]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",mu,me]}],basis:[{basis:K()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:_()}],shrink:[{shrink:_()}],order:[{order:["first","last","none",mu,me]}],"grid-cols":[{"grid-cols":[yu]}],"col-start-end":[{col:["auto",{span:["full",mu,me]},me]}],"col-start":[{"col-start":He()}],"col-end":[{"col-end":He()}],"grid-rows":[{"grid-rows":[yu]}],"row-start-end":[{row:["auto",{span:[mu,me]},me]}],"row-start":[{"row-start":He()}],"row-end":[{"row-end":He()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...x()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...x(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...x(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[F]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[F]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,e]}],"min-w":[{"min-w":[me,e,"min","max","fit"]}],"max-w":[{"max-w":[me,e,"none","full","min","max","fit","prose",{screen:[Bs]},Bs]}],h:[{h:[me,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Bs,Fs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Rb]}],"font-family":[{font:[yu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",Kl,Rb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qi,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qi,Fs]}],"underline-offset":[{"underline-offset":["auto",Qi,me]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Le(),TX]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",SX]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xX]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:Q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[Qi,me]}],"outline-w":[{outline:[Qi,Fs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Qi,Fs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Bs,AX]}],"shadow-color":[{shadow:[yu]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...j(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":j()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Bs,me]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:re()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:re()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[mu,me]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Qi,Fs,Rb]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},LX=yX(PX);function Qy(t){const e=new A(t);return[(s={})=>w(e,s),s=>({provide:e,useValue:s}),s=>({provide:e,useExisting:Ye(s)}),e]}const[ige,sge,FX,oge]=Qy("@spartan-ng SET_CLASS_TO_CUSTOM_ELEMENT_TOKEN"),BX=!1;Qy("@spartan-ng EXPOSES_SIDE_TOKEN");const[age,lge,VX,cge]=Qy("@spartan-ng EXPOSES_STATE_TOKEN");function $_(t){const e=w(As);return go(w(Ze).nativeElement,t).pipe(Xm(0),Tt(()=>e.markForCheck()),Hh())}function HX(){return Jm($_("click"),$_("keyup").pipe(gn(t=>t.code==="Space"||t.code==="Enter"?J(!0):J(null)),Zt(Boolean))).pipe(Xm(0))}Qy("@spartan-ng SET_TABLE_CLASSES_TOKEN");function uge(...t){return LX(V2(t))}const i1=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,s1=V2,dge=(t,e)=>r=>{var n;if(e?.variants==null)return s1(t,r?.class,r?.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=r?.[c],d=s?.[c];if(u===null)return null;const h=i1(u)||i1(d);return i[c][h]}),a=r&&Object.entries(r).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:d,className:h,...f}=u;return Object.entries(f).every(p=>{let[g,m]=p;return Array.isArray(m)?m.includes({...s,...a}[g]):{...s,...a}[g]===m})?[...c,d,h]:c},[]);return s1(t,o,l,r?.class,r?.className)},jX=new A("Ng Icon Config"),UX={size:"1em"};function $X(){return w(jX,{optional:!0})??UX}const zX=new A("Ng Icon Loader Token"),WX=new A("Ng Icon Cache Token");function GX(){return w(zX,{optional:!0})}function qX(){return w(WX,{optional:!0})}function hge(t){return[{provide:z_,useFactory:e=>({...e?.reduce((r,n)=>({...r,...n}),{}),...t}),deps:[[z_,new Ya,new Ja]],multi:!0}]}const z_=new A("Icons Token");function KX(){return w(z_,{optional:!0})??[]}function ZX(t){return typeof t=="string"?Promise.resolve(t):Ym(t)?XA(t):t}function YX(t){return t.replace(/([^a-zA-Z0-9])+(.)?/g,(e,r,n)=>n?n.toUpperCase():"").replace(/[^a-zA-Z\d]/g,"").replace(/^([A-Z])/,e=>e.toLowerCase())}let fge=(()=>{const e=class e{constructor(){this.config=$X(),this.icons=KX(),this.loader=GX(),this.cache=qX(),this.injector=w(tt),this.elementRef=w(Ze),this._size=this.config.size,this.color=this.config.color}set name(n){this.setIcon(n)}set size(n){this._size=JX(n)}get size(){return this._size}async setIcon(n){const i=YX(n);for(const s of[...this.icons].reverse())if(s[i]){this.elementRef.nativeElement.innerHTML=s[i];return}if(this.cache?.has(n)){this.elementRef.nativeElement.innerHTML=this.cache.get(n);return}if(this.loader){const s=await this.requestIconFromLoader(n);if(s!==null){this.cache?.set(n,s),this.elementRef.nativeElement.innerHTML=s;return}}console.warn(`No icon named ${n} was found. You may need to import it using the withIcons function.`)}requestIconFromLoader(n){return new Promise(i=>{Fn(this.injector,async()=>{const s=await ZX(this.loader(n));i(s)})})}};e.ɵfac=function(i){return new(i||e)},e.ɵcmp=Oo({type:e,selectors:[["ng-icon"]],hostVars:6,hostBindings:function(i,s){i&2&&Sd("--ng-icon__size",s.size)("--ng-icon__stroke-width",s.strokeWidth)("color",s.color)},inputs:{name:"name",size:"size",strokeWidth:"strokeWidth",color:"color"},standalone:!0,features:[Fo],decls:0,vars:0,template:function(i,s){},styles:["[_nghost-%COMP%]{display:inline-block;width:var(--ng-icon__size);height:var(--ng-icon__size)}"],changeDetection:0});let t=e;return t})();function JX(t){return t==null?"":/^\d+$/.test(t)?`${t}px`:t}function XX(t,e=0){return QX(t)?Number(t):arguments.length===2?e:0}function QX(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function W2(t){return Array.isArray(t)?t:[t]}function St(t){return t==null?"":typeof t=="string"?t:`${t}px`}function yp(t){return t instanceof Ze?t.nativeElement:t}let W_;try{W_=typeof Intl<"u"&&Intl.v8BreakIterator}catch{W_=!1}let Nr=(()=>{const e=class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?nu(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||W_)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.ɵfac=function(i){return new(i||e)(I(Vn))},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})(),vu;function eQ(){if(vu==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>vu=!0}))}finally{vu=vu||!1}return vu}function ev(t){return eQ()?t:!!t.capture}let Ko;function tQ(){if(Ko==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Ko=!1,Ko;if("scrollBehavior"in document.documentElement.style)Ko=!0;else{const t=Element.prototype.scrollTo;t?Ko=!/\{\s*\[native code\]\s*\}/.test(t.toString()):Ko=!1}}return Ko}let Nb;function nQ(){if(Nb==null){const t=typeof document<"u"?document.head:null;Nb=!!(t&&(t.createShadowRoot||t.attachShadow))}return Nb}function rQ(t){if(nQ()){const e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Pb(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){const e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function lo(t){return t.composedPath?t.composedPath()[0]:t.target}function o1(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const iQ=new A("cdk-dir-doc",{providedIn:"root",factory:sQ});function sQ(){return w(Ae)}const oQ=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function aQ(t){const e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?oQ.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}let Na=(()=>{const e=class e{constructor(n){if(this.value="ltr",this.change=new Ne,n){const i=n.body?n.body.dir:null,s=n.documentElement?n.documentElement.dir:null;this.value=aQ(i||s||"ltr")}}ngOnDestroy(){this.change.complete()}};e.ɵfac=function(i){return new(i||e)(I(iQ,8))},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();new A("_ViewRepeater");let a1=(()=>{const e=class e{constructor(){this._listeners=[]}notify(n,i){for(let s of this._listeners)s(n,i)}listen(n){return this._listeners.push(n),()=>{this._listeners=this._listeners.filter(i=>n!==i)}}ngOnDestroy(){this._listeners=[]}};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();new A("VIRTUAL_SCROLL_STRATEGY");const lQ=20;let G2=(()=>{const e=class e{constructor(n,i,s){this._ngZone=n,this._platform=i,this._scrolled=new de,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){const i=this.scrollContainers.get(n);i&&(i.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=lQ){return this._platform.isBrowser?new ut(i=>{this._globalSubscription||this._addGlobalListener();const s=n>0?this._scrolled.pipe(nO(n)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):J()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(n,i){const s=this.getAncestorScrollContainers(n);return this.scrolled(i).pipe(Zt(o=>!o||s.indexOf(o)>-1))}getAncestorScrollContainers(n){const i=[];return this.scrollContainers.forEach((s,o)=>{this._scrollableContainsElement(o,n)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,i){let s=yp(i),o=n.getElementRef().nativeElement;do if(s==o)return!0;while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const n=this._getWindow();return go(n.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.ɵfac=function(i){return new(i||e)(I(Me),I(Nr),I(Ae,8))},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();const cQ=20;let q2=(()=>{const e=class e{constructor(n,i,s){this._platform=n,this._change=new de,this._changeListener=o=>{this._change.next(o)},this._document=s,i.runOutsideAngular(()=>{if(n.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){const n=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+s,right:n.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const n=this._document,i=this._getWindow(),s=n.documentElement,o=s.getBoundingClientRect(),a=-o.top||n.body.scrollTop||i.scrollY||s.scrollTop||0,l=-o.left||n.body.scrollLeft||i.scrollX||s.scrollLeft||0;return{top:a,left:l}}change(n=cQ){return n>0?this._change.pipe(nO(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}};e.ɵfac=function(i){return new(i||e)(I(Nr),I(Me),I(Ae,8))},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();new A("VIRTUAL_SCROLLABLE");class ND{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}}class vg extends ND{constructor(e,r,n,i,s){super(),this.component=e,this.viewContainerRef=r,this.injector=n,this.componentFactoryResolver=i,this.projectableNodes=s}}class PD extends ND{constructor(e,r,n,i){super(),this.templateRef=e,this.viewContainerRef=r,this.context=n,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,r=this.context){return this.context=r,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class uQ extends ND{constructor(e){super(),this.element=e instanceof Ze?e.nativeElement:e}}class LD{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof vg)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof PD)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof uQ)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class dQ extends LD{constructor(e,r,n,i,s){super(),this.outletElement=e,this._componentFactoryResolver=r,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=o=>{this._document;const a=o.element;a.parentNode;const l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(n,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=n.create(e.injector||this._defaultInjector||tt.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let r=e.viewContainerRef,n=r.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return n.rootNodes.forEach(i=>this.outletElement.appendChild(i)),n.detectChanges(),this.setDisposeFn(()=>{let i=r.indexOf(n);i!==-1&&r.remove(i)}),this._attachedPortal=e,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let l1=(()=>{const e=class e extends LD{constructor(n,i,s){super(),this._componentFactoryResolver=n,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Ne,this.attachDomPortal=o=>{this._document;const a=o.element;a.parentNode;const l=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(l,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);const i=n.viewContainerRef!=null?n.viewContainerRef:this._viewContainerRef,o=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),a=i.createComponent(o,i.length,n.injector||i.injector,n.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=n,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(n){n.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}};e.ɵfac=function(i){return new(i||e)(O(vo),O(kn),O(Ae))},e.ɵdir=W({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Te]});let t=e;return t})();const K2=9,bg=13,hQ=16,fQ=17,pQ=18,Z2=27,wg=32,gQ=33,mQ=34,yQ=35,vQ=36,tv=37,Y2=38,nv=39,G_=40,bQ=48,wQ=57,_Q=65,CQ=90,EQ=91,DQ=224;function Zn(t,...e){return e.length?e.some(r=>t[r]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}const c1=tQ();class kQ{constructor(e,r){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=r}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=St(-this._previousScrollPosition.left),e.style.top=St(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=this._document.body,n=e.style,i=r.style,s=n.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),c1&&(n.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),c1&&(n.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const r=this._document.body,n=this._viewportRuler.getViewportSize();return r.scrollHeight>n.height||r.scrollWidth>n.width}}class MQ{constructor(e,r,n,i){this._scrollDispatcher=e,this._ngZone=r,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Zt(r=>!r||!this._overlayRef.overlayElement.contains(r.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const r=this._viewportRuler.getViewportScrollPosition().top;Math.abs(r-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class J2{enable(){}disable(){}attach(){}}function q_(t,e){return e.some(r=>{const n=t.bottom<r.top,i=t.top>r.bottom,s=t.right<r.left,o=t.left>r.right;return n||i||s||o})}function u1(t,e){return e.some(r=>{const n=t.top<r.top,i=t.bottom>r.bottom,s=t.left<r.left,o=t.right>r.right;return n||i||s||o})}class SQ{constructor(e,r,n,i){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){const e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const r=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:i}=this._viewportRuler.getViewportSize();q_(r,[{width:n,height:i,bottom:i,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let FD=(()=>{const e=class e{constructor(n,i,s,o){this._scrollDispatcher=n,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new J2,this.close=a=>new MQ(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new kQ(this._viewportRuler,this._document),this.reposition=a=>new SQ(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}};e.ɵfac=function(i){return new(i||e)(I(G2),I(q2),I(Me),I(Ae))},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();class BD{constructor(e){if(this.scrollStrategy=new J2,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const r=Object.keys(e);for(const n of r)e[n]!==void 0&&(this[n]=e[n])}}}class TQ{constructor(e,r){this.connectionPair=e,this.scrollableViewProperties=r}}let X2=(()=>{const e=class e{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){const i=this._attachedOverlays.indexOf(n);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}};e.ɵfac=function(i){return new(i||e)(I(Ae))},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})(),IQ=(()=>{const e=class e extends X2{constructor(n,i){super(n),this._ngZone=i,this._keydownListener=s=>{const o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){const l=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(s)):l.next(s);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.ɵfac=function(i){return new(i||e)(I(Ae),I(Me,8))},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})(),xQ=(()=>{const e=class e extends X2{constructor(n,i,s){super(n),this._platform=i,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=lo(o)},this._clickListener=o=>{const a=lo(o),l=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let u=c.length-1;u>-1;u--){const d=c[u];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d1(d.overlayElement,a)||d1(d.overlayElement,l))break;const h=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(o)):h.next(o)}}}add(n){if(super.add(n),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}};e.ɵfac=function(i){return new(i||e)(I(Ae),I(Nr),I(Me,8))},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();function d1(t,e){const r=typeof ShadowRoot<"u"&&ShadowRoot;let n=e;for(;n;){if(n===t)return!0;n=r&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}let VD=(()=>{const e=class e{constructor(n,i){this._platform=i,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n="cdk-overlay-container";if(this._platform.isBrowser||o1()){const s=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let o=0;o<s.length;o++)s[o].remove()}const i=this._document.createElement("div");i.classList.add(n),o1()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}};e.ɵfac=function(i){return new(i||e)(I(Ae),I(Nr))},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();class HD{constructor(e,r,n,i,s,o,a,l,c,u=!1,d){this._portalOutlet=e,this._host=r,this._pane=n,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._injector=d,this._backdropElement=null,this._backdropClick=new de,this._attachments=new de,this._detachments=new de,this._locationChanges=vn.EMPTY,this._backdropClickHandler=h=>this._backdropClick.next(h),this._backdropTransitionendHandler=h=>{this._disposeBackdrop(h.target)},this._keydownEvents=new de,this._outsidePointerEvents=new de,this._renders=new de,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy,this._afterRenderRef=Hr(()=>LN(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const r=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),Eh(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof r?.onDestroy=="function"&&r.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),r}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=St(this._config.width),e.height=St(this._config.height),e.minWidth=St(this._config.minWidth),e.minHeight=St(this._config.minHeight),e.maxWidth=St(this._config.maxWidth),e.maxHeight=St(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,r,n){const i=W2(r||[]).filter(s=>!!s);i.length&&(n?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const e=this._renders.pipe(qe(Jm(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const h1="cdk-overlay-connected-position-bounding-box",AQ=/([A-Za-z%]+)$/;class OQ{get positions(){return this._preferredPositions}constructor(e,r,n,i,s){this._viewportRuler=r,this._document=n,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new de,this._resizeSubscription=vn.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(h1),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,r=this._overlayRect,n=this._viewportRect,i=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(l,r,a),u=this._getOverlayFit(c,r,n,a);if(u.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(u,c,n)){s.push({position:a,origin:l,overlayRect:r,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:r})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(o.position,o.originPoint);return}this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Zo(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(h1),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const r=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,r)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,r,n){let i;if(n.originX=="center")i=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i=n.originX=="start"?o:a}r.left<0&&(i-=r.left);let s;return n.originY=="center"?s=e.top+e.height/2:s=n.originY=="top"?e.top:e.bottom,r.top<0&&(s-=r.top),{x:i,y:s}}_getOverlayPoint(e,r,n){let i;n.overlayX=="center"?i=-r.width/2:n.overlayX==="start"?i=this._isRtl()?-r.width:0:i=this._isRtl()?0:-r.width;let s;return n.overlayY=="center"?s=-r.height/2:s=n.overlayY=="top"?0:-r.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,r,n,i){const s=p1(r);let{x:o,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(o+=l),c&&(a+=c);let u=0-o,d=o+s.width-n.width,h=0-a,f=a+s.height-n.height,p=this._subtractOverflows(s.width,u,d),g=this._subtractOverflows(s.height,h,f),m=p*g;return{visibleArea:m,isCompletelyWithinViewport:s.width*s.height===m,fitsInViewportVertically:g===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,r,n){if(this._hasFlexibleDimensions){const i=n.bottom-r.y,s=n.right-r.x,o=f1(this._overlayRef.getConfig().minHeight),a=f1(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||o!=null&&o<=i,c=e.fitsInViewportHorizontally||a!=null&&a<=s;return l&&c}return!1}_pushOverlayOnScreen(e,r,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=p1(r),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),l=Math.max(s.top-n.top-e.y,0),c=Math.max(s.left-n.left-e.x,0);let u=0,d=0;return i.width<=s.width?u=c||-o:u=e.x<this._viewportMargin?s.left-n.left-e.x:0,i.height<=s.height?d=l||-a:d=e.y<this._viewportMargin?s.top-n.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,r){if(this._setTransformOrigin(e),this._setOverlayElementStyles(r,e),this._setBoundingBoxStyles(r,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){const n=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!RQ(this._lastScrollVisibility,n)){const i=new TQ(e,n);this._positionChanges.next(i)}this._lastScrollVisibility=n}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const r=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=e.overlayY;e.overlayX==="center"?n="center":this._isRtl()?n=e.overlayX==="start"?"right":"left":n=e.overlayX==="start"?"left":"right";for(let s=0;s<r.length;s++)r[s].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(e,r){const n=this._viewportRect,i=this._isRtl();let s,o,a;if(r.overlayY==="top")o=e.y,s=n.height-o+this._viewportMargin;else if(r.overlayY==="bottom")a=n.height-e.y+this._viewportMargin*2,s=n.height-a+this._viewportMargin;else{const f=Math.min(n.bottom-e.y+n.top,e.y),p=this._lastBoundingBoxSize.height;s=f*2,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}const l=r.overlayX==="start"&&!i||r.overlayX==="end"&&i,c=r.overlayX==="end"&&!i||r.overlayX==="start"&&i;let u,d,h;if(c)h=n.width-e.x+this._viewportMargin*2,u=e.x-this._viewportMargin;else if(l)d=e.x,u=n.right-e.x;else{const f=Math.min(n.right-e.x+n.left,e.x),p=this._lastBoundingBoxSize.width;u=f*2,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,r){const n=this._calculateBoundingBoxRect(e,r);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=St(n.height),i.top=St(n.top),i.bottom=St(n.bottom),i.width=St(n.width),i.left=St(n.left),i.right=St(n.right),r.overlayX==="center"?i.alignItems="center":i.alignItems=r.overlayX==="end"?"flex-end":"flex-start",r.overlayY==="center"?i.justifyContent="center":i.justifyContent=r.overlayY==="bottom"?"flex-end":"flex-start",s&&(i.maxHeight=St(s)),o&&(i.maxWidth=St(o))}this._lastBoundingBoxSize=n,Zo(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Zo(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Zo(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,r){const n={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();Zo(n,this._getExactOverlayY(r,e,u)),Zo(n,this._getExactOverlayX(r,e,u))}else n.position="static";let a="",l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),n.transform=a.trim(),o.maxHeight&&(i?n.maxHeight=St(o.maxHeight):s&&(n.maxHeight="")),o.maxWidth&&(i?n.maxWidth=St(o.maxWidth):s&&(n.maxWidth="")),Zo(this._pane.style,n)}_getExactOverlayY(e,r,n){let i={top:"",bottom:""},s=this._getOverlayPoint(r,this._overlayRect,e);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),e.overlayY==="bottom"){const o=this._document.documentElement.clientHeight;i.bottom=`${o-(s.y+this._overlayRect.height)}px`}else i.top=St(s.y);return i}_getExactOverlayX(e,r,n){let i={left:"",right:""},s=this._getOverlayPoint(r,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n));let o;if(this._isRtl()?o=e.overlayX==="end"?"left":"right":o=e.overlayX==="end"?"right":"left",o==="right"){const a=this._document.documentElement.clientWidth;i.right=`${a-(s.x+this._overlayRect.width)}px`}else i.left=St(s.x);return i}_getScrollVisibility(){const e=this._getOriginRect(),r=this._pane.getBoundingClientRect(),n=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:u1(e,n),isOriginOutsideView:q_(e,n),isOverlayClipped:u1(r,n),isOverlayOutsideView:q_(r,n)}}_subtractOverflows(e,...r){return r.reduce((n,i)=>n-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,r=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+r-this._viewportMargin,width:e-2*this._viewportMargin,height:r-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,r){return r==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&W2(e).forEach(r=>{r!==""&&this._appliedPanelClasses.indexOf(r)===-1&&(this._appliedPanelClasses.push(r),this._pane.classList.add(r))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Ze)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const r=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+r,height:n,width:r}}}function Zo(t,e){for(let r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function f1(t){if(typeof t!="number"&&t!=null){const[e,r]=t.split(AQ);return!r||r==="px"?parseFloat(e):null}return t||null}function p1(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function RQ(t,e){return t===e?!0:t.isOriginClipped===e.isOriginClipped&&t.isOriginOutsideView===e.isOriginOutsideView&&t.isOverlayClipped===e.isOverlayClipped&&t.isOverlayOutsideView===e.isOverlayOutsideView}const Q2=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}],NQ=[{originX:"end",originY:"top",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"start",overlayY:"bottom"},{originX:"start",originY:"top",overlayX:"end",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"end",overlayY:"bottom"}],g1="cdk-global-overlay-wrapper";class PQ{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const r=e.getConfig();this._overlayRef=e,this._width&&!r.width&&e.updateSize({width:this._width}),this._height&&!r.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(g1),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=n,l=(i==="100%"||i==="100vw")&&(!o||o==="100%"||o==="100vw"),c=(s==="100%"||s==="100vh")&&(!a||a==="100%"||a==="100vh"),u=this._xPosition,d=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl";let f="",p="",g="";l?g="flex-start":u==="center"?(g="center",h?p=d:f=d):h?u==="left"||u==="end"?(g="flex-end",f=d):(u==="right"||u==="start")&&(g="flex-start",p=d):u==="left"||u==="start"?(g="flex-start",f=d):(u==="right"||u==="end")&&(g="flex-end",p=d),e.position=this._cssPosition,e.marginLeft=l?"0":f,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":p,r.justifyContent=g,r.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement,n=r.style;r.classList.remove(g1),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let jD=(()=>{const e=class e{constructor(n,i,s,o){this._viewportRuler=n,this._document=i,this._platform=s,this._overlayContainer=o}global(){return new PQ}flexibleConnectedTo(n){return new OQ(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.ɵfac=function(i){return new(i||e)(I(q2),I(Ae),I(Nr),I(VD))},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})(),LQ=0,sl=(()=>{const e=class e{constructor(n,i,s,o,a,l,c,u,d,h,f,p){this.scrollStrategies=n,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=l,this._ngZone=c,this._document=u,this._directionality=d,this._location=h,this._outsideClickDispatcher=f,this._animationsModuleType=p}create(n){const i=this._createHostElement(),s=this._createPaneElement(i),o=this._createPortalOutlet(s),a=new BD(n);return a.direction=a.direction||this._directionality.value,new HD(o,i,s,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(kr))}position(){return this._positionBuilder}_createPaneElement(n){const i=this._document.createElement("div");return i.id=`cdk-overlay-${LQ++}`,i.classList.add("cdk-overlay-pane"),n.appendChild(i),i}_createHostElement(){const n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(Bo)),new dQ(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.ɵfac=function(i){return new(i||e)(I(FD),I(VD),I(vo),I(jD),I(IQ),I(tt),I(Me),I(Ae),I(Na),I(tu),I(xQ),I(I4,8))},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();new A("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const t=w(sl);return()=>t.scrollStrategies.reposition()}});function m1(t){return Ym(t)?t:J(t)}const y1=new Set;let Yo,pge=(()=>{const e=class e{constructor(n,i){this._platform=n,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):BQ}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&FQ(n,this._nonce),this._matchMedia(n)}};e.ɵfac=function(i){return new(i||e)(I(Nr),I(cE,8))},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();function FQ(t,e){if(!y1.has(t))try{Yo||(Yo=document.createElement("style"),e&&Yo.setAttribute("nonce",e),Yo.setAttribute("type","text/css"),document.head.appendChild(Yo)),Yo.sheet&&(Yo.sheet.insertRule(`@media ${t} {body{ }}`,0),y1.add(t))}catch(r){console.error(r)}}function BQ(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}const eB=" ";function VQ(t,e,r){const n=_g(t,e);r=r.trim(),!n.some(i=>i.trim()===r)&&(n.push(r),t.setAttribute(e,n.join(eB)))}function HQ(t,e,r){const n=_g(t,e);r=r.trim();const i=n.filter(s=>s!==r);i.length?t.setAttribute(e,i.join(eB)):t.removeAttribute(e)}function _g(t,e){return t.getAttribute(e)?.match(/\S+/g)??[]}const tB="cdk-describedby-message",Df="cdk-describedby-host";let K_=0,jQ=(()=>{const e=class e{constructor(n,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=`${K_++}`,this._document=n,this._id=w(py)+"-"+K_++}describe(n,i,s){if(!this._canBeDescribed(n,i))return;const o=Lb(i,s);typeof i!="string"?(v1(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,s),this._isElementDescribedByMessage(n,o)||this._addMessageReference(n,o)}removeDescription(n,i,s){if(!i||!this._isElementNode(n))return;const o=Lb(i,s);if(this._isElementDescribedByMessage(n,o)&&this._removeMessageReference(n,o),typeof i=="string"){const a=this._messageRegistry.get(o);a&&a.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const n=this._document.querySelectorAll(`[${Df}="${this._id}"]`);for(let i=0;i<n.length;i++)this._removeCdkDescribedByReferenceIds(n[i]),n[i].removeAttribute(Df);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(n,i){const s=this._document.createElement("div");v1(s,this._id),s.textContent=n,i&&s.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(s),this._messageRegistry.set(Lb(n,i),{messageElement:s,referenceCount:0})}_deleteMessageElement(n){this._messageRegistry.get(n)?.messageElement?.remove(),this._messageRegistry.delete(n)}_createMessagesContainer(){if(this._messagesContainer)return;const n="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${n}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const s=this._document.createElement("div");s.style.visibility="hidden",s.classList.add(n),s.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&s.setAttribute("platform","server"),this._document.body.appendChild(s),this._messagesContainer=s}_removeCdkDescribedByReferenceIds(n){const i=_g(n,"aria-describedby").filter(s=>s.indexOf(tB)!=0);n.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(n,i){const s=this._messageRegistry.get(i);VQ(n,"aria-describedby",s.messageElement.id),n.setAttribute(Df,this._id),s.referenceCount++}_removeMessageReference(n,i){const s=this._messageRegistry.get(i);s.referenceCount--,HQ(n,"aria-describedby",s.messageElement.id),n.removeAttribute(Df)}_isElementDescribedByMessage(n,i){const s=_g(n,"aria-describedby"),o=this._messageRegistry.get(i),a=o&&o.messageElement.id;return!!a&&s.indexOf(a)!=-1}_canBeDescribed(n,i){if(!this._isElementNode(n))return!1;if(i&&typeof i=="object")return!0;const s=i==null?"":`${i}`.trim(),o=n.getAttribute("aria-label");return s?!o||o.trim()!==s:!1}_isElementNode(n){return n.nodeType===this._document.ELEMENT_NODE}};e.ɵfac=function(i){return new(i||e)(I(Ae),I(Nr))},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();function Lb(t,e){return typeof t=="string"?`${e||""}/${t}`:t}function v1(t,e){t.id||(t.id=`${tB}-${e}-${K_++}`)}const UQ=200;class nB{constructor(e,r){this._letterKeyStream=new de,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new de,this.selectedItem=this._selectedItem;const n=typeof r?.debounceInterval=="number"?r.debounceInterval:UQ;r?.skipPredicate&&(this._skipPredicateFn=r.skipPredicate),this.setItems(e),this._setupKeyHandler(n)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){const r=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(r>=_Q&&r<=CQ||r>=bQ&&r<=wQ)&&this._letterKeyStream.next(String.fromCharCode(r))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(Tt(r=>this._pressedLetters.push(r)),Xm(e),Zt(()=>this._pressedLetters.length>0),ke(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(r=>{for(let n=1;n<this._items.length+1;n++){const i=(this._selectedItemIndex+n)%this._items.length,s=this._items[i];if(!this._skipPredicateFn?.(s)&&s.getLabel?.().toLocaleUpperCase().trim().indexOf(r)===0){this._selectedItem.next(s);break}}this._pressedLetters=[]})}}class $Q{constructor(e,r){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._typeaheadSubscription=vn.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=n=>n.disabled,this.tabOut=new de,this.change=new de,e instanceof hc?this._itemChangesSubscription=e.changes.subscribe(n=>this._itemsChanged(n.toArray())):f_(e)&&(this._effectRef=Pn(()=>this._itemsChanged(e()),{injector:r}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();const r=this._getItemsArray();return this._typeahead=new nB(r,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:n=>this._skipPredicateFn(n)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(n=>{this.setActiveItem(n)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,r=10){return this._pageUpAndDown={enabled:e,delta:r},this}setActiveItem(e){const r=this._activeItem;this.updateActiveItem(e),this._activeItem!==r&&this.change.next(this._activeItemIndex)}onKeydown(e){const r=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(r){case K2:this.tabOut.next();return;case G_:if(this._vertical&&i){this.setNextItemActive();break}else return;case Y2:if(this._vertical&&i){this.setPreviousItemActive();break}else return;case nv:if(this._horizontal&&i){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case tv:if(this._horizontal&&i){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case vQ:if(this._homeAndEnd&&i){this.setFirstItemActive();break}else return;case yQ:if(this._homeAndEnd&&i){this.setLastItemActive();break}else return;case gQ:if(this._pageUpAndDown.enabled&&i){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}else return;case mQ:if(this._pageUpAndDown.enabled&&i){const s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}else return;default:(i||Zn(e,"shiftKey"))&&this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const r=this._getItemsArray(),n=typeof e=="number"?e:r.indexOf(e),i=r[n];this._activeItem=i??null,this._activeItemIndex=n,this._typeahead?.setCurrentSelectedItemIndex(n)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const r=this._getItemsArray();for(let n=1;n<=r.length;n++){const i=(this._activeItemIndex+e*n+r.length)%r.length,s=r[i];if(!this._skipPredicateFn(s)){this.setActiveItem(i);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,r){const n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(e+=r,!n[e])return;this.setActiveItem(e)}}_getItemsArray(){return f_(this._items)?this._items():this._items instanceof hc?this._items.toArray():this._items}_itemsChanged(e){if(this._typeahead?.setItems(e),this._activeItem){const r=e.indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r,this._typeahead?.setCurrentSelectedItemIndex(r))}}}class rB extends $Q{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}class zQ{_initialFocus(){if(this._hasInitialFocused||!this._items.length)return;let e=0;for(let r=0;r<this._items.length;r++)if(!this._skipPredicateFn(this._items[r])&&!this._isItemDisabled(this._items[r])){e=r;break}this.focusItem(e),this._hasInitialFocused=!0}constructor(e,r){this._activeItemIndex=-1,this._activeItem=null,this._shouldActivationFollowFocus=!1,this._horizontalOrientation="ltr",this._skipPredicateFn=n=>!1,this._trackByFn=n=>n,this._items=[],this._typeaheadSubscription=vn.EMPTY,this._hasInitialFocused=!1,this.change=new de,e instanceof hc?(this._items=e.toArray(),e.changes.subscribe(n=>{this._items=n.toArray(),this._typeahead?.setItems(this._items),this._updateActiveItemIndex(this._items),this._initialFocus()})):Ym(e)?e.subscribe(n=>{this._items=n,this._typeahead?.setItems(n),this._updateActiveItemIndex(n),this._initialFocus()}):(this._items=e,this._initialFocus()),typeof r.shouldActivationFollowFocus=="boolean"&&(this._shouldActivationFollowFocus=r.shouldActivationFollowFocus),r.horizontalOrientation&&(this._horizontalOrientation=r.horizontalOrientation),r.skipPredicate&&(this._skipPredicateFn=r.skipPredicate),r.trackBy&&(this._trackByFn=r.trackBy),typeof r.typeAheadDebounceInterval<"u"&&this._setTypeAhead(r.typeAheadDebounceInterval)}destroy(){this._typeaheadSubscription.unsubscribe(),this._typeahead?.destroy(),this.change.complete()}onKeydown(e){switch(e.key){case"Tab":return;case"ArrowDown":this._focusNextItem();break;case"ArrowUp":this._focusPreviousItem();break;case"ArrowRight":this._horizontalOrientation==="rtl"?this._collapseCurrentItem():this._expandCurrentItem();break;case"ArrowLeft":this._horizontalOrientation==="rtl"?this._expandCurrentItem():this._collapseCurrentItem();break;case"Home":this._focusFirstItem();break;case"End":this._focusLastItem();break;case"Enter":case" ":this._activateCurrentItem();break;default:if(e.key==="*"){this._expandAllItemsAtCurrentItemLevel();break}this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}getActiveItemIndex(){return this._activeItemIndex}getActiveItem(){return this._activeItem}_focusFirstItem(){this.focusItem(this._findNextAvailableItemIndex(-1))}_focusLastItem(){this.focusItem(this._findPreviousAvailableItemIndex(this._items.length))}_focusNextItem(){this.focusItem(this._findNextAvailableItemIndex(this._activeItemIndex))}_focusPreviousItem(){this.focusItem(this._findPreviousAvailableItemIndex(this._activeItemIndex))}focusItem(e,r={}){r.emitChangeEvent??(r.emitChangeEvent=!0);let n=typeof e=="number"?e:this._items.findIndex(o=>this._trackByFn(o)===this._trackByFn(e));if(n<0||n>=this._items.length)return;const i=this._items[n];if(this._activeItem!==null&&this._trackByFn(i)===this._trackByFn(this._activeItem))return;const s=this._activeItem;this._activeItem=i??null,this._activeItemIndex=n,this._typeahead?.setCurrentSelectedItemIndex(n),this._activeItem?.focus(),s?.unfocus(),r.emitChangeEvent&&this.change.next(this._activeItem),this._shouldActivationFollowFocus&&this._activateCurrentItem()}_updateActiveItemIndex(e){const r=this._activeItem;if(!r)return;const n=e.findIndex(i=>this._trackByFn(i)===this._trackByFn(r));n>-1&&n!==this._activeItemIndex&&(this._activeItemIndex=n,this._typeahead?.setCurrentSelectedItemIndex(n))}_setTypeAhead(e){this._typeahead=new nB(this._items,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:r=>this._skipPredicateFn(r)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(r=>{this.focusItem(r)})}_findNextAvailableItemIndex(e){for(let r=e+1;r<this._items.length;r++)if(!this._skipPredicateFn(this._items[r]))return r;return e}_findPreviousAvailableItemIndex(e){for(let r=e-1;r>=0;r--)if(!this._skipPredicateFn(this._items[r]))return r;return e}_collapseCurrentItem(){if(this._activeItem)if(this._isCurrentItemExpanded())this._activeItem.collapse();else{const e=this._activeItem.getParent();if(!e||this._skipPredicateFn(e))return;this.focusItem(e)}}_expandCurrentItem(){this._activeItem&&(this._isCurrentItemExpanded()?m1(this._activeItem.getChildren()).pipe(Dr(1)).subscribe(e=>{const r=e.find(n=>!this._skipPredicateFn(n));r&&this.focusItem(r)}):this._activeItem.expand())}_isCurrentItemExpanded(){return this._activeItem?typeof this._activeItem.isExpanded=="boolean"?this._activeItem.isExpanded:this._activeItem.isExpanded():!1}_isItemDisabled(e){return typeof e.isDisabled=="boolean"?e.isDisabled:e.isDisabled?.()}_expandAllItemsAtCurrentItemLevel(){if(!this._activeItem)return;const e=this._activeItem.getParent();let r;e?r=m1(e.getChildren()):r=J(this._items.filter(n=>n.getParent()===null)),r.pipe(Dr(1)).subscribe(n=>{for(const i of n)i.expand()})}_activateCurrentItem(){this._activeItem?.activate()}}function WQ(){return(t,e)=>new zQ(t,e)}new A("tree-key-manager",{providedIn:"root",factory:WQ});let iB=(()=>{const e=class e{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return qQ(n)&&getComputedStyle(n).visibility==="visible"}isTabbable(n){if(!this._platform.isBrowser)return!1;const i=GQ(tee(n));if(i&&(b1(i)===-1||!this.isVisible(i)))return!1;let s=n.nodeName.toLowerCase(),o=b1(n);return n.hasAttribute("contenteditable")?o!==-1:s==="iframe"||s==="object"||this._platform.WEBKIT&&this._platform.IOS&&!QQ(n)?!1:s==="audio"?n.hasAttribute("controls")?o!==-1:!1:s==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||n.hasAttribute("controls"):n.tabIndex>=0}isFocusable(n,i){return eee(n)&&!this.isDisabled(n)&&(i?.ignoreVisibility||this.isVisible(n))}};e.ɵfac=function(i){return new(i||e)(I(Nr))},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();function GQ(t){try{return t.frameElement}catch{return null}}function qQ(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function KQ(t){let e=t.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function ZQ(t){return JQ(t)&&t.type=="hidden"}function YQ(t){return XQ(t)&&t.hasAttribute("href")}function JQ(t){return t.nodeName.toLowerCase()=="input"}function XQ(t){return t.nodeName.toLowerCase()=="a"}function sB(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let e=t.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function b1(t){if(!sB(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function QQ(t){let e=t.nodeName.toLowerCase(),r=e==="input"&&t.type;return r==="text"||r==="password"||e==="select"||e==="textarea"}function eee(t){return ZQ(t)?!1:KQ(t)||YQ(t)||t.hasAttribute("contenteditable")||sB(t)}function tee(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}class nee{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,r,n,i,s=!1,o){this._element=e,this._checker=r,this._ngZone=n,this._document=i,this._injector=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const e=this._startAnchor,r=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),r&&(r.removeEventListener("focus",this.endAnchorListener),r.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(r=>{this._executeOnStable(()=>r(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(r=>{this._executeOnStable(()=>r(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(r=>{this._executeOnStable(()=>r(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const r=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?r.length?r[0]:this._getFirstTabbableElement(this._element):r.length?r[r.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const r=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(r){if(!this._checker.isFocusable(r)){const n=this._getFirstTabbableElement(r);return n?.focus(e),!!n}return r.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const r=this._getRegionBoundary("start");return r&&r.focus(e),!!r}focusLastTabbableElement(e){const r=this._getRegionBoundary("end");return r&&r.focus(e),!!r}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const r=e.children;for(let n=0;n<r.length;n++){const i=r[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(r[n]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const r=e.children;for(let n=r.length-1;n>=0;n--){const i=r[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(r[n]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,r){e?r.setAttribute("tabindex","0"):r.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?Eh(e,{injector:this._injector}):setTimeout(e)}}let ree=(()=>{const e=class e{constructor(n,i,s){this._checker=n,this._ngZone=i,this._injector=w(tt),this._document=s}create(n,i=!1){return new nee(n,this._checker,this._ngZone,this._document,i,this._injector)}};e.ɵfac=function(i){return new(i||e)(I(iB),I(Me),I(Ae))},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();new A("FOCUS_TRAP_INERT_STRATEGY");function iee(t){return t.buttons===0||t.detail===0}function see(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}const oee=new A("cdk-input-modality-detector-options"),aee={ignoreKeys:[pQ,fQ,DQ,EQ,hQ]},oB=650,wl=ev({passive:!0,capture:!0});let UD=(()=>{const e=class e{get mostRecentModality(){return this._modality.value}constructor(n,i,s,o){this._platform=n,this._mostRecentTarget=null,this._modality=new An(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(l=>l===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=lo(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<oB||(this._modality.next(iee(a)?"keyboard":"mouse"),this._mostRecentTarget=lo(a))},this._onTouchstart=a=>{if(see(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=lo(a)},this._options={...aee,...o},this.modalityDetected=this._modality.pipe(lz(1)),this.modalityChanged=this.modalityDetected.pipe(rO()),n.isBrowser&&i.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,wl),s.addEventListener("mousedown",this._onMousedown,wl),s.addEventListener("touchstart",this._onTouchstart,wl)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,wl),document.removeEventListener("mousedown",this._onMousedown,wl),document.removeEventListener("touchstart",this._onTouchstart,wl))}};e.ɵfac=function(i){return new(i||e)(I(Nr),I(Me),I(Ae),I(oee,8))},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();new A("liveAnnouncerElement",{providedIn:"root",factory:lee});function lee(){return null}new A("LIVE_ANNOUNCER_DEFAULT_OPTIONS");var vp=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(vp||{});const cee=new A("cdk-focus-monitor-default-options"),kf=ev({passive:!0,capture:!0});let $D=(()=>{const e=class e{constructor(n,i,s,o,a){this._ngZone=n,this._platform=i,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new de,this._rootNodeFocusAndBlurListener=l=>{const c=lo(l);for(let u=c;u;u=u.parentElement)l.type==="focus"?this._onFocus(l,u):this._onBlur(l,u)},this._document=o,this._detectionMode=a?.detectionMode||vp.IMMEDIATE}monitor(n,i=!1){const s=yp(n);if(!this._platform.isBrowser||s.nodeType!==1)return J();const o=rQ(s)||this._getDocument(),a=this._elementInfo.get(s);if(a)return i&&(a.checkChildren=!0),a.subject;const l={checkChildren:i,subject:new de,rootNode:o};return this._elementInfo.set(s,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(n){const i=yp(n),s=this._elementInfo.get(i);s&&(s.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(s))}focusVia(n,i,s){const o=yp(n),a=this._getDocument().activeElement;o===a?this._getClosestElementsInfo(o).forEach(([l,c])=>this._originChanged(l,i,c)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(s))}ngOnDestroy(){this._elementInfo.forEach((n,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===vp.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,i){n.classList.toggle("cdk-focused",!!i),n.classList.toggle("cdk-touch-focused",i==="touch"),n.classList.toggle("cdk-keyboard-focused",i==="keyboard"),n.classList.toggle("cdk-mouse-focused",i==="mouse"),n.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(n,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&i,this._detectionMode===vp.IMMEDIATE){clearTimeout(this._originTimeoutId);const s=this._originFromTouchInteraction?oB:1;this._originTimeoutId=setTimeout(()=>this._origin=null,s)}})}_onFocus(n,i){const s=this._elementInfo.get(i),o=lo(n);!s||!s.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),s)}_onBlur(n,i){const s=this._elementInfo.get(i);!s||s.checkChildren&&n.relatedTarget instanceof Node&&i.contains(n.relatedTarget)||(this._setClasses(i),this._emitOrigin(s,null))}_emitOrigin(n,i){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(i))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;const i=n.rootNode,s=this._rootNodeFocusListenerCount.get(i)||0;s||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,kf),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,kf)}),this._rootNodeFocusListenerCount.set(i,s+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(qe(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(n){const i=n.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const s=this._rootNodeFocusListenerCount.get(i);s>1?this._rootNodeFocusListenerCount.set(i,s-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,kf),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,kf),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,i,s){this._setClasses(n,i),this._emitOrigin(s,i),this._lastFocusOrigin=i}_getClosestElementsInfo(n){const i=[];return this._elementInfo.forEach((s,o)=>{(o===n||s.checkChildren&&o.contains(n))&&i.push([o,s])}),i}_isLastInteractionFromInputLabel(n){const{_mostRecentTarget:i,mostRecentModality:s}=this._inputModalityDetector;if(s!=="mouse"||!i||i===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;const o=n.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(i))return!0}return!1}};e.ɵfac=function(i){return new(i||e)(I(Me),I(Nr),I(UD),I(Ae,8),I(cee,8))},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})(),zD=(()=>{const e=class e{};e.ɵfac=function(i){return new(i||e)},e.ɵdir=W({type:e,selectors:[["","cdkMenuGroup",""]],hostAttrs:["role","group",1,"cdk-menu-group"],exportAs:["cdkMenuGroup"],standalone:!0,features:[Pe([{provide:a1,useClass:a1}])]});let t=e;return t})();const WD=new A("cdk-menu");var Ys=function(t){return t[t.nextItem=0]="nextItem",t[t.previousItem=1]="previousItem",t[t.currentItem=2]="currentItem",t}(Ys||{});const bo=new A("cdk-menu-stack"),uee={provide:bo,deps:[[new Ya,new Ja,new H0(bo)]],useFactory:t=>t||new aB},dee=t=>({provide:bo,deps:[[new Ya,new Ja,new H0(bo)]],useFactory:e=>e||aB.inline(t)});let hee=0,aB=(()=>{const e=class e{constructor(){this.id=`${hee++}`,this._elements=[],this._close=new de,this._empty=new de,this._hasFocus=new de,this.closed=this._close,this.hasFocus=this._hasFocus.pipe(cc(!1),Xm(0),rO()),this.emptied=this._empty,this._inlineMenuOrientation=null}static inline(n){const i=new e;return i._inlineMenuOrientation=n,i}push(n){this._elements.push(n)}close(n,i){const{focusNextOnEmpty:s,focusParentTrigger:o}={...i};if(this._elements.indexOf(n)>=0){let a;do a=this._elements.pop(),this._close.next({item:a,focusParentTrigger:o});while(a!==n);this.isEmpty()&&this._empty.next(s)}}closeSubMenuOf(n){let i=!1;if(this._elements.indexOf(n)>=0)for(i=this.peek()!==n;this.peek()!==n;)this._close.next({item:this._elements.pop()});return i}closeAll(n){const{focusNextOnEmpty:i,focusParentTrigger:s}={...n};if(!this.isEmpty()){for(;!this.isEmpty();){const o=this._elements.pop();o&&this._close.next({item:o,focusParentTrigger:s})}this._empty.next(i)}}isEmpty(){return!this._elements.length}length(){return this._elements.length}peek(){return this._elements[this._elements.length-1]}hasInlineMenu(){return this._inlineMenuOrientation!=null}inlineMenuOrientation(){return this._inlineMenuOrientation}setHasFocus(n){this._hasFocus.next(n)}};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:e.ɵfac});let t=e;return t})();const GD=new A("cdk-menu-trigger"),fee=new A("cdk-menu-scroll-strategy",{providedIn:"root",factory:()=>{const t=w(sl);return()=>t.scrollStrategies.reposition()}});let pee=(()=>{const e=class e{constructor(){this.injector=w(tt),this.viewContainerRef=w(kn),this.menuStack=w(bo),this.menuScrollStrategy=w(fee),this.opened=new Ne,this.closed=new Ne,this.overlayRef=null,this.destroyed=new de,this.stopOutsideClicksListener=Jm(this.closed,this.destroyed)}ngOnDestroy(){this._destroyOverlay(),this.destroyed.next(),this.destroyed.complete()}isOpen(){return!!this.overlayRef?.hasAttached()}registerChildMenu(n){this.childMenu=n}getMenuContentPortal(){const n=this.menuTemplateRef!==this._menuPortal?.templateRef;return this.menuTemplateRef&&(!this._menuPortal||n)&&(this._menuPortal=new PD(this.menuTemplateRef,this.viewContainerRef,this.menuData,this._getChildMenuInjector())),this._menuPortal}isElementInsideMenuStack(n){for(let i=n;i;i=i?.parentElement??null)if(i.getAttribute("data-cdk-menu-stack-id")===this.menuStack.id)return!0;return!1}_destroyOverlay(){this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}_getChildMenuInjector(){return this._childMenuInjector=this._childMenuInjector||tt.create({providers:[{provide:GD,useValue:this},{provide:bo,useValue:this.menuStack}],parent:this.injector}),this._childMenuInjector}};e.ɵfac=function(i){return new(i||e)},e.ɵdir=W({type:e,hostVars:2,hostBindings:function(i,s){i&2&&dt("aria-controls",s.childMenu==null?null:s.childMenu.id)("data-cdk-menu-stack-id",s.menuStack.id)},standalone:!0});let t=e;return t})();const qD=new A("cdk-menu-aim");function lB(t,e){if(!e.isTrusted)return!1;const r=t.nativeElement,n=e.keyCode;return r.nodeName==="BUTTON"&&!r.disabled?n===bg||n===wg:r.nodeName==="A"?n===bg:!1}let Z_=(()=>{const e=class e extends pee{constructor(){super(),this._elementRef=w(Ze),this._overlay=w(sl),this._ngZone=w(Me),this._changeDetectorRef=w(As),this._inputModalityDetector=w(UD),this._directionality=w(Na,{optional:!0}),this._parentMenu=w(WD,{optional:!0}),this._menuAim=w(qD,{optional:!0}),this._setRole(),this._registerCloseHandler(),this._subscribeToMenuStackClosed(),this._subscribeToMouseEnter(),this._subscribeToMenuStackHasFocus(),this._setType()}toggle(){this.isOpen()?this.close():this.open()}open(){!this.isOpen()&&this.menuTemplateRef!=null&&(this.opened.next(),this.overlayRef=this.overlayRef||this._overlay.create(this._getOverlayConfig()),this.overlayRef.attach(this.getMenuContentPortal()),this._changeDetectorRef.markForCheck(),this._subscribeToOutsideClicks())}close(){this.isOpen()&&(this.closed.next(),this.overlayRef.detach(),this._changeDetectorRef.markForCheck()),this._closeSiblingTriggers()}getMenu(){return this.childMenu}_toggleOnKeydown(n){const i=this._parentMenu?.orientation==="vertical";switch(n.keyCode){case wg:case bg:!Zn(n)&&!lB(this._elementRef,n)&&(this.toggle(),this.childMenu?.focusFirstItem("keyboard"));break;case nv:Zn(n)||this._parentMenu&&i&&this._directionality?.value!=="rtl"&&(n.preventDefault(),this.open(),this.childMenu?.focusFirstItem("keyboard"));break;case tv:Zn(n)||this._parentMenu&&i&&this._directionality?.value==="rtl"&&(n.preventDefault(),this.open(),this.childMenu?.focusFirstItem("keyboard"));break;case G_:case Y2:Zn(n)||i||(n.preventDefault(),this.open(),n.keyCode===G_?this.childMenu?.focusFirstItem("keyboard"):this.childMenu?.focusLastItem("keyboard"));break}}_handleClick(){this.toggle(),this.childMenu?.focusFirstItem("mouse")}_setHasFocus(n){this._parentMenu||this.menuStack.setHasFocus(n)}_subscribeToMouseEnter(){this._ngZone.runOutsideAngular(()=>{go(this._elementRef.nativeElement,"mouseenter").pipe(Zt(()=>this._inputModalityDetector.mostRecentModality!=="touch"&&!this.menuStack.isEmpty()&&!this.isOpen()),qe(this.destroyed)).subscribe(()=>{const n=()=>this._ngZone.run(()=>{this._closeSiblingTriggers(),this.open()});this._menuAim?this._menuAim.toggle(n):n()})})}_closeSiblingTriggers(){this._parentMenu?!this.menuStack.closeSubMenuOf(this._parentMenu)&&this.menuStack.peek()!==this._parentMenu&&this.menuStack.closeAll():this.menuStack.closeAll()}_getOverlayConfig(){return new BD({positionStrategy:this._getOverlayPositionStrategy(),scrollStrategy:this.menuScrollStrategy(),direction:this._directionality||void 0})}_getOverlayPositionStrategy(){return this._overlay.position().flexibleConnectedTo(this._elementRef).withLockedPosition().withGrowAfterOpen().withPositions(this._getOverlayPositions())}_getOverlayPositions(){return this.menuPosition??(!this._parentMenu||this._parentMenu.orientation==="horizontal"?Q2:NQ)}_registerCloseHandler(){this._parentMenu||this.menuStack.closed.pipe(qe(this.destroyed)).subscribe(({item:n})=>{n===this.childMenu&&this.close()})}_subscribeToOutsideClicks(){this.overlayRef&&this.overlayRef.outsidePointerEvents().pipe(qe(this.stopOutsideClicksListener)).subscribe(n=>{const i=lo(n),s=this._elementRef.nativeElement;i!==s&&!s.contains(i)&&(this.isElementInsideMenuStack(i)?this._closeSiblingTriggers():this.menuStack.closeAll())})}_subscribeToMenuStackHasFocus(){this._parentMenu||this.menuStack.hasFocus.pipe(qe(this.destroyed)).subscribe(n=>{n||this.menuStack.closeAll()})}_subscribeToMenuStackClosed(){this._parentMenu||this.menuStack.closed.subscribe(({focusParentTrigger:n})=>{n&&!this.menuStack.length()&&this._elementRef.nativeElement.focus()})}_setRole(){this._parentMenu||this._elementRef.nativeElement.setAttribute("role","button")}_setType(){const n=this._elementRef.nativeElement;n.nodeName==="BUTTON"&&!n.getAttribute("type")&&n.setAttribute("type","button")}};e.ɵfac=function(i){return new(i||e)},e.ɵdir=W({type:e,selectors:[["","cdkMenuTriggerFor",""]],hostAttrs:[1,"cdk-menu-trigger"],hostVars:2,hostBindings:function(i,s){i&1&&kt("focusin",function(){return s._setHasFocus(!0)})("focusout",function(){return s._setHasFocus(!1)})("keydown",function(a){return s._toggleOnKeydown(a)})("click",function(){return s._handleClick()}),i&2&&dt("aria-haspopup",s.menuTemplateRef?"menu":null)("aria-expanded",s.menuTemplateRef==null?null:s.isOpen())},inputs:{menuTemplateRef:[0,"cdkMenuTriggerFor","menuTemplateRef"],menuPosition:[0,"cdkMenuPosition","menuPosition"],menuData:[0,"cdkMenuTriggerData","menuData"]},outputs:{opened:"cdkMenuOpened",closed:"cdkMenuClosed"},exportAs:["cdkMenuTriggerFor"],standalone:!0,features:[Pe([{provide:GD,useExisting:e},uee]),Te]});let t=e;return t})(),KD=(()=>{const e=class e{get hasMenu(){return this._menuTrigger?.menuTemplateRef!=null}constructor(){this._dir=w(Na,{optional:!0}),this._elementRef=w(Ze),this._ngZone=w(Me),this._inputModalityDetector=w(UD),this._menuAim=w(qD,{optional:!0}),this._menuStack=w(bo),this._parentMenu=w(WD,{optional:!0}),this._menuTrigger=w(Z_,{optional:!0,self:!0}),this.disabled=!1,this.triggered=new Ne,this._tabindex=-1,this.closeOnSpacebarTrigger=!0,this.destroyed=new de,this._setupMouseEnter(),this._setType(),this._isStandaloneItem()&&(this._tabindex=0)}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}trigger(n){const{keepOpen:i}={...n};!this.disabled&&!this.hasMenu&&(this.triggered.next(),i||this._menuStack.closeAll({focusParentTrigger:!0}))}isMenuOpen(){return!!this._menuTrigger?.isOpen()}getMenu(){return this._menuTrigger?.getMenu()}getMenuTrigger(){return this._menuTrigger}getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}_resetTabIndex(){this._isStandaloneItem()||(this._tabindex=-1)}_setTabIndex(n){this.disabled||(!n||!this._menuStack.isEmpty())&&(this._tabindex=0)}_onKeydown(n){switch(n.keyCode){case wg:case bg:!Zn(n)&&!lB(this._elementRef,n)&&this.trigger({keepOpen:n.keyCode===wg&&!this.closeOnSpacebarTrigger});break;case nv:Zn(n)||this._parentMenu&&this._isParentVertical()&&(this._dir?.value!=="rtl"?this._forwardArrowPressed(n):this._backArrowPressed(n));break;case tv:Zn(n)||this._parentMenu&&this._isParentVertical()&&(this._dir?.value!=="rtl"?this._backArrowPressed(n):this._forwardArrowPressed(n));break}}_isStandaloneItem(){return!this._parentMenu}_backArrowPressed(n){const i=this._parentMenu;(this._menuStack.hasInlineMenu()||this._menuStack.length()>1)&&(n.preventDefault(),this._menuStack.close(i,{focusNextOnEmpty:this._menuStack.inlineMenuOrientation()==="horizontal"?Ys.previousItem:Ys.currentItem,focusParentTrigger:!0}))}_forwardArrowPressed(n){!this.hasMenu&&this._menuStack.inlineMenuOrientation()==="horizontal"&&(n.preventDefault(),this._menuStack.closeAll({focusNextOnEmpty:Ys.nextItem,focusParentTrigger:!0}))}_setupMouseEnter(){if(!this._isStandaloneItem()){const n=()=>this._ngZone.run(()=>this._menuStack.closeSubMenuOf(this._parentMenu));this._ngZone.runOutsideAngular(()=>go(this._elementRef.nativeElement,"mouseenter").pipe(Zt(()=>this._inputModalityDetector.mostRecentModality!=="touch"&&!this._menuStack.isEmpty()&&!this.hasMenu),qe(this.destroyed)).subscribe(()=>{this._menuAim?this._menuAim.toggle(n):n()}))}}_isParentVertical(){return this._parentMenu?.orientation==="vertical"}_setType(){const n=this._elementRef.nativeElement;n.nodeName==="BUTTON"&&!n.getAttribute("type")&&n.setAttribute("type","button")}};e.ɵfac=function(i){return new(i||e)},e.ɵdir=W({type:e,selectors:[["","cdkMenuItem",""]],hostAttrs:["role","menuitem",1,"cdk-menu-item"],hostVars:2,hostBindings:function(i,s){i&1&&kt("blur",function(){return s._resetTabIndex()})("focus",function(){return s._setTabIndex()})("click",function(){return s.trigger()})("keydown",function(a){return s._onKeydown(a)}),i&2&&(Zi("tabindex",s._tabindex),dt("aria-disabled",s.disabled||null))},inputs:{disabled:[2,"cdkMenuItemDisabled","disabled",At],typeaheadLabel:[0,"cdkMenuitemTypeaheadLabel","typeaheadLabel"]},outputs:{triggered:"cdkMenuItemTriggered"},exportAs:["cdkMenuItem"],standalone:!0,features:[Lo]});let t=e;return t})();class gee{constructor(e){this._items=e,this.entered=this._getItemPointerEntries(),this.exited=this._getItemPointerExits(),this._destroyed=new de,this.entered.subscribe(r=>this.activeElement=r),this.exited.subscribe(()=>{this.previousElement=this.activeElement,this.activeElement=void 0})}destroy(){this._destroyed.next(),this._destroyed.complete()}_getItemPointerEntries(){return fd(()=>this._items.changes.pipe(cc(this._items),Nt(e=>e.map(r=>go(r._elementRef.nativeElement,"mouseenter").pipe(Lp(r),qe(this._items.changes)))),bs()))}_getItemPointerExits(){return fd(()=>this._items.changes.pipe(cc(this._items),Nt(e=>e.map(r=>go(r._elementRef.nativeElement,"mouseout").pipe(Lp(r),qe(this._items.changes)))),bs()))}}let mee=0,yee=(()=>{const e=class e extends zD{constructor(){super(...arguments),this.nativeElement=w(Ze).nativeElement,this.ngZone=w(Me),this.menuStack=w(bo),this.menuAim=w(qD,{optional:!0,self:!0}),this.dir=w(Na,{optional:!0}),this.id=`cdk-menu-${mee++}`,this.orientation="vertical",this.isInline=!1,this.destroyed=new de,this._menuStackHasFocus=xe(!1),this._tabIndexSignal=_t(()=>{const n=this._menuStackHasFocus()?-1:0;return this.isInline?n:null})}ngAfterContentInit(){this.isInline||this.menuStack.push(this),this._setKeyManager(),this._subscribeToMenuStackHasFocus(),this._subscribeToMenuOpen(),this._subscribeToMenuStackClosed(),this._setUpPointerTracker()}ngOnDestroy(){this.keyManager?.destroy(),this.destroyed.next(),this.destroyed.complete(),this.pointerTracker?.destroy()}focusFirstItem(n="program"){this.keyManager.setFocusOrigin(n),this.keyManager.setFirstItemActive()}focusLastItem(n="program"){this.keyManager.setFocusOrigin(n),this.keyManager.setLastItemActive()}_getTabIndex(){return this._tabIndexSignal()}closeOpenMenu(n,i){const{focusParentTrigger:s}={...i},o=this.keyManager,a=this.triggerItem;n===a?.getMenuTrigger()?.getMenu()&&(a?.getMenuTrigger()?.close(),s&&(a?o.setActiveItem(a):o.setFirstItemActive()))}_setKeyManager(){this.keyManager=new rB(this.items).withWrap().withTypeAhead().withHomeAndEnd(),this.orientation==="horizontal"?this.keyManager.withHorizontalOrientation(this.dir?.value||"ltr"):this.keyManager.withVerticalOrientation()}_subscribeToMenuOpen(){const n=Jm(this.items.changes,this.destroyed);this.items.changes.pipe(cc(this.items),Nt(i=>i.filter(s=>s.hasMenu).map(s=>s.getMenuTrigger().opened.pipe(Lp(s),qe(n)))),bs(),gn(i=>(this.triggerItem=i,i.getMenuTrigger().closed)),qe(this.destroyed)).subscribe(()=>this.triggerItem=void 0)}_subscribeToMenuStackClosed(){this.menuStack.closed.pipe(qe(this.destroyed)).subscribe(({item:n,focusParentTrigger:i})=>this.closeOpenMenu(n,{focusParentTrigger:i}))}_subscribeToMenuStackHasFocus(){this.isInline&&this.menuStack.hasFocus.pipe(qe(this.destroyed)).subscribe(n=>{this._menuStackHasFocus.set(n)})}_setUpPointerTracker(){this.menuAim&&(this.ngZone.runOutsideAngular(()=>{this.pointerTracker=new gee(this.items)}),this.menuAim.initialize(this,this.pointerTracker))}};e.ɵfac=(()=>{let n;return function(s){return(n||(n=wt(e)))(s||e)}})(),e.ɵdir=W({type:e,contentQueries:function(i,s,o){if(i&1&&$y(o,KD,5),i&2){let a;nl(a=rl())&&(s.items=a)}},hostAttrs:["role","menu"],hostVars:4,hostBindings:function(i,s){i&1&&kt("focus",function(){return s.focusFirstItem()})("focusin",function(){return s.menuStack.setHasFocus(!0)})("focusout",function(){return s.menuStack.setHasFocus(!1)}),i&2&&(Zi("tabindex",s._getTabIndex())("id",s.id),dt("aria-orientation",s.orientation)("data-cdk-menu-stack-id",s.menuStack.id))},inputs:{id:"id"},standalone:!0,features:[Te]});let t=e;return t})(),w1=(()=>{const e=class e extends yee{constructor(){super(),this._parentTrigger=w(GD,{optional:!0}),this.closed=new Ne,this.orientation="vertical",this.isInline=!this._parentTrigger,this.destroyed.subscribe(this.closed),this._parentTrigger?.registerChildMenu(this)}ngAfterContentInit(){super.ngAfterContentInit(),this._subscribeToMenuStackEmptied()}ngOnDestroy(){super.ngOnDestroy(),this.closed.complete()}_handleKeyEvent(n){const i=this.keyManager;switch(n.keyCode){case tv:case nv:Zn(n)||(n.preventDefault(),i.setFocusOrigin("keyboard"),i.onKeydown(n));break;case Z2:Zn(n)||(n.preventDefault(),this.menuStack.close(this,{focusNextOnEmpty:Ys.currentItem,focusParentTrigger:!0}));break;case K2:Zn(n,"altKey","metaKey","ctrlKey")||this.menuStack.closeAll({focusParentTrigger:!0});break;default:i.onKeydown(n)}}_toggleMenuFocus(n){const i=this.keyManager;switch(n){case Ys.nextItem:i.setFocusOrigin("keyboard"),i.setNextItemActive();break;case Ys.previousItem:i.setFocusOrigin("keyboard"),i.setPreviousItemActive();break;case Ys.currentItem:i.activeItem&&(i.setFocusOrigin("keyboard"),i.setActiveItem(i.activeItem));break}}_subscribeToMenuStackEmptied(){this.menuStack.emptied.pipe(qe(this.destroyed)).subscribe(n=>this._toggleMenuFocus(n))}};e.ɵfac=function(i){return new(i||e)},e.ɵdir=W({type:e,selectors:[["","cdkMenu",""]],hostAttrs:["role","menu",1,"cdk-menu"],hostVars:2,hostBindings:function(i,s){i&1&&kt("keydown",function(a){return s._handleKeyEvent(a)}),i&2&&xs("cdk-menu-inline",s.isInline)},outputs:{closed:"closed"},exportAs:["cdkMenu"],standalone:!0,features:[Pe([{provide:zD,useExisting:e},{provide:WD,useExisting:e},dee("vertical")]),Te]});let t=e;return t})(),Fb=(()=>{const e=class e extends KD{constructor(){super(...arguments),this.checked=!1,this.closeOnSpacebarTrigger=!1}};e.ɵfac=(()=>{let n;return function(s){return(n||(n=wt(e)))(s||e)}})(),e.ɵdir=W({type:e,hostVars:2,hostBindings:function(i,s){i&2&&dt("aria-checked",!!s.checked)("aria-disabled",s.disabled||null)},inputs:{checked:[2,"cdkMenuItemChecked","checked",At]},standalone:!0,features:[Lo,Te]});let t=e;return t})(),_1=(()=>{const e=class e extends Fb{trigger(n){super.trigger(n),this.disabled||(this.checked=!this.checked)}};e.ɵfac=(()=>{let n;return function(s){return(n||(n=wt(e)))(s||e)}})(),e.ɵdir=W({type:e,selectors:[["","cdkMenuItemCheckbox",""]],hostAttrs:["role","menuitemcheckbox"],hostVars:2,hostBindings:function(i,s){i&2&&xs("cdk-menu-item-checkbox",!0)},exportAs:["cdkMenuItemCheckbox"],standalone:!0,features:[Pe([{provide:Fb,useExisting:e},{provide:KD,useExisting:Fb}]),Te]});let t=e;return t})();Q2.map(t=>{const e=t.overlayX==="start"?2:-2,r=t.overlayY==="top"?2:-2;return{...t,offsetX:e,offsetY:r}});let gge=(()=>{const e=class e{};e.ɵfac=function(i){return new(i||e)},e.ɵdir=W({type:e,selectors:[["","brnMenuGroup",""]],standalone:!0,features:[Dh([zD])]});let t=e;return t})(),mge=(()=>{const e=class e{constructor(){this._cdkMenuItem=w(_1,{host:!0}),this._checked=xe(this._cdkMenuItem.checked),this._disabled=xe(this._cdkMenuItem.disabled),this.triggered=this._cdkMenuItem.triggered}set checked(n){this._cdkMenuItem.checked=n,this._checked.set(n)}get checked(){return this._checked()}set disabled(n){this._cdkMenuItem.disabled=n,this._disabled.set(n)}get disabled(){return this._disabled()}};e.ɵfac=function(i){return new(i||e)},e.ɵdir=W({type:e,selectors:[["","brnMenuItemCheckbox",""]],hostVars:3,hostBindings:function(i,s){i&2&&(Zi("disabled",s._disabled()),xs("checked",s._checked()))},inputs:{checked:[2,"checked","checked",At],disabled:[2,"disabled","disabled",At]},outputs:{triggered:"triggered"},standalone:!0,features:[Lo,Dh([_1])]});let t=e;return t})(),yge=(()=>{const e=class e{set align(n){this._align.set(n)}constructor(){this._cdkTrigger=w(Z_,{host:!0}),this._align=xe(void 0),this._cdkTrigger.opened.pipe(Hh()).subscribe(()=>setTimeout(()=>this._cdkTrigger._spartanLastPosition=this._cdkTrigger.overlayRef._positionStrategy._lastPosition)),Pn(()=>{const n=this._align();n&&(this._cdkTrigger.menuPosition=[{originX:n,originY:"bottom",overlayX:n,overlayY:"top"},{originX:n,originY:"top",overlayX:n,overlayY:"bottom"}])})}};e.ɵfac=function(i){return new(i||e)},e.ɵdir=W({type:e,selectors:[["","brnMenuTriggerFor",""]],inputs:{align:"align"},standalone:!0,features:[Dh([{directive:Z_,inputs:["cdkMenuTriggerFor","brnMenuTriggerFor"]}])]});let t=e;return t})(),vge=(()=>{const e=class e{constructor(){this._host=w(w1),this._state=xe("open"),this._side=xe("top"),this.setSideWithDarkMagic(),this._host.closed.pipe(Hh()).subscribe(()=>this._state.set("closed"))}setSideWithDarkMagic(){const n=this._host.menuStack.peek()===void 0;setTimeout(()=>{const i=this._host._parentTrigger._spartanLastPosition,s=n?i.originY:i.originX==="end"?"right":"left";this._side.set(s)})}};e.ɵfac=function(i){return new(i||e)},e.ɵdir=W({type:e,selectors:[["","brnMenu",""],["","brnSubMenu",""]],hostVars:2,hostBindings:function(i,s){i&2&&dt("data-state",s._state())("data-side",s._side())},standalone:!0,features:[Dh([w1])]});let t=e;return t})();const bge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><line x1="21" x2="3" y1="6" y2="6"/><line x1="17" x2="7" y1="12" y2="12"/><line x1="19" x2="5" y1="18" y2="18"/></svg>',wge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><line x1="21" x2="3" y1="6" y2="6"/><line x1="15" x2="3" y1="12" y2="12"/><line x1="17" x2="3" y1="18" y2="18"/></svg>',_ge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><line x1="21" x2="3" y1="6" y2="6"/><line x1="21" x2="9" y1="12" y2="12"/><line x1="21" x2="7" y1="18" y2="18"/></svg>',Cge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M14 12a4 4 0 0 0 0-8H6v8"/><path d="M15 20a4 4 0 0 0 0-8H6v8Z"/></svg>',Ege='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><polyline points="20 6 9 17 4 12"/></svg>',Dge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"/><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/></svg>',kge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><path d="m18 16 4-4-4-4"/><path d="m6 8-4 4 4 4"/><path d="m14.5 4-5 16"/></svg>',Mge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/></svg>',Sge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" x2="21" y1="14" y2="3"/></svg>',Tge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M17.5 22h.5c.5 0 1-.2 1.4-.6.4-.4.6-.9.6-1.4V7.5L14.5 2H6c-.5 0-1 .2-1.4.6C4.2 3 4 3.5 4 4v3"/><polyline points="14 2 14 8 20 8"/><path d="M10 20v-1a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0Z"/><path d="M6 20v-1a2 2 0 1 0-4 0v1a2 2 0 1 0 4 0Z"/><path d="M2 19v-3a6 6 0 0 1 12 0v3"/></svg>',Ige='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><circle cx="12" cy="9" r="1"/><circle cx="19" cy="9" r="1"/><circle cx="5" cy="9" r="1"/><circle cx="12" cy="15" r="1"/><circle cx="19" cy="15" r="1"/><circle cx="5" cy="15" r="1"/></svg>',xge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><circle cx="9" cy="12" r="1"/><circle cx="9" cy="5" r="1"/><circle cx="9" cy="19" r="1"/><circle cx="15" cy="12" r="1"/><circle cx="15" cy="5" r="1"/><circle cx="15" cy="19" r="1"/></svg>',Age='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M4 12h8"/><path d="M4 18V6"/><path d="M12 18V6"/><path d="m17 12 3-2v8"/></svg>',Oge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M4 12h8"/><path d="M4 18V6"/><path d="M12 18V6"/><path d="M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1"/></svg>',Rge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M4 12h8"/><path d="M4 18V6"/><path d="M12 18V6"/><path d="M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2"/><path d="M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2"/></svg>',Nge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M4 12h8"/><path d="M4 18V6"/><path d="M12 18V6"/><path d="M17 10v4h4"/><path d="M21 10v8"/></svg>',Pge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M4 12h8"/><path d="M4 18V6"/><path d="M12 18V6"/><path d="M17 13v-3h4"/><path d="M17 17.7c.4.2.8.3 1.3.3 1.5 0 2.7-1.1 2.7-2.5S19.8 13 18.3 13H17"/></svg>',Lge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M4 12h8"/><path d="M4 18V6"/><path d="M12 18V6"/><circle cx="19" cy="16" r="2"/><path d="M20 10c-2 2-3 3.5-3 6"/></svg>',Fge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"/><line x1="16" x2="22" y1="5" y2="5"/><line x1="19" x2="19" y1="2" y2="8"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></svg>',Bge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></svg>',Vge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><line x1="19" x2="10" y1="4" y2="4"/><line x1="14" x2="5" y1="20" y2="20"/><line x1="15" x2="9" y1="4" y2="20"/></svg>',Hge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><rect width="18" height="7" x="3" y="3" rx="1"/><rect width="7" height="7" x="3" y="14" rx="1"/><rect width="7" height="7" x="14" y="14" rx="1"/></svg>',jge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>',Uge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><line x1="10" x2="21" y1="6" y2="6"/><line x1="10" x2="21" y1="12" y2="12"/><line x1="10" x2="21" y1="18" y2="18"/><polyline points="3 6 4 7 6 5"/><polyline points="3 12 4 13 6 11"/><polyline points="3 18 4 19 6 17"/></svg>',$ge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><line x1="10" x2="21" y1="6" y2="6"/><line x1="10" x2="21" y1="12" y2="12"/><line x1="10" x2="21" y1="18" y2="18"/><path d="M4 6h1v4"/><path d="M4 10h2"/><path d="M6 18H4c0-1 2-2 2-3s-1-1.5-2-1"/></svg>',zge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><line x1="8" x2="21" y1="6" y2="6"/><line x1="8" x2="21" y1="12" y2="12"/><line x1="8" x2="21" y1="18" y2="18"/><line x1="3" x2="3.01" y1="6" y2="6"/><line x1="3" x2="3.01" y1="12" y2="12"/><line x1="3" x2="3.01" y1="18" y2="18"/></svg>',Wge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><rect width="20" height="14" x="2" y="3" rx="2"/><line x1="8" x2="16" y1="21" y2="21"/><line x1="12" x2="12" y1="17" y2="21"/></svg>',Gge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>',qge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M13 4v16"/><path d="M17 4v16"/><path d="M19 4H9.5a4.5 4.5 0 0 0 0 9H13"/></svg>',Kge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><line x1="12" x2="12" y1="5" y2="19"/><line x1="5" x2="19" y1="12" y2="12"/></svg>',Zge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><circle cx="12" cy="12" r="10"/><path d="M8 14s1.5 2 4 2 4-2 4-2"/><line x1="9" x2="9.01" y1="9" y2="9"/><line x1="15" x2="15.01" y1="9" y2="9"/></svg>',Yge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M16 4H9a3 3 0 0 0-2.83 4"/><path d="M14 12a4 4 0 0 1 0 8H6"/><line x1="4" x2="20" y1="12" y2="12"/></svg>',Jge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>',Xge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><line x1="3" x2="21" y1="9" y2="9"/><line x1="3" x2="21" y1="15" y2="15"/><line x1="12" x2="12" y1="3" y2="21"/></svg>',Qge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M5 4h1a3 3 0 0 1 3 3 3 3 0 0 1 3-3h1"/><path d="M13 20h-1a3 3 0 0 1-3-3 3 3 0 0 1-3 3H5"/><path d="M5 16H4a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2h1"/><path d="M13 8h7a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-7"/><path d="M9 7v10"/></svg>',eme='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg>',tme='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><polyline points="4 7 4 4 20 4 20 7"/><line x1="9" x2="15" y1="20" y2="20"/><line x1="12" x2="12" y1="4" y2="20"/></svg>',nme='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M6 4v6a6 6 0 0 0 12 0V4"/><line x1="4" x2="20" y1="20" y2="20"/></svg>',rme='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><path d="m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71"/><path d="m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71"/><line x1="8" x2="8" y1="2" y2="5"/><line x1="2" x2="5" y1="8" y2="8"/><line x1="16" x2="16" y1="19" y2="22"/><line x1="19" x2="22" y1="16" y2="16"/></svg>',ime='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><path d="m22 8-6 4 6 4V8Z"/><rect width="14" height="12" x="2" y="6" rx="2" ry="2"/></svg>',sme='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><line x1="18" x2="6" y1="6" y2="18"/><line x1="6" x2="18" y1="6" y2="18"/></svg>';let ZD=(()=>{const e=class e{constructor(){this.orientation=Sn("horizontal"),this.$orientation=this.orientation,this.direction=Sn("ltr"),this.$direction=this.direction,this._activeTab=nP(void 0,{alias:"brnTabs"}),this.$activeTab=this._activeTab.asReadonly(),this.activationMode=Sn("automatic"),this.$activationMode=this.activationMode,this.tabActivated=new Ne,this._tabs=xe({}),this.$tabs=this._tabs.asReadonly()}registerTrigger(n,i){this._tabs.update(s=>({...s,[n]:{trigger:i,content:s[n]?.content}}))}registerContent(n,i){this._tabs.update(s=>({...s,[n]:{trigger:s[n]?.trigger,content:i}}))}emitTabActivated(n){this.tabActivated.emit(n)}setActiveTab(n){this._activeTab.set(n)}};e.ɵfac=function(i){return new(i||e)},e.ɵdir=W({type:e,selectors:[["","brnTabs",""]],hostVars:2,hostBindings:function(i,s){i&2&&dt("data-orientation",s.orientation())("dir",s.direction())},inputs:{orientation:[1,"orientation"],direction:[1,"direction"],_activeTab:[1,"brnTabs","_activeTab"],activationMode:[1,"activationMode"]},outputs:{_activeTab:"brnTabsChange",tabActivated:"tabActivated"},exportAs:["brnTabs"],standalone:!0});let t=e;return t})(),ome=(()=>{const e=class e{constructor(){this._root=w(ZD),this._elementRef=w(Ze),this.contentFor=Sn.required({alias:"brnTabsContent"}),this._isSelected=_t(()=>this._root.$activeTab()===this.contentFor()),this.contentId=_t(()=>`brn-tabs-content-${this.contentFor()}`),this.labelId=_t(()=>`brn-tabs-label-${this.contentFor()}`),Pn(()=>{this._root.registerContent(this.contentFor(),this)},{allowSignalWrites:!0})}focus(){this._elementRef.nativeElement.focus()}};e.ɵfac=function(i){return new(i||e)},e.ɵdir=W({type:e,selectors:[["","brnTabsContent",""]],hostAttrs:["role","tabpanel","tabindex","0"],hostVars:3,hostBindings:function(i,s){i&2&&(Zi("id",s.contentId())("hidden",s._isSelected()===!1),dt("aria-labelledby",s.labelId()))},inputs:{contentFor:[1,"brnTabsContent","contentFor"]},exportAs:["brnTabsContent"],standalone:!0});let t=e;return t})(),vee=(()=>{const e=class e{constructor(){this.elementRef=w(Ze),this._root=w(ZD),this._orientation=this._root.$orientation,this.triggerFor=Sn.required({alias:"brnTabsTrigger"}),this.selected=_t(()=>this._root.$activeTab()===this.triggerFor()),this.contentId=_t(()=>`brn-tabs-content-${this.triggerFor()}`),this.labelId=_t(()=>`brn-tabs-label-${this.triggerFor()}`),this.disabled=!1,Pn(()=>{this._root.registerTrigger(this.triggerFor(),this)},{allowSignalWrites:!0})}focus(){this.elementRef.nativeElement.focus(),this._root.$activationMode()==="automatic"&&this.activate()}activate(){this.triggerFor()&&(this._root.setActiveTab(this.triggerFor()),this._root.emitTabActivated(this.triggerFor()))}get key(){return this.triggerFor()}};e.ɵfac=function(i){return new(i||e)},e.ɵdir=W({type:e,selectors:[["button","brnTabsTrigger",""]],hostAttrs:["type","button","role","tab"],hostVars:7,hostBindings:function(i,s){i&1&&kt("click",function(){return s.activate()}),i&2&&(Zi("id",s.labelId())("tabindex",s.selected()?"0":"-1"),dt("aria-selected",s.selected())("aria-controls",s.contentId())("data-state",s.selected()?"active":"inactive")("data-orientation",s._orientation())("data-disabled",s.disabled?"":void 0))},inputs:{triggerFor:[1,"brnTabsTrigger","triggerFor"],disabled:"disabled"},exportAs:["brnTabsTrigger"],standalone:!0});let t=e;return t})(),ame=(()=>{const e=class e{constructor(){this._root=w(ZD),this._orientation=this._root.$orientation,this._direction=this._root.$direction,this._activeTab=this._root.$activeTab,this._tabs=this._root.$tabs,this._keyDownListener=$_("keydown")}ngAfterContentInit(){this.triggers&&(this._keyManager=new rB(this.triggers).withHorizontalOrientation(this._direction()).withHomeAndEnd().withPageUpDown().withWrap(),this._keyDownListener.pipe(Dr(1)).subscribe(()=>{const n=this._activeTab(),i=this._tabs();let s=0;if(n&&this.triggers){const o=i[n];o&&(s=this.triggers.toArray().indexOf(o.trigger))}this._keyManager?.setActiveItem(s)}),this._keyDownListener.subscribe(n=>{"key"in n&&(this._orientation()==="horizontal"&&(n.key==="ArrowUp"||n.key==="ArrowDown")||this._orientation()==="vertical"&&(n.key==="ArrowLeft"||n.key==="ArrowRight"))||this._keyManager?.onKeydown(n)}))}};e.ɵfac=function(i){return new(i||e)},e.ɵdir=W({type:e,selectors:[["","brnTabsList",""]],contentQueries:function(i,s,o){if(i&1&&$y(o,vee,5),i&2){let a;nl(a=rl())&&(s.triggers=a)}},hostAttrs:["role","tablist"],hostVars:2,hostBindings:function(i,s){i&2&&dt("aria-orientation",s._orientation())("data-orientation",s._orientation())},exportAs:["brnTabsList"],standalone:!0});let t=e;return t})();/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */ev({passive:!0});const bee=["tooltip"];function wee(t,e){if(t&1&&RL(0),t&2){const r=ZE();Wy(" ",r.content," ")}}function _ee(t,e){if(t&1&&qE(0,2),t&2){const r=ZE();Vy("ngTemplateOutlet",r.content)}}let Cee=(()=>{const e=class e{constructor(){this._cdr=w(As),this._isBrowser=nu(w(Vn)),this._renderer2=w(ai),this._contentHovered=xe(!1),this._tooltipClasses=xe(""),this.side=xe("above"),this.content=null,this._mouseLeaveHideDelay=0,this._exitAnimationDuration=0,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new de,this.afterHidden=this._onHide.asObservable()}show(n){this._hideTimeoutId!==null&&clearTimeout(this._hideTimeoutId),this._animateTimeoutId!==null&&clearTimeout(this._animateTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleDataAttributes(!0,this.side()),this._toggleVisibility(!0),this._showTimeoutId=void 0},n)}hide(n,i){this._showTimeoutId!==null&&clearTimeout(this._showTimeoutId),this._animateTimeoutId=setTimeout(()=>{this._animateTimeoutId=void 0,!this._contentHovered()&&this._toggleDataAttributes(!1,this.side())},Math.max(n,0)),this._hideTimeoutId=setTimeout(()=>{this._hideTimeoutId=void 0,!this._contentHovered()&&this._toggleVisibility(!1)},n+i)}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=void 0}_isTypeOfString(n){return typeof n=="string"}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0,0)}_markForCheck(){this._cdr.markForCheck()}_handleMouseLeave({relatedTarget:n}){(!n||!this._triggerElement?.contains(n))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay,this._exitAnimationDuration):this._finalize(!1)),this._contentHovered.set(!1)}_cancelPendingAnimations(){this._showTimeoutId!==null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!==null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalize(n){n?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(n){const i=this._tooltip?.nativeElement;!i||!this._isBrowser||(this._renderer2.setStyle(i,"visibility",n?"visible":"hidden"),this._isVisible=n)}_toggleDataAttributes(n,i){const s=this._tooltip?.nativeElement;!s||!this._isBrowser||(this._renderer2.setAttribute(s,"data-side",i),this._renderer2.setAttribute(s,"data-state",n?"open":"closed"))}};e.ɵfac=function(i){return new(i||e)},e.ɵcmp=Oo({type:e,selectors:[["brn-tooltip-content"]],viewQuery:function(i,s){if(i&1&&zy(bee,7),i&2){let o;nl(o=rl())&&(s._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(i,s){i&1&&kt("mouseleave",function(a){return s._handleMouseLeave(a)}),i&2&&Sd("zoom",s.isVisible()?1:null)},standalone:!0,features:[Fo],decls:4,vars:5,consts:[["tooltip",""],[3,"mouseenter","mouseleave"],[3,"ngTemplateOutlet"]],template:function(i,s){if(i&1){const o=JP();Hy(0,"div",1,0),kt("mouseenter",function(){return qw(o),Kw(s._contentHovered.set(!0))})("mouseleave",function(){return qw(o),Kw(s._contentHovered.set(!1))}),Py(2,wee,1,1)(3,_ee,1,1,"ng-container",2),jy()}i&2&&(UP(s._tooltipClasses()),Sd("visibility","hidden"),iN(2),KP(s._isTypeOfString(s.content)?2:3))},dependencies:[S_],encapsulation:2,changeDetection:0});let t=e;return t})(),cB=(()=>{const e=class e{constructor(){this.tooltipTemplate=xe(null)}};e.ɵfac=function(i){return new(i||e)},e.ɵdir=W({type:e,selectors:[["","brnTooltip",""]],standalone:!0});let t=e;return t})(),lme=(()=>{const e=class e{constructor(){this._brnTooltipDirective=w(cB,{optional:!0}),this._tpl=w(Tr),!(!this._brnTooltipDirective||!this._tpl)&&this._brnTooltipDirective.tooltipTemplate.set(this._tpl)}};e.ɵfac=function(i){return new(i||e)},e.ɵdir=W({type:e,selectors:[["","brnTooltipContent",""]],standalone:!0});let t=e;return t})();/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Eee=20;function C1(t){return Error(`Tooltip position "${t}" is invalid.`)}const uB=new A("brn-tooltip-scroll-strategy"),Dee={provide:uB,deps:[sl],useFactory:t=>()=>t.scrollStrategies.reposition({scrollThrottle:Eee})};function kee(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}const Mee=new A("mat-tooltip-default-options",{providedIn:"root",factory:kee}),See="tooltip-panel",E1=ev({passive:!0}),Tee=500,Iee=8,xee=8;let cme=(()=>{const e=class e{get position(){return this._position()}set position(n){n!==this._position()&&(this._position.set(n),this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin()}set positionAtOrigin(n){this._positionAtOrigin.set(n),this._detach(),this._overlayRef=null}get disabled(){return this._disabled()}set disabled(n){this._disabled.set(n),n?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay()}set showDelay(n){this._showDelay.set(n)}get hideDelay(){return this._hideDelay()}set hideDelay(n){this._hideDelay.set(n),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay())}get exitAnimationDuration(){return this._exitAnimationDuration()}set exitAnimationDuration(n){this._exitAnimationDuration.set(n),this._tooltipInstance&&(this._tooltipInstance._exitAnimationDuration=this._exitAnimationDuration())}get tooltipContentClasses(){return this._tooltipContentClasses()}set tooltipContentClasses(n){this._tooltipContentClasses.set(n??""),this._tooltipInstance&&this._tooltipInstance._tooltipClasses.set(n??"")}set touchGestures(n){this._touchGestures.set(n)}get touchGestures(){return this._touchGestures()}get ariaDescribedBy(){return this._ariaDescribedBy}set ariaDescribedBy(n){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._ariaDescribedBy,"tooltip"),this._ariaDescribedBy=n!==null?String(n).trim():"",this._ariaDescribedBy&&!this._isTooltipVisible()&&this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this._ariaDescribedBy,"tooltip")})})}get content(){return this._content}set content(n){this._content=n,!this._content&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipContent())}constructor(){this._tooltipDirective=w(cB,{optional:!0}),this._tooltipComponent=Cee,this._cssClassPrefix="brn",this._destroyed=new de,this._passiveListeners=[],this._defaultOptions=w(Mee,{optional:!0}),this._overlay=w(sl),this._elementRef=w(Ze),this._scrollDispatcher=w(G2),this._viewContainerRef=w(kn),this._ngZone=w(Me),this._platform=w(Nr),this._ariaDescriber=w(jQ),this._focusMonitor=w($D),this._dir=w(Na),this._scrollStrategy=w(uB),this._document=w(Ae),this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._overlayRef=null,this._tooltipInstance=null,this._position=xe("above"),this._positionAtOrigin=xe(!1),this._disabled=xe(!1),this._showDelay=xe(0),this._hideDelay=xe(0),this._exitAnimationDuration=xe(0),this._tooltipContentClasses=xe(""),this._touchGestures=xe("auto"),this._ariaDescribedBy="",this._content=null,this._defaultOptions&&(this._showDelay.set(this._defaultOptions.showDelay),this._hideDelay.set(this._defaultOptions.hideDelay),this._defaultOptions.position&&(this.position=this._defaultOptions.position),this._defaultOptions.positionAtOrigin&&(this.positionAtOrigin=this._defaultOptions.positionAtOrigin),this._defaultOptions.touchGestures&&(this.touchGestures=this._defaultOptions.touchGestures)),this._dir.change.pipe(qe(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=Iee,this._tooltipDirective&&Pn(()=>{this._tooltipDirective&&(this.content=this._tooltipDirective.tooltipTemplate())})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(qe(this._destroyed)).subscribe(n=>{n?n==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))}),BX&&!this._ariaDescribedBy&&console.warn('BrnTooltip: "aria-describedby" attribute is required for accessibility')}ngOnDestroy(){const n=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,s])=>n.removeEventListener(i,s,E1)),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(n,this._ariaDescribedBy,"tooltip"),this._focusMonitor.stopMonitoring(n)}show(n=this.showDelay,i){if(this.disabled||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}const s=this._createOverlay(i);this._detach(),this._portal=this._portal||new vg(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=s.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay(),o._tooltipClasses.set(this._tooltipContentClasses()),o._exitAnimationDuration=this._exitAnimationDuration(),o.side.set(this._currentPosition??"above"),o.afterHidden.pipe(qe(this._destroyed)).subscribe(()=>this._detach()),this._updateTooltipContent(),o.show(n)}hide(n=this.hideDelay,i=this.exitAnimationDuration){const s=this._tooltipInstance;s&&(s.isVisible()?s.hide(n,i):(s._cancelPendingAnimations(),this._detach()))}toggle(n){this._isTooltipVisible()?this.hide():this.show(void 0,n)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(n){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!n)&&o._origin instanceof Ze)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),s=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?n||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return s.positionChanges.pipe(qe(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:s,panelClass:`${this._cssClassPrefix}-${See}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(qe(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(qe(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(qe(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&o.key==="Escape"&&!Zn(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef?.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(n){const i=n.getConfig().positionStrategy,s=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...s.main,...o.main}),this._addOffset({...s.fallback,...o.fallback})])}_addOffset(n){const i=xee,s=!this._dir||this._dir.value==="ltr";return n.originY==="top"?n.offsetY=-i:n.originY==="bottom"?n.offsetY=i:n.originX==="start"?n.offsetX=s?-i:i:n.originX==="end"&&(n.offsetX=s?i:-i),n}_getOrigin(){const n=!this._dir||this._dir.value==="ltr",i=this.position;let s;if(i==="above"||i==="below")s={originX:"center",originY:i==="above"?"top":"bottom"};else if(i==="before"||i==="left"&&n||i==="right"&&!n)s={originX:"start",originY:"center"};else if(i==="after"||i==="right"&&n||i==="left"&&!n)s={originX:"end",originY:"center"};else if(typeof pf()>"u"||pf())throw C1(i);const{x:o,y:a}=this._invertPosition(s.originX,s.originY);return{main:s,fallback:{originX:o,originY:a}}}_getOverlayPosition(){const n=!this._dir||this._dir.value==="ltr",i=this.position;let s;if(i==="above")s={overlayX:"center",overlayY:"bottom"};else if(i==="below")s={overlayX:"center",overlayY:"top"};else if(i==="before"||i==="left"&&n||i==="right"&&!n)s={overlayX:"end",overlayY:"center"};else if(i==="after"||i==="right"&&n||i==="left"&&!n)s={overlayX:"start",overlayY:"center"};else if(typeof pf()>"u"||pf())throw C1(i);const{x:o,y:a}=this._invertPosition(s.overlayX,s.overlayY);return{main:s,fallback:{overlayX:o,overlayY:a}}}_updateTooltipContent(){this._tooltipInstance&&(this._tooltipInstance.content=this.content,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Dr(1),qe(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef?.updatePosition()}))}_invertPosition(n,i){return this.position==="above"||this.position==="below"?i==="top"?i="bottom":i==="bottom"&&(i="top"):n==="end"?n="start":n==="start"&&(n="end"),{x:n,y:i}}_updateCurrentPositionClass(n){const{overlayY:i,originX:s,originY:o}=n;let a;i==="center"?this._dir&&this._dir.value==="rtl"?a=s==="end"?"left":"right":a=s==="start"?"left":"right":a=i==="bottom"&&o==="top"?"above":"below",a!==this._currentPosition&&(this._tooltipInstance?.side.set(a),this._currentPosition=a)}_setupPointerEnterEventsIfNeeded(){this._disabled()||!this.content||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",n=>{this._setupPointerExitEventsIfNeeded();let i;n.x!==void 0&&n.y!==void 0&&(i=n),this.show(void 0,i)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",n=>{const i=n.targetTouches?.[0],s=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,s),Tee)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const n=[];if(this._platformSupportsMouseEvents())n.push(["mouseleave",i=>{const s=i.relatedTarget;(!s||!this._overlayRef?.overlayElement.contains(s))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};n.push(["touchend",i],["touchcancel",i])}this._addListeners(n),this._passiveListeners.push(...n)}_addListeners(n){n.forEach(([i,s])=>{this._elementRef.nativeElement.addEventListener(i,s,E1)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(n){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(n.clientX,n.clientY),s=this._elementRef.nativeElement;i!==s&&!s.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const n=this.touchGestures;if(n!=="off"){const i=this._elementRef.nativeElement,s=i.style;(n==="on"||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA")&&(s.userSelect=s.msUserSelect=s.webkitUserSelect=s.MozUserSelect="none"),(n==="on"||!i.draggable)&&(s.webkitUserDrag="none"),s.touchAction="none",s.webkitTapHighlightColor="transparent"}}};e.ɵfac=function(i){return new(i||e)},e.ɵdir=W({type:e,selectors:[["","brnTooltipTrigger",""]],hostAttrs:[1,"brn-tooltip-trigger"],hostVars:2,hostBindings:function(i,s){i&2&&xs("brn-tooltip-disabled",s.disabled)},inputs:{position:"position",positionAtOrigin:[2,"positionAtOrigin","positionAtOrigin",At],disabled:[2,"brnTooltipDisabled","disabled",At],showDelay:[2,"showDelay","showDelay",ap],hideDelay:[2,"hideDelay","hideDelay",ap],exitAnimationDuration:[2,"exitAnimationDuration","exitAnimationDuration",ap],tooltipContentClasses:"tooltipContentClasses",touchGestures:"touchGestures",ariaDescribedBy:[0,"aria-describedby","ariaDescribedBy"],content:[0,"brnTooltipTrigger","content"]},exportAs:["brnTooltipTrigger"],standalone:!0,features:[Pe([Dee]),Lo]});let t=e;return t})();function Aee(t,e){}class Y_{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let Oee=(()=>{const e=class e extends LD{constructor(n,i,s,o,a,l,c,u){super(),this._elementRef=n,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=a,this._ngZone=l,this._overlayRef=c,this._focusMonitor=u,this._platform=w(Nr),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=w(As),this._injector=w(tt),this._isDestroyed=!1,this.attachDomPortal=d=>{this._portalOutlet.hasAttached();const h=this._portalOutlet.attachDomPortal(d);return this._contentAttached(),h},this._document=s,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(n){this._ariaLabelledByQueue.push(n),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(n){const i=this._ariaLabelledByQueue.indexOf(n);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(n){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(n);return this._contentAttached(),i}attachTemplatePortal(n){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(n);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(n,i){this._interactivityChecker.isFocusable(n)||(n.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const s=()=>{n.removeEventListener("blur",s),n.removeEventListener("mousedown",s),n.removeAttribute("tabindex")};n.addEventListener("blur",s),n.addEventListener("mousedown",s)})),n.focus(i)}_focusByCssSelector(n,i){let s=this._elementRef.nativeElement.querySelector(n);s&&this._forceFocus(s,i)}_trapFocus(){this._isDestroyed||Eh(()=>{const n=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||n.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){const n=this._config.restoreFocus;let i=null;if(typeof n=="string"?i=this._document.querySelector(n):typeof n=="boolean"?i=n?this._elementFocusedBeforeDialogWasOpened:null:n&&(i=n),this._config.restoreFocus&&i&&typeof i.focus=="function"){const s=Pb(),o=this._elementRef.nativeElement;(!s||s===this._document.body||s===o||o.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const n=this._elementRef.nativeElement,i=Pb();return n===i||n.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Pb()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};e.ɵfac=function(i){return new(i||e)(O(Ze),O(ree),O(Ae,8),O(Y_),O(iB),O(Me),O(HD),O($D))},e.ɵcmp=Oo({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(i,s){if(i&1&&zy(l1,7),i&2){let o;nl(o=rl())&&(s._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,s){i&2&&dt("id",s._config.id||null)("role",s._config.role)("aria-modal",s._config.ariaModal)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null)},standalone:!0,features:[Te,Fo],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,s){i&1&&Py(0,Aee,0,0,"ng-template",0)},dependencies:[l1],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let t=e;return t})();class Bb{constructor(e,r){this.overlayRef=e,this.config=r,this.closed=new de,this.disableClose=r.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=r.id,this.keydownEvents.subscribe(n=>{n.keyCode===Z2&&!this.disableClose&&!Zn(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{r.closeOnOverlayDetachments!==!1&&this.close()})}close(e,r){if(this.containerInstance){const n=this.closed;this.containerInstance._closeInteractionType=r?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(e),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",r=""){return this.overlayRef.updateSize({width:e,height:r}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const Ree=new A("DialogScrollStrategy",{providedIn:"root",factory:()=>{const t=w(sl);return()=>t.scrollStrategies.block()}}),dB=new A("DialogData"),Nee=new A("DefaultDialogConfig");let Pee=0,Lee=(()=>{const e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(n,i,s,o,a,l){this._overlay=n,this._injector=i,this._defaultOptions=s,this._parentDialog=o,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new de,this._afterOpenedAtThisLevel=new de,this._ariaHiddenElements=new Map,this.afterAllClosed=fd(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(cc(void 0))),this._scrollStrategy=l}open(n,i){i={...this._defaultOptions||new Y_,...i},i.id=i.id||`cdk-dialog-${Pee++}`,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),a=this._overlay.create(o),l=new Bb(a,i),c=this._attachContainer(a,l,i);return l.containerInstance=c,this._attachDialogContent(n,l,c,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){Vb(this.openDialogs,n=>n.close())}getDialogById(n){return this.openDialogs.find(i=>i.id===n)}ngOnDestroy(){Vb(this._openDialogsAtThisLevel,n=>{n.config.closeOnDestroy===!1&&this._removeOpenDialog(n,!1)}),Vb(this._openDialogsAtThisLevel,n=>n.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(n){const i=new BD({positionStrategy:n.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:n.scrollStrategy||this._scrollStrategy(),panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,direction:n.direction,minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight,width:n.width,height:n.height,disposeOnNavigation:n.closeOnNavigation});return n.backdropClass&&(i.backdropClass=n.backdropClass),i}_attachContainer(n,i,s){const o=s.injector||s.viewContainerRef?.injector,a=[{provide:Y_,useValue:s},{provide:Bb,useValue:i},{provide:HD,useValue:n}];let l;s.container?typeof s.container=="function"?l=s.container:(l=s.container.type,a.push(...s.container.providers(s))):l=Oee;const c=new vg(l,s.viewContainerRef,tt.create({parent:o||this._injector,providers:a}),s.componentFactoryResolver);return n.attach(c).instance}_attachDialogContent(n,i,s,o){if(n instanceof Tr){const a=this._createInjector(o,i,s,void 0);let l={$implicit:o.data,dialogRef:i};o.templateContext&&(l={...l,...typeof o.templateContext=="function"?o.templateContext():o.templateContext}),s.attachTemplatePortal(new PD(n,null,l,a))}else{const a=this._createInjector(o,i,s,this._injector),l=s.attachComponentPortal(new vg(n,o.viewContainerRef,a,o.componentFactoryResolver));i.componentRef=l,i.componentInstance=l.instance}}_createInjector(n,i,s,o){const a=n.injector||n.viewContainerRef?.injector,l=[{provide:dB,useValue:n.data},{provide:Bb,useValue:i}];return n.providers&&(typeof n.providers=="function"?l.push(...n.providers(i,n,s)):l.push(...n.providers)),n.direction&&(!a||!a.get(Na,null,{optional:!0}))&&l.push({provide:Na,useValue:{value:n.direction,change:J()}}),tt.create({parent:a||o,providers:l})}_removeOpenDialog(n,i){const s=this.openDialogs.indexOf(n);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const n=this._overlayContainer.getContainerElement();if(n.parentElement){const i=n.parentElement.children;for(let s=i.length-1;s>-1;s--){const o=i[s];o!==n&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}};e.ɵfac=function(i){return new(i||e)(I(sl),I(tt),I(Nee,8),I(e,12),I(VD),I(Ree))},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();function Vb(t,e){let r=t.length;for(;r--;)e(t[r])}const Fee=["*"];let Bee=0;const Cg=(t,e="")=>{if(typeof t=="string"){const r=t.trim().split(" ");return r.length===0?[e]:r}return t??[]},ume=(t={})=>w(dB,t);let Vee=(()=>{const e=class e{constructor(){this._cdkDialog=w(Lee),this._rendererFactory=w(Iy),this._renderer=this._rendererFactory.createRenderer(null,null),this._positionBuilder=w(jD),this._sso=w(FD),this._injector=w(tt)}open(n,i,s,o){if(o?.id&&this._cdkDialog.getDialogById(o.id))throw new Error(`Dialog with ID: ${o.id} already exists`);const a=o?.positionStrategy??(o?.attachTo&&o?.attachPositions&&o?.attachPositions?.length>0?this._positionBuilder?.flexibleConnectedTo(o.attachTo).withPositions(o.attachPositions??[]):this._positionBuilder.global().centerHorizontally().centerVertically());let l,c;const u={...s,close:(v=void 0)=>l.close(v,o?.closeDelay)},d=new de,h=xe(!0),f=_t(()=>h()?"open":"closed"),p=Bee++,g=this._cdkDialog.open(n,{id:o?.id??`brn-dialog-${p}`,role:o?.role,viewContainerRef:i,templateContext:()=>({$implicit:u}),data:u,hasBackdrop:o?.hasBackdrop,panelClass:Cg(o?.panelClass),backdropClass:Cg(o?.backdropClass,"bg-transparent"),positionStrategy:a,scrollStrategy:o?.scrollStrategy??this._sso?.block(),restoreFocus:o?.restoreFocus,disableClose:!0,autoFocus:o?.autoFocus??"first-tabbable",ariaDescribedBy:o?.ariaDescribedBy??`brn-dialog-description-${p}`,ariaLabelledBy:o?.ariaLabelledBy??`brn-dialog-title-${p}`,ariaLabel:o?.ariaLabel,ariaModal:o?.ariaModal,providers:v=>{l=new Pa(v,h,f,p,o),Fn(this._injector,()=>{c=Pn(()=>{m&&this._renderer.setAttribute(m,"data-state",f()),y&&this._renderer.setAttribute(y,"data-state",f())})});const b=[{provide:Pa,useValue:l}];return o?.providers&&(typeof o.providers=="function"&&b.push(...o.providers()),Array.isArray(o.providers)&&b.push(...o.providers)),b}}),m=g.overlayRef.overlayElement,y=g.overlayRef.backdropElement;return o?.closeOnOutsidePointerEvents&&g.outsidePointerEvents.pipe(qe(d)).subscribe(()=>{l.close(void 0,o?.closeDelay)}),o?.closeOnBackdropClick&&g.backdropClick.pipe(qe(d)).subscribe(()=>{l.close(void 0,o?.closeDelay)}),o?.disableClose||g.keydownEvents.pipe(Zt(v=>v.key==="Escape"),qe(d)).subscribe(()=>{l.close(void 0,o?.closeDelay)}),g.closed.pipe(qe(d)).subscribe(()=>{c?.destroy(),d.next()}),l}};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();class Pa{get open(){return this.state()==="open"}constructor(e,r,n,i,s){this._cdkDialogRef=e,this._open=r,this.state=n,this.dialogId=i,this._options=s,this._closing$=new de,this.closing$=this._closing$.asObservable(),this.closed$=this._cdkDialogRef.closed.pipe(Dr(1))}close(e,r=this._options?.closeDelay??0){!this.open||this._options?.disableClose||(this._closing$.next(),this._open.set(!1),this._previousTimeout&&clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._cdkDialogRef.close(e)},r))}setPanelClass(e){this._cdkDialogRef.config.panelClass=Cg(e)}setOverlayClass(e){this._cdkDialogRef.config.backdropClass=Cg(e)}setAriaDescribedBy(e){this._cdkDialogRef.config.ariaDescribedBy=e}setAriaLabelledBy(e){this._cdkDialogRef.config.ariaLabelledBy=e}setAriaLabel(e){this._cdkDialogRef.config.ariaLabel=e}}let dme=(()=>{const e=class e{constructor(){this._brnDialogRef=w(Pa)}set delay(n){this._delay=XX(n)}close(){this._brnDialogRef.close(void 0,this._delay)}};e.ɵfac=function(i){return new(i||e)},e.ɵdir=W({type:e,selectors:[["button","brnDialogClose",""]],hostBindings:function(i,s){i&1&&kt("click",function(){return s.close()})},inputs:{delay:"delay"},standalone:!0});let t=e;return t})();const Hee={role:"dialog",attachPositions:[],attachTo:null,autoFocus:"first-tabbable",backdropClass:"",closeDelay:0,closeOnBackdropClick:!0,closeOnOutsidePointerEvents:!1,hasBackdrop:!0,panelClass:"",positionStrategy:null,restoreFocus:!0,scrollStrategy:null,disableClose:!1,ariaLabel:void 0,ariaModal:!0};let YD=(()=>{const e=class e{constructor(){this._dialogService=w(Vee),this._vcr=w(kn),this.positionBuilder=w(jD),this.ssos=w(FD),this._injector=w(tt),this._context={},this._options={...Hee},this._dialogRef=xe(void 0),this.state=_t(()=>this._dialogRef()?.state()??"closed"),this.closed=new Ne,this.stateChanged=new Ne}set newState(n){n==="open"&&this.open(),n==="closed"&&this.close(this._options.closeDelay)}set role(n){this._options.role=n}set hasBackdrop(n){this._options.hasBackdrop=n}set positionStrategy(n){this._options.positionStrategy=n}set scrollStrategy(n){n==="close"?this._options.scrollStrategy=this.ssos.close():n==="reposition"?this._options.scrollStrategy=this.ssos.reposition():this._options.scrollStrategy=n}set restoreFocus(n){this._options.restoreFocus=n}set closeOnOutsidePointerEvents(n){this._options.closeOnOutsidePointerEvents=n}set closeOnBackdropClick(n){this._options.closeOnBackdropClick=n}set attachTo(n){this._options.attachTo=n}set attachPositions(n){this._options.attachPositions=n}set autoFocus(n){this._options.autoFocus=n}set closeDelay(n){this._options.closeDelay=n}set disableClose(n){this._options.disableClose=n}set ariaDescribedBy(n){this.setAriaDescribedBy(n)}set ariaLabelledBy(n){this.setAriaLabelledBy(n)}set ariaLabel(n){this.setAriaLabel(n)}set ariaModal(n){this.setAriaModal(n)}open(){if(!this._contentTemplate||this._dialogRef())return;this._dialogStateEffectRef?.destroy();const n=this._dialogService.open(this._contentTemplate,this._vcr,this._context,this._options);this._dialogRef.set(n),Fn(this._injector,()=>{this._dialogStateEffectRef=Pn(()=>this.stateChanged.emit(n.state()))}),n.closed$.pipe(Dr(1)).subscribe(i=>{this._dialogRef.set(void 0),this.closed.emit(i)})}close(n,i){this._dialogRef()?.close(n,i??this._options.closeDelay)}registerTemplate(n){this._contentTemplate=n}setOverlayClass(n){this._options.backdropClass=n??"",this._dialogRef()?.setOverlayClass(n)}setPanelClass(n){this._options.panelClass=n??"",this._dialogRef()?.setPanelClass(n)}setContext(n){this._context={...this._context,...n}}setAriaDescribedBy(n){this._options={...this._options,ariaDescribedBy:n},this._dialogRef()?.setAriaDescribedBy(n)}setAriaLabelledBy(n){this._options={...this._options,ariaLabelledBy:n},this._dialogRef()?.setAriaLabelledBy(n)}setAriaLabel(n){this._options={...this._options,ariaLabel:n},this._dialogRef()?.setAriaLabel(n)}setAriaModal(n){this._options={...this._options,ariaModal:n}}};e.ɵfac=function(i){return new(i||e)},e.ɵcmp=Oo({type:e,selectors:[["brn-dialog"]],inputs:{newState:[0,"state","newState"],role:"role",hasBackdrop:[2,"hasBackdrop","hasBackdrop",At],positionStrategy:"positionStrategy",scrollStrategy:"scrollStrategy",restoreFocus:"restoreFocus",closeOnOutsidePointerEvents:[2,"closeOnOutsidePointerEvents","closeOnOutsidePointerEvents",At],closeOnBackdropClick:[2,"closeOnBackdropClick","closeOnBackdropClick",At],attachTo:"attachTo",attachPositions:"attachPositions",autoFocus:"autoFocus",closeDelay:[2,"closeDelay","closeDelay",ap],disableClose:[2,"disableClose","disableClose",At],ariaDescribedBy:[0,"aria-describedby","ariaDescribedBy"],ariaLabelledBy:[0,"aria-labelledby","ariaLabelledBy"],ariaLabel:[0,"aria-label","ariaLabel"],ariaModal:[2,"aria-modal","ariaModal",At]},outputs:{closed:"closed",stateChanged:"stateChanged"},exportAs:["brnDialog"],standalone:!0,features:[Lo,Fo],ngContentSelectors:Fee,decls:1,vars:0,template:function(i,s){i&1&&(YE(),JE(0))},encapsulation:2,changeDetection:0});let t=e;return t})(),hme=(()=>{const e=class e{constructor(){this._brnDialog=w(YD,{optional:!0}),this._brnDialogRef=w(Pa,{optional:!0}),this._template=w(Tr),this.state=_t(()=>this._brnDialog?.state()??this._brnDialogRef?.state()??"closed"),this._brnDialog&&this._brnDialog.registerTemplate(this._template)}set class(n){this._brnDialog&&this._brnDialog.setPanelClass(n)}set context(n){this._brnDialog&&this._brnDialog.setContext(n)}};e.ɵfac=function(i){return new(i||e)},e.ɵdir=W({type:e,selectors:[["","brnDialogContent",""]],inputs:{class:"class",context:"context"},standalone:!0,features:[Pe([VX(()=>e)])]});let t=e;return t})(),fme=(()=>{const e=class e{constructor(){this._brnDialogRef=w(Pa),this._id=xe(`brn-dialog-description-${this._brnDialogRef?.dialogId}`),Pn(()=>{this._brnDialogRef.setAriaDescribedBy(this._id())})}};e.ɵfac=function(i){return new(i||e)},e.ɵdir=W({type:e,selectors:[["","brnDialogDescription",""]],hostVars:1,hostBindings:function(i,s){i&2&&Zi("id",s._id())},standalone:!0});let t=e;return t})(),pme=(()=>{const e=class e{constructor(){this._brnDialog=w(YD)}set class(n){this._brnDialog.setOverlayClass(n)}setClassToCustomElement(n){this._brnDialog.setOverlayClass(n)}};e.ɵfac=function(i){return new(i||e)},e.ɵcmp=Oo({type:e,selectors:[["brn-dialog-overlay"]],inputs:{class:"class"},standalone:!0,features:[Pe([FX(()=>e)]),Fo],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0});let t=e;return t})(),gme=(()=>{const e=class e{constructor(){this._brnDialogRef=w(Pa),this._id=xe(`brn-dialog-title-${this._brnDialogRef?.dialogId}`),Pn(()=>{this._brnDialogRef.setAriaLabelledBy(this._id())})}};e.ɵfac=function(i){return new(i||e)},e.ɵdir=W({type:e,selectors:[["","brnDialogTitle",""]],hostVars:1,hostBindings:function(i,s){i&2&&Zi("id",s._id())},standalone:!0});let t=e;return t})(),D1=0,mme=(()=>{const e=class e{constructor(){this._brnDialog=w(YD,{optional:!0}),this._brnDialogRef=w(Pa,{optional:!0}),this.id=Sn(`brn-dialog-trigger-${D1++}`),this.state=this._brnDialogRef?.state??xe("closed"),this.dialogId=`brn-dialog-${this._brnDialogRef?.dialogId??D1++}`}set brnDialogTriggerFor(n){this._brnDialog=n}open(){this._brnDialog?.open()}};e.ɵfac=function(i){return new(i||e)},e.ɵdir=W({type:e,selectors:[["button","brnDialogTrigger",""],["button","brnDialogTriggerFor",""]],hostAttrs:["aria-haspopup","dialog"],hostVars:4,hostBindings:function(i,s){i&1&&kt("click",function(){return s.open()}),i&2&&(Zi("id",s.id()),dt("aria-expanded",s.state()==="open"?"true":"false")("data-state",s.state())("aria-controls",s.dialogId))},inputs:{id:[1,"id"],brnDialogTriggerFor:"brnDialogTriggerFor"},exportAs:["brnDialogTrigger"],standalone:!0});let t=e;return t})();/**
 * @license Angular v18.2.0
 * (c) 2010-2024 Google LLC. https://angular.io/
 * License: MIT
 */let hB=(()=>{const e=class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};e.ɵfac=function(i){return new(i||e)(O(ai),O(Ze))},e.ɵdir=W({type:e});let t=e;return t})(),ol=(()=>{const e=class e extends hB{};e.ɵfac=(()=>{let n;return function(s){return(n||(n=wt(e)))(s||e)}})(),e.ɵdir=W({type:e,features:[Te]});let t=e;return t})();const di=new A(""),jee={provide:di,useExisting:Ye(()=>J_),multi:!0};let J_=(()=>{const e=class e extends ol{writeValue(n){this.setProperty("checked",n)}};e.ɵfac=(()=>{let n;return function(s){return(n||(n=wt(e)))(s||e)}})(),e.ɵdir=W({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,s){i&1&&kt("change",function(a){return s.onChange(a.target.checked)})("blur",function(){return s.onTouched()})},features:[Pe([jee]),Te]});let t=e;return t})();const Uee={provide:di,useExisting:Ye(()=>Eg),multi:!0};function $ee(){const t=ua()?ua().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}const zee=new A("");let Eg=(()=>{const e=class e extends hB{constructor(n,i,s){super(n,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!$ee())}writeValue(n){const i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};e.ɵfac=function(i){return new(i||e)(O(ai),O(Ze),O(zee,8))},e.ɵdir=W({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&kt("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Pe([Uee]),Te]});let t=e;return t})();function wo(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function fB(t){return t!=null&&typeof t.length=="number"}const hn=new A(""),jo=new A(""),Wee=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class yme{static min(e){return pB(e)}static max(e){return gB(e)}static required(e){return mB(e)}static requiredTrue(e){return yB(e)}static email(e){return vB(e)}static minLength(e){return bB(e)}static maxLength(e){return wB(e)}static pattern(e){return _B(e)}static nullValidator(e){return Dg()}static compose(e){return SB(e)}static composeAsync(e){return TB(e)}}function pB(t){return e=>{if(wo(e.value)||wo(t))return null;const r=parseFloat(e.value);return!isNaN(r)&&r<t?{min:{min:t,actual:e.value}}:null}}function gB(t){return e=>{if(wo(e.value)||wo(t))return null;const r=parseFloat(e.value);return!isNaN(r)&&r>t?{max:{max:t,actual:e.value}}:null}}function mB(t){return wo(t.value)?{required:!0}:null}function yB(t){return t.value===!0?null:{required:!0}}function vB(t){return wo(t.value)||Wee.test(t.value)?null:{email:!0}}function bB(t){return e=>wo(e.value)||!fB(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function wB(t){return e=>fB(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function _B(t){if(!t)return Dg;let e,r;return typeof t=="string"?(r="",t.charAt(0)!=="^"&&(r+="^"),r+=t,t.charAt(t.length-1)!=="$"&&(r+="$"),e=new RegExp(r)):(r=t.toString(),e=t),n=>{if(wo(n.value))return null;const i=n.value;return e.test(i)?null:{pattern:{requiredPattern:r,actualValue:i}}}}function Dg(t){return null}function CB(t){return t!=null}function EB(t){return Ah(t)?bt(t):t}function DB(t){let e={};return t.forEach(r=>{e=r!=null?{...e,...r}:e}),Object.keys(e).length===0?null:e}function kB(t,e){return e.map(r=>r(t))}function Gee(t){return!t.validate}function MB(t){return t.map(e=>Gee(e)?e:r=>e.validate(r))}function SB(t){if(!t)return null;const e=t.filter(CB);return e.length==0?null:function(r){return DB(kB(r,e))}}function JD(t){return t!=null?SB(MB(t)):null}function TB(t){if(!t)return null;const e=t.filter(CB);return e.length==0?null:function(r){const n=kB(r,e).map(EB);return tO(n).pipe(ke(DB))}}function XD(t){return t!=null?TB(MB(t)):null}function k1(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function IB(t){return t._rawValidators}function xB(t){return t._rawAsyncValidators}function X_(t){return t?Array.isArray(t)?t:[t]:[]}function kg(t,e){return Array.isArray(t)?t.includes(e):t===e}function M1(t,e){const r=X_(e);return X_(t).forEach(i=>{kg(r,i)||r.push(i)}),r}function S1(t,e){return X_(e).filter(r=>!kg(t,r))}class AB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=JD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=XD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,r){return this.control?this.control.hasError(e,r):!1}getError(e,r){return this.control?this.control.getError(e,r):null}}class bn extends AB{get formDirective(){return null}get path(){return null}}class Uo extends AB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class OB{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let T1=(()=>{const e=class e extends OB{constructor(n){super(n)}};e.ɵfac=function(i){return new(i||e)(O(Uo,2))},e.ɵdir=W({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&xs("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Te]});let t=e;return t})(),I1=(()=>{const e=class e extends OB{constructor(n){super(n)}};e.ɵfac=function(i){return new(i||e)(O(bn,10))},e.ɵdir=W({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&xs("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Te]});let t=e;return t})();const bu="VALID",Mf="INVALID",_l="PENDING",wu="DISABLED";class ou{}class x1 extends ou{constructor(e,r){super(),this.value=e,this.source=r}}class Hb extends ou{constructor(e,r){super(),this.pristine=e,this.source=r}}class jb extends ou{constructor(e,r){super(),this.touched=e,this.source=r}}class Sf extends ou{constructor(e,r){super(),this.status=e,this.source=r}}class qee extends ou{constructor(e){super(),this.source=e}}class Kee extends ou{constructor(e){super(),this.source=e}}function QD(t){return(rv(t)?t.validators:t)||null}function Zee(t){return Array.isArray(t)?JD(t):t||null}function ek(t,e){return(rv(e)?e.asyncValidators:t)||null}function Yee(t){return Array.isArray(t)?XD(t):t||null}function rv(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function RB(t,e,r){const n=t.controls;if(!(e?Object.keys(n):n).length)throw new z(1e3,"");if(!n[r])throw new z(1001,"")}function NB(t,e,r){t._forEachChild((n,i)=>{if(r[i]===void 0)throw new z(1002,"")})}class iv{constructor(e,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=_t(()=>this.statusReactive()),this.statusReactive=xe(void 0),this._pristine=_t(()=>this.pristineReactive()),this.pristineReactive=xe(!0),this._touched=_t(()=>this.touchedReactive()),this.touchedReactive=xe(!1),this._events=new de,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Hr(this.statusReactive)}set status(e){Hr(()=>this.statusReactive.set(e))}get valid(){return this.status===bu}get invalid(){return this.status===Mf}get pending(){return this.status==_l}get disabled(){return this.status===wu}get enabled(){return this.status!==wu}get pristine(){return Hr(this.pristineReactive)}set pristine(e){Hr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Hr(this.touchedReactive)}set touched(e){Hr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(M1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(M1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(S1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(S1(e,this._rawAsyncValidators))}hasValidator(e){return kg(this._rawValidators,e)}hasAsyncValidator(e){return kg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){const r=this.touched===!1;this.touched=!0;const n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched({...e,sourceControl:n}),r&&e.emitEvent!==!1&&this._events.next(new jb(!0,n))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(r=>r.markAllAsTouched(e))}markAsUntouched(e={}){const r=this.touched===!0;this.touched=!1,this._pendingTouched=!1;const n=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:n})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n),r&&e.emitEvent!==!1&&this._events.next(new jb(!1,n))}markAsDirty(e={}){const r=this.pristine===!0;this.pristine=!1;const n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty({...e,sourceControl:n}),r&&e.emitEvent!==!1&&this._events.next(new Hb(!1,n))}markAsPristine(e={}){const r=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;const n=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),r&&e.emitEvent!==!1&&this._events.next(new Hb(!0,n))}markAsPending(e={}){this.status=_l;const r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sf(this.status,r)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending({...e,sourceControl:r})}disable(e={}){const r=this._parentMarkedDirty(e.onlySelf);this.status=wu,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue();const n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new x1(this.value,n)),this._events.next(new Sf(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:r},this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const r=this._parentMarkedDirty(e.onlySelf);this.status=bu,this._forEachChild(n=>{n.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:r},this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e,r){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},r),this._parent._updateTouched({},r))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bu||this.status===_l)&&this._runAsyncValidator(n,e.emitEvent)}const r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new x1(this.value,r)),this._events.next(new Sf(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity({...e,sourceControl:r})}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wu:bu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,r){if(this.asyncValidator){this.status=_l,this._hasOwnPendingAsyncValidator={emitEvent:r!==!1};const n=EB(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:r,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,r={}){this.errors=e,this._updateControlsErrors(r.emitEvent!==!1,this,r.shouldHaveEmitted)}get(e){let r=e;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((n,i)=>n&&n._find(i),this)}getError(e,r){const n=r?this.get(r):this;return n&&n.errors?n.errors[e]:null}hasError(e,r){return!!this.getError(e,r)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,r,n){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||n)&&this._events.next(new Sf(this.status,r)),this._parent&&this._parent._updateControlsErrors(e,r,n)}_initObservables(){this.valueChanges=new Ne,this.statusChanges=new Ne}_calculateStatus(){return this._allControlsDisabled()?wu:this.errors?Mf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_l)?_l:this._anyControlsHaveStatus(Mf)?Mf:bu}_anyControlsHaveStatus(e){return this._anyControls(r=>r.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,r){const n=!this._anyControlsDirty(),i=this.pristine!==n;this.pristine=n,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),i&&this._events.next(new Hb(this.pristine,r))}_updateTouched(e={},r){this.touched=this._anyControlsTouched(),this._events.next(new jb(this.touched,r)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){rv(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){const r=this._parent&&this._parent.dirty;return!e&&!!r&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Zee(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Yee(this._rawAsyncValidators)}}class Mg extends iv{constructor(e,r,n){super(QD(r),ek(n,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,r){return this.controls[e]?this.controls[e]:(this.controls[e]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(e,r,n={}){this.registerControl(e,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(e,r,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],r&&this.registerControl(e,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,r={}){NB(this,!0,e),Object.keys(e).forEach(n=>{RB(this,!0,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){e!=null&&(Object.keys(e).forEach(n=>{const i=this.controls[n];i&&i.patchValue(e[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e={},r={}){this._forEachChild((n,i)=>{n.reset(e?e[i]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r,this),this._updateTouched(r,this),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(e,r,n)=>(e[n]=r.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(r,n)=>n._syncPendingControls()?!0:r);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(r=>{const n=this.controls[r];n&&e(n,r)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[r,n]of Object.entries(this.controls))if(this.contains(r)&&e(n))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(r,n,i)=>((n.enabled||this.disabled)&&(r[i]=n.value),r))}_reduceChildren(e,r){let n=e;return this._forEachChild((i,s)=>{n=r(n,i,s)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Jee extends Mg{}const al=new A("CallSetDisabledState",{providedIn:"root",factory:()=>jh}),jh="always";function sv(t,e){return[...e.path,t]}function Rd(t,e,r=jh){tk(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||r==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Qee(t,e),tte(t,e),ete(t,e),Xee(t,e)}function Sg(t,e,r=!0){const n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),Ig(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Tg(t,e){t.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(e)})}function Xee(t,e){if(e.valueAccessor.setDisabledState){const r=n=>{e.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(r),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(r)})}}function tk(t,e){const r=IB(t);e.validator!==null?t.setValidators(k1(r,e.validator)):typeof r=="function"&&t.setValidators([r]);const n=xB(t);e.asyncValidator!==null?t.setAsyncValidators(k1(n,e.asyncValidator)):typeof n=="function"&&t.setAsyncValidators([n]);const i=()=>t.updateValueAndValidity();Tg(e._rawValidators,i),Tg(e._rawAsyncValidators,i)}function Ig(t,e){let r=!1;if(t!==null){if(e.validator!==null){const i=IB(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(r=!0,t.setValidators(s))}}if(e.asyncValidator!==null){const i=xB(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(r=!0,t.setAsyncValidators(s))}}}const n=()=>{};return Tg(e._rawValidators,n),Tg(e._rawAsyncValidators,n),r}function Qee(t,e){e.valueAccessor.registerOnChange(r=>{t._pendingValue=r,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&PB(t,e)})}function ete(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&PB(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function PB(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function tte(t,e){const r=(n,i)=>{e.valueAccessor.writeValue(n),i&&e.viewToModelUpdate(n)};t.registerOnChange(r),e._registerOnDestroy(()=>{t._unregisterOnChange(r)})}function LB(t,e){t==null,tk(t,e)}function nte(t,e){return Ig(t,e)}function nk(t,e){if(!t.hasOwnProperty("model"))return!1;const r=t.model;return r.isFirstChange()?!0:!Object.is(e,r.currentValue)}function rte(t){return Object.getPrototypeOf(t.constructor)===ol}function FB(t,e){t._syncPendingControls(),e.forEach(r=>{const n=r.control;n.updateOn==="submit"&&n._pendingChange&&(r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function rk(t,e){if(!e)return null;Array.isArray(e);let r,n,i;return e.forEach(s=>{s.constructor===Eg?r=s:rte(s)?n=s:i=s}),i||n||r||null}function ite(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const ste={provide:bn,useExisting:Ye(()=>xg)},_u=Promise.resolve();let xg=(()=>{const e=class e extends bn{get submitted(){return Hr(this.submittedReactive)}constructor(n,i,s){super(),this.callSetDisabledState=s,this._submitted=_t(()=>this.submittedReactive()),this.submittedReactive=xe(!1),this._directives=new Set,this.ngSubmit=new Ne,this.form=new Mg({},JD(n),XD(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){_u.then(()=>{const i=this._findContainer(n.path);n.control=i.registerControl(n.name,n.control),Rd(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){_u.then(()=>{const i=this._findContainer(n.path);i&&i.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){_u.then(()=>{const i=this._findContainer(n.path),s=new Mg({});LB(s,n),i.registerControl(n.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){_u.then(()=>{const i=this._findContainer(n.path);i&&i.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,i){_u.then(()=>{this.form.get(n.path).setValue(i)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),FB(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}};e.ɵfac=function(i){return new(i||e)(O(hn,10),O(jo,10),O(al,8))},e.ɵdir=W({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&kt("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Pe([ste]),Te]});let t=e;return t})();function A1(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}function O1(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}const Xu=class extends iv{constructor(e=null,r,n){super(QD(r),ek(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rv(r)&&(r.nonNullable||r.initialValueIsDefault)&&(O1(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,r={}){this.value=this._pendingValue=e,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(e,r={}){this.setValue(e,r)}reset(e=this.defaultValue,r={}){this._applyFormState(e),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){A1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){A1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){O1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},ote=t=>t instanceof Xu;let BB=(()=>{const e=class e extends bn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return sv(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}};e.ɵfac=(()=>{let n;return function(s){return(n||(n=wt(e)))(s||e)}})(),e.ɵdir=W({type:e,features:[Te]});let t=e;return t})();const ate={provide:bn,useExisting:Ye(()=>Q_)};let Q_=(()=>{const e=class e extends BB{constructor(n,i,s){super(),this.name="",this._parent=n,this._setValidators(i),this._setAsyncValidators(s)}_checkParentType(){!(this._parent instanceof e)&&this._parent instanceof xg}};e.ɵfac=function(i){return new(i||e)(O(bn,5),O(hn,10),O(jo,10))},e.ɵdir=W({type:e,selectors:[["","ngModelGroup",""]],inputs:{name:[0,"ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[Pe([ate]),Te]});let t=e;return t})();const lte={provide:Uo,useExisting:Ye(()=>eC)},R1=Promise.resolve();let eC=(()=>{const e=class e extends Uo{constructor(n,i,s,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new Xu,this._registered=!1,this.name="",this.update=new Ne,this._parent=n,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=rk(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),nk(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Rd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){R1.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const i=n.isDisabled.currentValue,s=i!==0&&At(i);R1.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?sv(n,this._parent):[n]}};e.ɵfac=function(i){return new(i||e)(O(bn,9),O(hn,10),O(jo,10),O(di,10),O(As,8),O(al,8))},e.ɵdir=W({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Pe([lte]),Te,Or]});let t=e;return t})(),N1=(()=>{const e=class e{};e.ɵfac=function(i){return new(i||e)},e.ɵdir=W({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();const cte={provide:di,useExisting:Ye(()=>tC),multi:!0};let tC=(()=>{const e=class e extends ol{writeValue(n){const i=n??"";this.setProperty("value",i)}registerOnChange(n){this.onChange=i=>{n(i==""?null:parseFloat(i))}}};e.ɵfac=(()=>{let n;return function(s){return(n||(n=wt(e)))(s||e)}})(),e.ɵdir=W({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&kt("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[Pe([cte]),Te]});let t=e;return t})();const ute={provide:di,useExisting:Ye(()=>nC),multi:!0};let dte=(()=>{const e=class e{constructor(){this._accessors=[]}add(n,i){this._accessors.push([n,i])}remove(n){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===n){this._accessors.splice(i,1);return}}select(n){this._accessors.forEach(i=>{this._isSameGroup(i,n)&&i[1]!==n&&i[1].fireUncheck(n.value)})}_isSameGroup(n,i){return n[0].control?n[0]._parent===i._control._parent&&n[1].name===i.name:!1}};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})(),nC=(()=>{const e=class e extends ol{constructor(n,i,s,o){super(n,i),this._registry=s,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=w(al,{optional:!0})??jh}ngOnInit(){this._control=this._injector.get(Uo),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}};e.ɵfac=function(i){return new(i||e)(O(ai),O(Ze),O(dte),O(tt))},e.ɵdir=W({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,s){i&1&&kt("change",function(){return s.onChange()})("blur",function(){return s.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Pe([ute]),Te]});let t=e;return t})();const hte={provide:di,useExisting:Ye(()=>rC),multi:!0};let rC=(()=>{const e=class e extends ol{writeValue(n){this.setProperty("value",parseFloat(n))}registerOnChange(n){this.onChange=i=>{n(i==""?null:parseFloat(i))}}};e.ɵfac=(()=>{let n;return function(s){return(n||(n=wt(e)))(s||e)}})(),e.ɵdir=W({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(i,s){i&1&&kt("change",function(a){return s.onChange(a.target.value)})("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[Pe([hte]),Te]});let t=e;return t})();const ik=new A(""),fte={provide:Uo,useExisting:Ye(()=>iC)};let iC=(()=>{const e=class e extends Uo{set isDisabled(n){}constructor(n,i,s,o,a){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=a,this.update=new Ne,this._ngModelWarningSent=!1,this._setValidators(n),this._setAsyncValidators(i),this.valueAccessor=rk(this,s)}ngOnChanges(n){if(this._isControlChanged(n)){const i=n.form.previousValue;i&&Sg(i,this,!1),Rd(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}nk(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Sg(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}};e._ngModelWarningSentOnce=!1,e.ɵfac=function(i){return new(i||e)(O(hn,10),O(jo,10),O(di,10),O(ik,8),O(al,8))},e.ɵdir=W({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Pe([fte]),Te,Or]});let t=e;return t})();const pte={provide:bn,useExisting:Ye(()=>Ag)};let Ag=(()=>{const e=class e extends bn{get submitted(){return Hr(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,i,s){super(),this.callSetDisabledState=s,this._submitted=_t(()=>this._submittedReactive()),this._submittedReactive=xe(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ne,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ig(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const i=this.form.get(n.path);return Rd(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){Sg(n.control||null,n,!1),ite(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this._submittedReactive.set(!0),FB(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new qee(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new Kee(this.form))}_updateDomValue(){this.directives.forEach(n=>{const i=n.control,s=this.form.get(n.path);i!==s&&(Sg(i||null,n),ote(s)&&(Rd(s,n,this.callSetDisabledState),n.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const i=this.form.get(n.path);LB(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const i=this.form.get(n.path);i&&nte(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tk(this.form,this),this._oldForm&&Ig(this._oldForm,this)}_checkFormPresent(){this.form}};e.ɵfac=function(i){return new(i||e)(O(hn,10),O(jo,10),O(al,8))},e.ɵdir=W({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&kt("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Pe([pte]),Te,Or]});let t=e;return t})();const gte={provide:bn,useExisting:Ye(()=>Og)};let Og=(()=>{const e=class e extends BB{constructor(n,i,s){super(),this.name=null,this._parent=n,this._setValidators(i),this._setAsyncValidators(s)}_checkParentType(){VB(this._parent)}};e.ɵfac=function(i){return new(i||e)(O(bn,13),O(hn,10),O(jo,10))},e.ɵdir=W({type:e,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[Pe([gte]),Te]});let t=e;return t})();const mte={provide:bn,useExisting:Ye(()=>Rg)};let Rg=(()=>{const e=class e extends bn{constructor(n,i,s){super(),this.name=null,this._parent=n,this._setValidators(i),this._setAsyncValidators(s)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return sv(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){VB(this._parent)}};e.ɵfac=function(i){return new(i||e)(O(bn,13),O(hn,10),O(jo,10))},e.ɵdir=W({type:e,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[Pe([mte]),Te]});let t=e;return t})();function VB(t){return!(t instanceof Og)&&!(t instanceof Ag)&&!(t instanceof Rg)}const yte={provide:Uo,useExisting:Ye(()=>sC)};let sC=(()=>{const e=class e extends Uo{set isDisabled(n){}constructor(n,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Ne,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=rk(this,o)}ngOnChanges(n){this._added||this._setUpControl(),nk(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return sv(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.ɵfac=function(i){return new(i||e)(O(bn,13),O(hn,10),O(jo,10),O(di,10),O(ik,8))},e.ɵdir=W({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Pe([yte]),Te,Or]});let t=e;return t})();const vte={provide:di,useExisting:Ye(()=>Ng),multi:!0};function HB(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function bte(t){return t.split(":")[0]}let Ng=(()=>{const e=class e extends ol{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=this._getOptionId(n),s=HB(i,n);this.setProperty("value",s)}registerOnChange(n){this.onChange=i=>{this.value=this._getOptionValue(i),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),n))return i;return null}_getOptionValue(n){const i=bte(n);return this._optionMap.has(i)?this._optionMap.get(i):n}};e.ɵfac=(()=>{let n;return function(s){return(n||(n=wt(e)))(s||e)}})(),e.ɵdir=W({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&kt("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Pe([vte]),Te]});let t=e;return t})(),P1=(()=>{const e=class e{constructor(n,i,s){this._element=n,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(HB(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.ɵfac=function(i){return new(i||e)(O(Ze),O(ai),O(Ng,9))},e.ɵdir=W({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();const wte={provide:di,useExisting:Ye(()=>Pg),multi:!0};function L1(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function _te(t){return t.split(":")[0]}let Pg=(()=>{const e=class e extends ol{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i;if(Array.isArray(n)){const s=n.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(n){this.onChange=i=>{const s=[],o=i.selectedOptions;if(o!==void 0){const a=o;for(let l=0;l<a.length;l++){const c=a[l],u=this._getOptionValue(c.value);s.push(u)}}else{const a=i.options;for(let l=0;l<a.length;l++){const c=a[l];if(c.selected){const u=this._getOptionValue(c.value);s.push(u)}}}this.value=s,n(s)}}_registerOption(n){const i=(this._idCounter++).toString();return this._optionMap.set(i,n),i}_getOptionId(n){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,n))return i;return null}_getOptionValue(n){const i=_te(n);return this._optionMap.has(i)?this._optionMap.get(i)._value:n}};e.ɵfac=(()=>{let n;return function(s){return(n||(n=wt(e)))(s||e)}})(),e.ɵdir=W({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&kt("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Pe([wte]),Te]});let t=e;return t})(),F1=(()=>{const e=class e{constructor(n,i,s){this._element=n,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(L1(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(L1(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.ɵfac=function(i){return new(i||e)(O(Ze),O(ai),O(Pg,9))},e.ɵdir=W({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();function jB(t){return typeof t=="number"?t:parseInt(t,10)}function UB(t){return typeof t=="number"?t:parseFloat(t)}let ll=(()=>{const e=class e{constructor(){this._validator=Dg}ngOnChanges(n){if(this.inputName in n){const i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Dg,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}};e.ɵfac=function(i){return new(i||e)},e.ɵdir=W({type:e,features:[Or]});let t=e;return t})();const Cte={provide:hn,useExisting:Ye(()=>oC),multi:!0};let oC=(()=>{const e=class e extends ll{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>UB(n),this.createValidator=n=>gB(n)}};e.ɵfac=(()=>{let n;return function(s){return(n||(n=wt(e)))(s||e)}})(),e.ɵdir=W({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,s){i&2&&dt("max",s._enabled?s.max:null)},inputs:{max:"max"},features:[Pe([Cte]),Te]});let t=e;return t})();const Ete={provide:hn,useExisting:Ye(()=>aC),multi:!0};let aC=(()=>{const e=class e extends ll{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>UB(n),this.createValidator=n=>pB(n)}};e.ɵfac=(()=>{let n;return function(s){return(n||(n=wt(e)))(s||e)}})(),e.ɵdir=W({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,s){i&2&&dt("min",s._enabled?s.min:null)},inputs:{min:"min"},features:[Pe([Ete]),Te]});let t=e;return t})();const Dte={provide:hn,useExisting:Ye(()=>Lg),multi:!0},kte={provide:hn,useExisting:Ye(()=>lC),multi:!0};let Lg=(()=>{const e=class e extends ll{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=At,this.createValidator=n=>mB}enabled(n){return n}};e.ɵfac=(()=>{let n;return function(s){return(n||(n=wt(e)))(s||e)}})(),e.ɵdir=W({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&dt("required",s._enabled?"":null)},inputs:{required:"required"},features:[Pe([Dte]),Te]});let t=e;return t})(),lC=(()=>{const e=class e extends Lg{constructor(){super(...arguments),this.createValidator=n=>yB}};e.ɵfac=(()=>{let n;return function(s){return(n||(n=wt(e)))(s||e)}})(),e.ɵdir=W({type:e,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(i,s){i&2&&dt("required",s._enabled?"":null)},features:[Pe([kte]),Te]});let t=e;return t})();const Mte={provide:hn,useExisting:Ye(()=>cC),multi:!0};let cC=(()=>{const e=class e extends ll{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=At,this.createValidator=n=>vB}enabled(n){return n}};e.ɵfac=(()=>{let n;return function(s){return(n||(n=wt(e)))(s||e)}})(),e.ɵdir=W({type:e,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[Pe([Mte]),Te]});let t=e;return t})();const Ste={provide:hn,useExisting:Ye(()=>uC),multi:!0};let uC=(()=>{const e=class e extends ll{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=n=>jB(n),this.createValidator=n=>bB(n)}};e.ɵfac=(()=>{let n;return function(s){return(n||(n=wt(e)))(s||e)}})(),e.ɵdir=W({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(i,s){i&2&&dt("minlength",s._enabled?s.minlength:null)},inputs:{minlength:"minlength"},features:[Pe([Ste]),Te]});let t=e;return t})();const Tte={provide:hn,useExisting:Ye(()=>dC),multi:!0};let dC=(()=>{const e=class e extends ll{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>jB(n),this.createValidator=n=>wB(n)}};e.ɵfac=(()=>{let n;return function(s){return(n||(n=wt(e)))(s||e)}})(),e.ɵdir=W({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,s){i&2&&dt("maxlength",s._enabled?s.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Pe([Tte]),Te]});let t=e;return t})();const Ite={provide:hn,useExisting:Ye(()=>hC),multi:!0};let hC=(()=>{const e=class e extends ll{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=n=>n,this.createValidator=n=>_B(n)}};e.ɵfac=(()=>{let n;return function(s){return(n||(n=wt(e)))(s||e)}})(),e.ɵdir=W({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(i,s){i&2&&dt("pattern",s._enabled?s.pattern:null)},inputs:{pattern:"pattern"},features:[Pe([Ite]),Te]});let t=e;return t})(),Fg=(()=>{const e=class e{};e.ɵfac=function(i){return new(i||e)},e.ɵmod=Nc({type:e,declarations:[N1,P1,F1,Eg,tC,rC,J_,Ng,Pg,nC,T1,I1,Lg,uC,dC,hC,lC,cC,aC,oC],exports:[N1,P1,F1,Eg,tC,rC,J_,Ng,Pg,nC,T1,I1,Lg,uC,dC,hC,lC,cC,aC,oC]}),e.ɵinj=Za({});let t=e;return t})();class xte extends iv{constructor(e,r,n){super(QD(r),ek(n,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,r={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(e,r,n={}){this.controls.splice(e,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,r={}){let n=this._adjustIndex(e);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(e,r,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),r&&(this.controls.splice(i,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,r={}){NB(this,!1,e),e.forEach((n,i)=>{RB(this,!1,i),this.at(i).setValue(n,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){e!=null&&(e.forEach((n,i)=>{this.at(i)&&this.at(i).patchValue(n,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e=[],r={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r,this),this._updateTouched(r,this),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((r,n)=>n._syncPendingControls()?!0:r,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((r,n)=>{e(r,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(r=>r.enabled&&e(r))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function B1(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}let Ate=(()=>{const e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new e;return n.useNonNullable=!0,n}group(n,i=null){const s=this._reduceControls(n);let o={};return B1(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Mg(s,o)}record(n,i=null){const s=this._reduceControls(n);return new Jee(s,i)}control(n,i,s){let o={};return this.useNonNullable?(B1(i)?o=i:(o.validators=i,o.asyncValidators=s),new Xu(n,{...o,nonNullable:!0})):new Xu(n,i,s)}array(n,i,s){const o=n.map(a=>this._createControl(a));return new xte(o,i,s)}_reduceControls(n){const i={};return Object.keys(n).forEach(s=>{i[s]=this._createControl(n[s])}),i}_createControl(n){if(n instanceof Xu)return n;if(n instanceof iv)return n;if(Array.isArray(n)){const i=n[0],s=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(i,s,o)}else return this.control(n)}};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})(),bme=(()=>{const e=class e{};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:()=>w(Ate).nonNullable,providedIn:"root"});let t=e;return t})();new xh("18.2.0");let wme=(()=>{const e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:al,useValue:n.callSetDisabledState??jh}]}}};e.ɵfac=function(i){return new(i||e)},e.ɵmod=Nc({type:e,declarations:[eC,Q_,xg],exports:[Fg,eC,Q_,xg]}),e.ɵinj=Za({imports:[Fg]});let t=e;return t})(),_me=(()=>{const e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:ik,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:al,useValue:n.callSetDisabledState??jh}]}}};e.ɵfac=function(i){return new(i||e)},e.ɵmod=Nc({type:e,declarations:[iC,Ag,sC,Og,Rg],exports:[Fg,iC,Ag,sC,Og,Rg]}),e.ɵinj=Za({imports:[Fg]});let t=e;return t})();const Ote=["checkBox"],Rte=["*"],Nte=()=>({position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"}),Pte={provide:di,useExisting:Ye(()=>Lte),multi:!0},V1="-checkbox";let Lte=(()=>{const e=class e{constructor(){this._renderer=w(ai),this._elementRef=w(Ze),this._focusMonitor=w($D),this._isBrowser=nu(w(Vn)),this._focusVisible=xe(!1),this.focusVisible=this._focusVisible.asReadonly(),this._focused=xe(!1),this.focused=this._focused.asReadonly(),this.checked=nP(!1),this.isChecked=this.checked.asReadonly(),this._dataState=_t(()=>{const n=this.checked();return n==="indeterminate"?"indeterminate":n?"checked":"unchecked"}),this._ariaChecked=_t(()=>{const n=this.checked();return n==="indeterminate"?"mixed":n?"true":"false"}),this._value=_t(()=>{const n=this.checked();return n==="indeterminate"?"":n?"on":"off"}),this.id=Sn(null),this.hostId=_t(()=>this.id()?this.id()+V1:null),this.name=Sn(null),this.hostName=_t(()=>this.name()?this.name()+V1:null),this.ariaLabel=Sn(null,{alias:"aria-label"}),this.ariaLabelledby=Sn(null,{alias:"aria-labelledby"}),this.ariaDescribedby=Sn(null,{alias:"aria-describedby"}),this.required=Sn(!1,{transform:At}),this._disabled=xe(!1),this.disabled=Sn(!1,{transform:At}),this._onChange=n=>{},this._onTouched=()=>{},this.changed=new Ne,HX().pipe(Hh()).subscribe(()=>this.handleChange()),Pn(()=>{const n=this._renderer.parentNode(this._elementRef.nativeElement);if(!n)return;if(n?.tagName==="LABEL"){this._renderer.setAttribute(n,"data-disabled",this._disabled()?"true":"false");return}if(!this._isBrowser)return;const i=n?.querySelector(`label[for="${this.id()}"]`);i&&this._renderer.setAttribute(i,"data-disabled",this._disabled()?"true":"false")}),Pn(()=>{this._disabled.set(this.disabled())},{allowSignalWrites:!0})}handleChange(){if(this._disabled()||!this.checkbox)return;const n=this.checked();this.checked.set(n==="indeterminate"?!0:!n),this._onChange(!n),this.changed.emit(!n)}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(n=>{n&&this._focused.set(!0),(n==="keyboard"||n==="program")&&this._focusVisible.set(!0),n||Promise.resolve().then(()=>{this._focusVisible.set(!1),this._focused.set(!1),this._onTouched()})}),this.checkbox&&(this.checkbox.nativeElement.indeterminate=this.checked()==="indeterminate",this.checkbox.nativeElement.indeterminate?this.checkbox.nativeElement.value="indeterminate":this.checkbox.nativeElement.value=this.checked()?"on":"off",this.checkbox.nativeElement.dispatchEvent(new Event("change")))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(n){n==="indeterminate"?this.checked.set("indeterminate"):this.checked.set(!!n)}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this._disabled.set(n)}};e.ɵfac=function(i){return new(i||e)},e.ɵcmp=Oo({type:e,selectors:[["brn-checkbox"]],viewQuery:function(i,s){if(i&1&&zy(Ote,7),i&2){let o;nl(o=rl())&&(s.checkbox=o.first)}},hostVars:10,hostBindings:function(i,s){i&2&&dt("tabindex",s._disabled()?"-1":"0")("data-state",s._dataState())("data-focus-visible",s.focusVisible())("data-focus",s.focused())("data-disabled",s._disabled())("aria-labelledby",null)("aria-label",null)("aria-describedby",null)("id",s.hostId())("name",s.hostName())},inputs:{checked:[1,"checked"],id:[1,"id"],name:[1,"name"],ariaLabel:[1,"aria-label","ariaLabel"],ariaLabelledby:[1,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[1,"aria-describedby","ariaDescribedby"],required:[1,"required"],disabled:[1,"disabled"]},outputs:{checked:"checkedChange",changed:"changed"},standalone:!0,features:[Pe([Pte]),Fo],ngContentSelectors:Rte,decls:3,vars:12,consts:[["checkBox",""],["tabindex","-1","type","checkbox","role","checkbox",3,"ngStyle","id","name","value","checked","required"]],template:function(i,s){if(i&1&&(YE(),Uy(0,"input",1,0),JE(2)),i&2){let o,a;Vy("ngStyle",ZL(11,Nte))("id",(o=s.id())!==null&&o!==void 0?o:"")("name",(a=s.name())!==null&&a!==void 0?a:"")("value",s._value())("checked",s.isChecked())("required",s.required()),dt("aria-label",s.ariaLabel())("aria-labelledby",s.ariaLabelledby())("aria-describedby",s.ariaDescribedby())("aria-required",s.required()||null)("aria-checked",s._ariaChecked())}},dependencies:[M_],encapsulation:2,changeDetection:0});let t=e;return t})();const Fte="modulepreload",Bte=function(t){return"/"+t},H1={},mi=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=s?.nonce||s?.getAttribute("nonce");i=Promise.all(r.map(a=>{if(a=Bte(a),a in H1)return;H1[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":Fte,l||(u.as="script",u.crossOrigin=""),u.href=a,o&&u.setAttribute("nonce",o),document.head.appendChild(u),l)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},sk=new A("HIGHLIGHT_OPTIONS");function Cme(t){return[{provide:sk,useValue:t}]}var Sl=function(t){return t.FULL_WITH_CORE_LIBRARY_IMPORTS="The full library and the core library were imported, only one of them should be imported!",t.FULL_WITH_LANGUAGE_IMPORTS="The highlighting languages were imported they are not needed!",t.CORE_WITHOUT_LANGUAGE_IMPORTS="The highlighting languages were not imported!",t.LANGUAGE_WITHOUT_CORE_IMPORTS="The core library was not imported!",t.NO_FULL_AND_NO_CORE_IMPORTS="Highlight.js library was not imported!",t}(Sl||{});let Vte=(()=>{const e=class e{constructor(){this.document=w(Ae),this.isPlatformBrowser=nu(w(Vn)),this.options=w(sk,{optional:!0}),this._ready=new An(null),this.ready=XA(this._ready.asObservable().pipe(Zt(n=>!!n))),this.isPlatformBrowser&&(this.document.defaultView.hljs?this._ready.next(this.document.defaultView.hljs):this._loadLibrary().pipe(gn(n=>this.options?.lineNumbersLoader?(this.document.defaultView.hljs=n,this.loadLineNumbers().pipe(Tt(i=>{i.activateLineNumbers(),this._ready.next(n)}))):(this._ready.next(n),fr)),ca(n=>(console.error("[HLJS] ",n),this._ready.error(n),fr))).subscribe(),this.options?.themePath&&this.loadTheme(this.options.themePath))}_loadLibrary(){if(this.options){if(this.options.fullLibraryLoader&&this.options.coreLibraryLoader)return cs(()=>Sl.FULL_WITH_CORE_LIBRARY_IMPORTS);if(this.options.fullLibraryLoader&&this.options.languages)return cs(()=>Sl.FULL_WITH_LANGUAGE_IMPORTS);if(this.options.coreLibraryLoader&&!this.options.languages)return cs(()=>Sl.CORE_WITHOUT_LANGUAGE_IMPORTS);if(!this.options.coreLibraryLoader&&this.options.languages)return cs(()=>Sl.LANGUAGE_WITHOUT_CORE_IMPORTS);if(this.options.fullLibraryLoader)return this.loadFullLibrary();if(this.options.coreLibraryLoader&&this.options.languages&&Object.keys(this.options.languages).length)return this.loadCoreLibrary().pipe(gn(n=>this._loadLanguages(n)))}return cs(()=>Sl.NO_FULL_AND_NO_CORE_IMPORTS)}_loadLanguages(n){const i=Object.entries(this.options.languages).map(([s,o])=>Ub(o()).pipe(Tt(a=>n.registerLanguage(s,a))));return tO(i).pipe(ke(()=>n))}loadCoreLibrary(){return Ub(this.options.coreLibraryLoader())}loadFullLibrary(){return Ub(this.options.fullLibraryLoader())}loadLineNumbers(){return bt(this.options.lineNumbersLoader())}setTheme(n){this.isPlatformBrowser&&(this._themeLinkElement?this._themeLinkElement.href=n:this.loadTheme(n))}loadTheme(n){this._themeLinkElement=this.document.createElement("link"),this._themeLinkElement.href=n,this._themeLinkElement.type="text/css",this._themeLinkElement.rel="stylesheet",this._themeLinkElement.media="screen,print",this.document.head.appendChild(this._themeLinkElement)}};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();const Ub=t=>bt(t).pipe(Zt(e=>!!e?.default),ke(e=>e.default));let Hte=(()=>{const e=class e{constructor(){this.loader=w(Vte),this.options=w(sk,{optional:!0}),this.hljsSignal=xe(null),this.hljs=_t(()=>this.hljsSignal()),this.loader.ready.then(n=>{this.hljsSignal.set(n),this.options?.highlightOptions&&n.configure(this.options.highlightOptions)})}async highlight(n,i){return(await this.loader.ready).highlight(n,i)}async highlightAuto(n,i){return(await this.loader.ready).highlightAuto(n,i)}async highlightElement(n){(await this.loader.ready).highlightElement(n)}async highlightAll(){(await this.loader.ready).highlightAll()}async configure(n){(await this.loader.ready).configure(n)}async registerLanguage(n,i){(await this.loader.ready).registerLanguage(n,i)}async unregisterLanguage(n){(await this.loader.ready).unregisterLanguage(n)}async registerAliases(n,{languageName:i}){(await this.loader.ready).registerAliases(n,{languageName:i})}async listLanguages(){return(await this.loader.ready).listLanguages()}async getLanguage(n){return(await this.loader.ready).getLanguage(n)}async safeMode(){(await this.loader.ready).safeMode()}async debugMode(){(await this.loader.ready).debugMode()}async lineNumbersBlock(n,i){const s=await this.loader.ready;s.lineNumbersBlock&&s.lineNumbersBlock(n,i)}};e.ɵfac=function(i){return new(i||e)},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})(),$b;function jte(){if(!$b)try{$b=window?.trustedTypes?.createPolicy("ngx-highlightjs",{createHTML:t=>t})}catch{}return $b}function Ute(t){return jte()?.createHTML(t)||t}let j1=(()=>{const e=class e{constructor(){this._hljs=w(Hte),this._nativeElement=w(Ze).nativeElement,this._sanitizer=w(JF),this._platform=w(Vn),nu(this._platform)&&(Pn(()=>{const n=this.code();this.setTextContent(n||""),n&&this.highlightElement(n)}),Pn(()=>{const n=this.highlightResult();this.setInnerHTML(n?.value),this.highlighted.emit(n)}))}setTextContent(n){requestAnimationFrame(()=>this._nativeElement.textContent=n)}setInnerHTML(n){requestAnimationFrame(()=>this._nativeElement.innerHTML=Ute(this._sanitizer.sanitize(Wn.HTML,n)||""))}};e.ɵfac=function(i){return new(i||e)},e.ɵdir=W({type:e});let t=e;return t})(),Eme=(()=>{const e=class e extends j1{constructor(){super(...arguments),this.code=Sn(null,{alias:"highlight"}),this.highlightResult=xe(null),this.highlighted=new Ne}async highlightElement(n){const i=await this._hljs.highlight(n,{language:this.language,ignoreIllegals:this.ignoreIllegals});this.highlightResult.set(i)}};e.ɵfac=(()=>{let n;return function(s){return(n||(n=wt(e)))(s||e)}})(),e.ɵdir=W({type:e,selectors:[["","highlight",""]],hostVars:2,hostBindings:function(i,s){i&2&&xs("hljs",!0)},inputs:{code:[1,"highlight","code"],language:"language",ignoreIllegals:[2,"ignoreIllegals","ignoreIllegals",At]},outputs:{highlighted:"highlighted"},standalone:!0,features:[Pe([{provide:j1,useExisting:e}]),Lo,Te]});let t=e;return t})();class $te{constructor(e,r){this._document=r;const n=this._textarea=this._document.createElement("textarea"),i=n.style;i.position="fixed",i.top=i.opacity="0",i.left="-999em",n.setAttribute("aria-hidden","true"),n.value=e,n.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(n)}copy(){const e=this._textarea;let r=!1;try{if(e){const n=this._document.activeElement;e.select(),e.setSelectionRange(0,e.value.length),r=this._document.execCommand("copy"),n&&n.focus()}}catch{}return r}destroy(){const e=this._textarea;e&&(e.remove(),this._textarea=void 0)}}let Dme=(()=>{const e=class e{constructor(n){this._document=n}copy(n){const i=this.beginCopy(n),s=i.copy();return i.destroy(),s}beginCopy(n){return new $te(n,this._document)}};e.ɵfac=function(i){return new(i||e)(I(Ae))},e.ɵprov=P({token:e,factory:e.ɵfac,providedIn:"root"});let t=e;return t})();new A("CDK_COPY_TO_CLIPBOARD_CONFIG");const ra=Math.min,hr=Math.max,Bg=Math.round,Tf=Math.floor,_o=t=>({x:t,y:t}),zte={left:"right",right:"left",bottom:"top",top:"bottom"},Wte={start:"end",end:"start"};function ov(t,e){return typeof t=="function"?t(e):t}function La(t){return t.split("-")[0]}function Uh(t){return t.split("-")[1]}function Gte(t){return t==="x"?"y":"x"}function $B(t){return t==="y"?"height":"width"}function bc(t){return["top","bottom"].includes(La(t))?"y":"x"}function zB(t){return Gte(bc(t))}function qte(t,e,r){r===void 0&&(r=!1);const n=Uh(t),i=zB(t),s=$B(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Vg(o)),[o,Vg(o)]}function Kte(t){const e=Vg(t);return[fC(t),e,fC(e)]}function fC(t){return t.replace(/start|end/g,e=>Wte[e])}function Zte(t,e,r){const n=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?s:o;default:return[]}}function Yte(t,e,r,n){const i=Uh(t);let s=Zte(La(t),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(fC)))),s}function Vg(t){return t.replace(/left|right|bottom|top/g,e=>zte[e])}function Jte(t){return{top:0,right:0,bottom:0,left:0,...t}}function Xte(t){return typeof t!="number"?Jte(t):{top:t,right:t,bottom:t,left:t}}function Hg(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function U1(t,e,r){let{reference:n,floating:i}=t;const s=bc(e),o=zB(e),a=$B(o),l=La(e),c=s==="y",u=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,h=n[a]/2-i[a]/2;let f;switch(l){case"top":f={x:u,y:n.y-i.height};break;case"bottom":f={x:u,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:d};break;case"left":f={x:n.x-i.width,y:d};break;default:f={x:n.x,y:n.y}}switch(Uh(e)){case"start":f[o]-=h*(r&&c?-1:1);break;case"end":f[o]+=h*(r&&c?-1:1);break}return f}const Qte=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=U1(c,n,l),h=n,f={},p=0;for(let g=0;g<a.length;g++){const{name:m,fn:y}=a[g],{x:v,y:b,data:C,reset:M}=await y({x:u,y:d,initialPlacement:n,placement:h,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:t,floating:e}});u=v??u,d=b??d,f={...f,[m]:{...f[m],...C}},M&&p<=50&&(p++,typeof M=="object"&&(M.placement&&(h=M.placement),M.rects&&(c=M.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):M.rects),{x:u,y:d}=U1(c,h,l)),g=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}};async function WB(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=ov(e,t),p=Xte(f),m=a[h?d==="floating"?"reference":"floating":d],y=Hg(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(m)))==null||r?m:m.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v=d==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),C=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},M=Hg(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:b,strategy:l}):v);return{top:(y.top-M.top+p.top)/C.y,bottom:(M.bottom-y.bottom+p.bottom)/C.y,left:(y.left-M.left+p.left)/C.x,right:(M.right-y.right+p.right)/C.x}}const ene=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...m}=ov(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const y=La(i),v=bc(a),b=La(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),M=h||(b||!g?[Vg(a)]:Kte(a)),T=p!=="none";!h&&T&&M.push(...Yte(a,g,p,C));const F=[a,...M],R=await WB(e,m),$=[];let q=((n=s.flip)==null?void 0:n.overflows)||[];if(u&&$.push(R[y]),d){const He=qte(i,o,C);$.push(R[He[0]],R[He[1]])}if(q=[...q,{placement:i,overflows:$}],!$.every(He=>He<=0)){var K,H;const He=(((K=s.flip)==null?void 0:K.index)||0)+1,Le=F[He];if(Le)return{data:{index:He,overflows:q},reset:{placement:Le}};let Q=(H=q.filter(j=>j.overflows[0]<=0).sort((j,x)=>j.overflows[1]-x.overflows[1])[0])==null?void 0:H.placement;if(!Q)switch(f){case"bestFit":{var ne;const j=(ne=q.filter(x=>{if(T){const _=bc(x.placement);return _===v||_==="y"}return!0}).map(x=>[x.placement,x.overflows.filter(_=>_>0).reduce((_,G)=>_+G,0)]).sort((x,_)=>x[1]-_[1])[0])==null?void 0:ne[0];j&&(Q=j);break}case"initialPlacement":Q=a;break}if(i!==Q)return{reset:{placement:Q}}}return{}}}};async function tne(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=La(r),a=Uh(r),l=bc(r)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=ov(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof p=="number"&&(f=a==="end"?p*-1:p),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const nne=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await tne(e,t);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},rne=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:r,rects:n,platform:i,elements:s}=e,{apply:o=()=>{},...a}=ov(t,e),l=await WB(e,a),c=La(r),u=Uh(r),d=bc(r)==="y",{width:h,height:f}=n.floating;let p,g;c==="top"||c==="bottom"?(p=c,g=u===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(g=c,p=u==="end"?"top":"bottom");const m=f-l.top-l.bottom,y=h-l.left-l.right,v=ra(f-l[p],m),b=ra(h-l[g],y),C=!e.middlewareData.shift;let M=v,T=b;if(d?T=u||C?ra(b,y):y:M=u||C?ra(v,m):m,C&&!u){const R=hr(l.left,0),$=hr(l.right,0),q=hr(l.top,0),K=hr(l.bottom,0);d?T=h-2*(R!==0||$!==0?R+$:hr(l.left,l.right)):M=f-2*(q!==0||K!==0?q+K:hr(l.top,l.bottom))}await o({...e,availableWidth:T,availableHeight:M});const F=await i.getDimensions(s.floating);return h!==F.width||f!==F.height?{reset:{rects:!0}}:{}}}};function au(t){return GB(t)?(t.nodeName||"").toLowerCase():"#document"}function Yn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Os(t){var e;return(e=(GB(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function GB(t){return t instanceof Node||t instanceof Yn(t).Node}function ei(t){return t instanceof Element||t instanceof Yn(t).Element}function Vi(t){return t instanceof HTMLElement||t instanceof Yn(t).HTMLElement}function $1(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Yn(t).ShadowRoot}function $h(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=ti(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function ine(t){return["table","td","th"].includes(au(t))}function av(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function ok(t){const e=ak(),r=ei(t)?ti(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function sne(t){let e=Co(t);for(;Vi(e)&&!wc(e);){if(ok(e))return e;if(av(e))return null;e=Co(e)}return null}function ak(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function wc(t){return["html","body","#document"].includes(au(t))}function ti(t){return Yn(t).getComputedStyle(t)}function lv(t){return ei(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Co(t){if(au(t)==="html")return t;const e=t.assignedSlot||t.parentNode||$1(t)&&t.host||Os(t);return $1(e)?e.host:e}function qB(t){const e=Co(t);return wc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Vi(e)&&$h(e)?e:qB(e)}function Nd(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=qB(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=Yn(i);if(s){const a=pC(o);return e.concat(o,o.visualViewport||[],$h(i)?i:[],a&&r?Nd(a):[])}return e.concat(i,Nd(i,[],r))}function pC(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function KB(t){const e=ti(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Vi(t),s=i?t.offsetWidth:r,o=i?t.offsetHeight:n,a=Bg(r)!==s||Bg(n)!==o;return a&&(r=s,n=o),{width:r,height:n,$:a}}function lk(t){return ei(t)?t:t.contextElement}function Zl(t){const e=lk(t);if(!Vi(e))return _o(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=KB(e);let o=(s?Bg(r.width):r.width)/n,a=(s?Bg(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const one=_o(0);function ZB(t){const e=Yn(t);return!ak()||!e.visualViewport?one:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ane(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Yn(t)?!1:e}function Fa(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=lk(t);let o=_o(1);e&&(n?ei(n)&&(o=Zl(n)):o=Zl(t));const a=ane(s,r,n)?ZB(s):_o(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const h=Yn(s),f=n&&ei(n)?Yn(n):n;let p=h,g=pC(p);for(;g&&n&&f!==p;){const m=Zl(g),y=g.getBoundingClientRect(),v=ti(g),b=y.left+(g.clientLeft+parseFloat(v.paddingLeft))*m.x,C=y.top+(g.clientTop+parseFloat(v.paddingTop))*m.y;l*=m.x,c*=m.y,u*=m.x,d*=m.y,l+=b,c+=C,p=Yn(g),g=pC(p)}}return Hg({width:u,height:d,x:l,y:c})}function lne(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",o=Os(n),a=e?av(e.floating):!1;if(n===o||a&&s)return r;let l={scrollLeft:0,scrollTop:0},c=_o(1);const u=_o(0),d=Vi(n);if((d||!d&&!s)&&((au(n)!=="body"||$h(o))&&(l=lv(n)),Vi(n))){const h=Fa(n);c=Zl(n),u.x=h.x+n.clientLeft,u.y=h.y+n.clientTop}return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x,y:r.y*c.y-l.scrollTop*c.y+u.y}}function cne(t){return Array.from(t.getClientRects())}function YB(t){return Fa(Os(t)).left+lv(t).scrollLeft}function une(t){const e=Os(t),r=lv(t),n=t.ownerDocument.body,i=hr(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=hr(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+YB(t);const a=-r.scrollTop;return ti(n).direction==="rtl"&&(o+=hr(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:a}}function dne(t,e){const r=Yn(t),n=Os(t),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=ak();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function hne(t,e){const r=Fa(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=Vi(t)?Zl(t):_o(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=n*s.y;return{width:o,height:a,x:l,y:c}}function z1(t,e,r){let n;if(e==="viewport")n=dne(t,r);else if(e==="document")n=une(Os(t));else if(ei(e))n=hne(e,r);else{const i=ZB(t);n={...e,x:e.x-i.x,y:e.y-i.y}}return Hg(n)}function JB(t,e){const r=Co(t);return r===e||!ei(r)||wc(r)?!1:ti(r).position==="fixed"||JB(r,e)}function fne(t,e){const r=e.get(t);if(r)return r;let n=Nd(t,[],!1).filter(a=>ei(a)&&au(a)!=="body"),i=null;const s=ti(t).position==="fixed";let o=s?Co(t):t;for(;ei(o)&&!wc(o);){const a=ti(o),l=ok(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||$h(o)&&!l&&JB(t,o))?n=n.filter(u=>u!==o):i=a,o=Co(o)}return e.set(t,n),n}function pne(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?av(e)?[]:fne(e,this._c):[].concat(r),n],a=o[0],l=o.reduce((c,u)=>{const d=z1(e,u,i);return c.top=hr(d.top,c.top),c.right=ra(d.right,c.right),c.bottom=ra(d.bottom,c.bottom),c.left=hr(d.left,c.left),c},z1(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function gne(t){const{width:e,height:r}=KB(t);return{width:e,height:r}}function mne(t,e,r){const n=Vi(e),i=Os(e),s=r==="fixed",o=Fa(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=_o(0);if(n||!n&&!s)if((au(e)!=="body"||$h(i))&&(a=lv(e)),n){const d=Fa(e,!0,s,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else i&&(l.x=YB(i));const c=o.left+a.scrollLeft-l.x,u=o.top+a.scrollTop-l.y;return{x:c,y:u,width:o.width,height:o.height}}function zb(t){return ti(t).position==="static"}function W1(t,e){return!Vi(t)||ti(t).position==="fixed"?null:e?e(t):t.offsetParent}function XB(t,e){const r=Yn(t);if(av(t))return r;if(!Vi(t)){let i=Co(t);for(;i&&!wc(i);){if(ei(i)&&!zb(i))return i;i=Co(i)}return r}let n=W1(t,e);for(;n&&ine(n)&&zb(n);)n=W1(n,e);return n&&wc(n)&&zb(n)&&!ok(n)?r:n||sne(t)||r}const yne=async function(t){const e=this.getOffsetParent||XB,r=this.getDimensions,n=await r(t.floating);return{reference:mne(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function vne(t){return ti(t).direction==="rtl"}const bne={convertOffsetParentRelativeRectToViewportRelativeRect:lne,getDocumentElement:Os,getClippingRect:pne,getOffsetParent:XB,getElementRects:yne,getClientRects:cne,getDimensions:gne,getScale:Zl,isElement:ei,isRTL:vne};function wne(t,e){let r=null,n;const i=Os(t);function s(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:d,height:h}=t.getBoundingClientRect();if(a||e(),!d||!h)return;const f=Tf(u),p=Tf(i.clientWidth-(c+d)),g=Tf(i.clientHeight-(u+h)),m=Tf(c),v={rootMargin:-f+"px "+-p+"px "+-g+"px "+-m+"px",threshold:hr(0,ra(1,l))||1};let b=!0;function C(M){const T=M[0].intersectionRatio;if(T!==l){if(!b)return o();T?o(!1,T):n=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(C,{...v,root:i.ownerDocument})}catch{r=new IntersectionObserver(C,v)}r.observe(t)}return o(!0),s}function kme(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=lk(t),u=i||s?[...c?Nd(c):[],...Nd(e)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});const d=c&&a?wne(c,r):null;let h=-1,f=null;o&&(f=new ResizeObserver(y=>{let[v]=y;v&&v.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(e)})),r()}),c&&!l&&f.observe(c),f.observe(e));let p,g=l?Fa(t):null;l&&m();function m(){const y=Fa(t);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&r(),g=y,p=requestAnimationFrame(m)}return r(),()=>{var y;u.forEach(v=>{i&&v.removeEventListener("scroll",r),s&&v.removeEventListener("resize",r)}),d?.(),(y=f)==null||y.disconnect(),f=null,l&&cancelAnimationFrame(p)}}const Mme=nne,Sme=ene,Tme=rne,Ime=(t,e,r)=>{const n=new Map,i={platform:bne,...r},s={...i.platform,_c:n};return Qte(t,e,{...i,platform:s})};function tn(t){this.content=t}tn.prototype={constructor:tn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,i=n.find(t),s=n.content.slice();return i==-1?s.push(r||t,e):(s[i+1]=e,r&&(s[i]=r)),new tn(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new tn(r)},addToStart:function(t,e){return new tn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new tn(r)},addBefore:function(t,e,r){var n=this.remove(e),i=n.content.slice(),s=n.find(t);return i.splice(s==-1?i.length:s,0,e,r),new tn(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=tn.from(t),t.size?new tn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=tn.from(t),t.size?new tn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=tn.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}};tn.from=function(t){if(t instanceof tn)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new tn(e)};function QB(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let i=t.child(n),s=e.child(n);if(i==s){r+=i.nodeSize;continue}if(!i.sameMarkup(s))return r;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)r++;return r}if(i.content.size||s.content.size){let o=QB(i.content,s.content,r+1);if(o!=null)return o}r+=i.nodeSize}}function eV(t,e,r,n){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:r,b:n};let o=t.child(--i),a=e.child(--s),l=o.nodeSize;if(o==a){r-=l,n-=l;continue}if(!o.sameMarkup(a))return{a:r,b:n};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,r--,n--;return{a:r,b:n}}if(o.content.size||a.content.size){let c=eV(o.content,a.content,r-1,n-1);if(c)return c}r-=l,n-=l}}class S{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,i=0,s){for(let o=0,a=0;a<r;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&n(l,i+a,s||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,r-u),n,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,i){let s="",o=!0;return this.nodesBetween(e,r,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,r-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&n&&(o?o=!1:s+=n),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,i=this.content.slice(),s=0;for(r.isText&&r.sameMarkup(n)&&(i[i.length-1]=r.withText(r.text+n.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new S(i,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],i=0;if(r>e)for(let s=0,o=0;o<r;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>r)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,r-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,r-o-1))),n.push(a),i+=a.nodeSize),o=l}return new S(n,i)}cutByIndex(e,r){return e==r?S.empty:e==0&&r==this.content.length?this:new S(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let i=this.content.slice(),s=this.size+r.nodeSize-n.nodeSize;return i[e]=r,new S(i,s)}addToStart(e){return new S([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new S(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let i=this.content[r];e(i,n,r),n+=i.nodeSize}}findDiffStart(e,r=0){return QB(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return eV(this,e,r,n)}findIndex(e,r=-1){if(e==0)return If(0,e);if(e==this.size)return If(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,i=0;;n++){let s=this.child(n),o=i+s.nodeSize;if(o>=e)return o==e||r>0?If(n+1,o):If(n,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return S.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new S(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return S.empty;let r,n=0;for(let i=0;i<e.length;i++){let s=e[i];n+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(r||(r=e.slice(0,i)),r[r.length-1]=s.withText(r[r.length-1].text+s.text)):r&&r.push(s)}return new S(r||e,n)}static from(e){if(!e)return S.empty;if(e instanceof S)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new S([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}S.empty=new S([],0);const Wb={index:0,offset:0};function If(t,e){return Wb.index=t,Wb.offset=e,Wb}function jg(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!jg(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!jg(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}let et=class gC{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))r||(r=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!n&&s.type.rank>this.type.rank&&(r||(r=e.slice(0,i)),r.push(this),n=!0),r&&r.push(s)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&jg(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let i=n.create(r.attrs);return n.checkAttrs(i.attrs),i}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return gC.none;if(e instanceof gC)return[e];let r=e.slice();return r.sort((n,i)=>n.type.rank-i.type.rank),r}};et.none=[];class Ug extends Error{}class N{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=nV(this.content,e+this.openStart,r);return n&&new N(n,this.openStart,this.openEnd)}removeBetween(e,r){return new N(tV(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return N.empty;let n=r.openStart||0,i=r.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new N(S.fromJSON(e,r.content),n,i)}static maxOpen(e,r=!0){let n=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(r||!s.type.spec.isolating);s=s.firstChild)n++;for(let s=e.lastChild;s&&!s.isLeaf&&(r||!s.type.spec.isolating);s=s.lastChild)i++;return new N(e,n,i)}}N.empty=new N(S.empty,0,0);function tV(t,e,r){let{index:n,offset:i}=t.findIndex(e),s=t.maybeChild(n),{index:o,offset:a}=t.findIndex(r);if(i==e||s.isText){if(a!=r&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(n,s.copy(tV(s.content,e-i-1,r-i-1)))}function nV(t,e,r,n){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return t.cut(0,e).append(r).append(t.cut(e));let a=nV(o.content,e-s-1,r);return a&&t.replaceChild(i,o.copy(a))}function _ne(t,e,r){if(r.openStart>t.depth)throw new Ug("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new Ug("Inconsistent open depths");return rV(t,e,r,0)}function rV(t,e,r,n){let i=t.index(n),s=t.node(n);if(i==e.index(n)&&n<t.depth-r.openStart){let o=rV(t,e,r,n+1);return s.copy(s.content.replaceChild(i,o))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let o=t.parent,a=o.content;return pa(o,a.cut(0,t.parentOffset).append(r.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=Cne(r,t);return pa(s,sV(t,o,a,e,n))}else return pa(s,$g(t,e,n))}function iV(t,e){if(!e.type.compatibleContent(t.type))throw new Ug("Cannot join "+e.type.name+" onto "+t.type.name)}function mC(t,e,r){let n=t.node(r);return iV(n,e.node(r)),n}function fa(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function Qu(t,e,r,n){let i=(e||t).node(r),s=0,o=e?e.index(r):i.childCount;t&&(s=t.index(r),t.depth>r?s++:t.textOffset&&(fa(t.nodeAfter,n),s++));for(let a=s;a<o;a++)fa(i.child(a),n);e&&e.depth==r&&e.textOffset&&fa(e.nodeBefore,n)}function pa(t,e){return t.type.checkContent(e),t.copy(e)}function sV(t,e,r,n,i){let s=t.depth>i&&mC(t,e,i+1),o=n.depth>i&&mC(r,n,i+1),a=[];return Qu(null,t,i,a),s&&o&&e.index(i)==r.index(i)?(iV(s,o),fa(pa(s,sV(t,e,r,n,i+1)),a)):(s&&fa(pa(s,$g(t,e,i+1)),a),Qu(e,r,i,a),o&&fa(pa(o,$g(r,n,i+1)),a)),Qu(n,null,i,a),new S(a)}function $g(t,e,r){let n=[];if(Qu(null,t,r,n),t.depth>r){let i=mC(t,e,r+1);fa(pa(i,$g(t,e,r+1)),n)}return Qu(e,null,r,n),new S(n)}function Cne(t,e){let r=e.depth-t.openStart,i=e.node(r).copy(t.content);for(let s=r-1;s>=0;s--)i=e.node(s).copy(S.from(i));return{start:i.resolveNoCache(t.openStart+r),end:i.resolveNoCache(i.content.size-t.openEnd-r)}}class Pd{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=e.child(r);return n?e.child(r).cut(n):i}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],i=r==0?0:this.path[r*3-1]+1;for(let s=0;s<e;s++)i+=n.child(s).nodeSize;return i}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return et.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),i=e.maybeChild(r);if(!n){let a=n;n=i,i=a}let s=n.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<n.length;s++)n[s].type.spec.inclusive===!1&&(!i||!n[s].isInSet(i.marks))&&(n=n[s--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new zg(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],i=0,s=r;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(n.push(o,a,i+l),!c||(o=o.child(a),o.isText))break;s=c-1,i+=l+1}return new Pd(r,n,s)}static resolveCached(e,r){let n=G1.get(e);if(n)for(let s=0;s<n.elts.length;s++){let o=n.elts[s];if(o.pos==r)return o}else G1.set(e,n=new Ene);let i=n.elts[n.i]=Pd.resolve(e,r);return n.i=(n.i+1)%Dne,i}}class Ene{constructor(){this.elts=[],this.i=0}}const Dne=12,G1=new WeakMap;class zg{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const kne=Object.create(null);let co=class yC{constructor(e,r,n,i=et.none){this.type=e,this.attrs=r,this.marks=i,this.content=n||S.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,i=0){this.content.nodesBetween(e,r,n,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,i){return this.content.textBetween(e,r,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&jg(this.attrs,r||e.defaultAttrs||kne)&&et.sameSet(this.marks,n||et.none)}copy(e=null){return e==this.content?this:new yC(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new yC(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return N.empty;let i=this.resolve(e),s=this.resolve(r),o=n?0:i.sharedDepth(r),a=i.start(o),c=i.node(o).content.cut(i.pos-a,s.pos-a);return new N(c,i.depth-o,s.depth-o)}replace(e,r,n){return _ne(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:i}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(i==e||r.isText)return r;e-=i+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let i=this.content.child(r-1);return{node:i,index:r-1,offset:n-i.nodeSize}}resolve(e){return Pd.resolveCached(this,e)}resolveNoCache(e){return Pd.resolve(this,e)}rangeHasMark(e,r,n){let i=!1;return r>e&&this.nodesBetween(e,r,s=>(n.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),oV(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=S.empty,i=0,s=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,i,s),a=o&&o.matchFragment(this.content,r);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(e,r,n,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(n),o=s&&s.matchFragment(this.content,r);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=et.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!et.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let i=S.fromJSON(e,r.content),s=e.nodeType(r.type).create(r.attrs,i,n);return s.type.checkAttrs(s.attrs),s}};co.prototype.text=void 0;class Wg extends co{constructor(e,r,n,i){if(super(e,r,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):oV(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Wg(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Wg(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function oV(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class Ba{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new Mne(e,r);if(n.next==null)return Ba.empty;let i=aV(n);n.next&&n.err("Unexpected trailing text");let s=Rne(One(i));return Nne(s,n),s}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let i=this;for(let s=r;i&&s<n;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let i=[this];function s(o,a){let l=o.matchFragment(e,n);if(l&&(!r||l.validEnd))return S.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:d}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let h=s(d,a.concat(u));if(h)return h}}return null}return s(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in r)&&(!i.type||l.validEnd)&&(n.push({match:a.contentMatch,type:a,via:i}),r[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let i=0;i<n.next.length;i++)e.indexOf(n.next[i].next)==-1&&r(n.next[i].next)}return r(this),e.map((n,i)=>{let s=i+(n.validEnd?"*":" ")+" ";for(let o=0;o<n.next.length;o++)s+=(o?", ":"")+n.next[o].type.name+"->"+e.indexOf(n.next[o].next);return s}).join(`
`)}}Ba.empty=new Ba(!0);class Mne{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function aV(t){let e=[];do e.push(Sne(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Sne(t){let e=[];do e.push(Tne(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Tne(t){let e=Ane(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Ine(t,e);else break;return e}function q1(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Ine(t,e){let r=q1(t),n=r;return t.eat(",")&&(t.next!="}"?n=q1(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function xne(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let i=[];for(let s in r){let o=r[s];o.groups.indexOf(e)>-1&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function Ane(t){if(t.eat("(")){let e=aV(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=xne(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function One(t){let e=[[]];return i(s(t,0),r()),e;function r(){return e.push([])-1}function n(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;i(c,a=r())}else if(o.type=="star"){let l=r();return n(a,l),i(s(o.expr,l),l),[n(l)]}else if(o.type=="plus"){let l=r();return i(s(o.expr,a),l),i(s(o.expr,l),l),[n(l)]}else{if(o.type=="opt")return[n(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=r();i(s(o.expr,l),u),l=u}if(o.max==-1)i(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=r();n(l,u),i(s(o.expr,l),u),l=u}return[n(l)]}else{if(o.type=="name")return[n(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function lV(t,e){return e-t}function K1(t,e){let r=[];return n(e),r.sort(lV);function n(i){let s=t[i];if(s.length==1&&!s[0].term)return n(s[0].to);r.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&r.indexOf(l)==-1&&n(l)}}}function Rne(t){let e=Object.create(null);return r(K1(t,0));function r(n){let i=[];n.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);K1(t,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let s=e[n.join(",")]=new Ba(n.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(lV);s.next.push({type:i[o][0],next:e[a.join(",")]||r(a)})}return s}}function Nne(t,e){for(let r=0,n=[t];r<n.length;r++){let i=n[r],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),n.indexOf(c)==-1&&n.push(c)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function cV(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function uV(t,e){let r=Object.create(null);for(let n in t){let i=e&&e[n];if(i===void 0){let s=t[n];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=i}return r}function dV(t,e,r,n){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${r} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function hV(t,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new Lne(t,n,e[n]);return r}let Z1=class fV{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=hV(e,n.attrs),this.defaultAttrs=cV(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ba.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:uV(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new co(this,this.computeAttrs(e),S.from(r),et.setFrom(n))}createChecked(e=null,r,n){return r=S.from(r),this.checkContent(r),new co(this,this.computeAttrs(e),r,et.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=S.from(r),r.size){let o=this.contentMatch.fillBefore(r);if(!o)return null;r=o.append(r)}let i=this.contentMatch.matchFragment(r),s=i&&i.fillBefore(S.empty,!0);return s?new co(this,e,r.append(s),et.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){dV(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:et.none:e}static compile(e,r){let n=Object.create(null);e.forEach((s,o)=>n[s]=new fV(s,r,o));let i=r.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let s in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function Pne(t,e,r){let n=r.split("|");return i=>{let s=i===null?"null":typeof i;if(n.indexOf(s)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${t}, got ${s}`)}}class Lne{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?Pne(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class cv{constructor(e,r,n,i){this.name=e,this.rank=r,this.schema=n,this.spec=i,this.attrs=hV(e,i.attrs),this.excluded=null;let s=cV(this.attrs);this.instance=s?new et(this,s):null}create(e=null){return!e&&this.instance?this.instance:new et(this,uV(this.attrs,e))}static compile(e,r){let n=Object.create(null),i=0;return e.forEach((s,o)=>n[s]=new cv(s,i++,r,o)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){dV(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class pV{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let i in e)r[i]=e[i];r.nodes=tn.from(e.nodes),r.marks=tn.from(e.marks||{}),this.nodes=Z1.compile(this.spec.nodes,this),this.marks=cv.compile(this.spec.marks,this);let n=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=n[o]||(n[o]=Ba.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?Y1(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:Y1(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Z1){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,i)}text(e,r){let n=this.nodes.text;return new Wg(n,n.defaultAttrs,e,et.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeFromJSON(e){return co.fromJSON(this,e)}markFromJSON(e){return et.fromJSON(this,e)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}function Y1(t,e){let r=[];for(let n=0;n<e.length;n++){let i=e[n],s=t.marks[i],o=s;if(s)r.push(s);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&r.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function Fne(t){return t.tag!=null}function Bne(t){return t.style!=null}let Yl=class vC{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(i=>{if(Fne(i))this.tags.push(i);else if(Bne(i)){let s=/[^=]*/.exec(i.style)[0];n.indexOf(s)<0&&n.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,r={}){let n=new X1(this,r,!1);return n.addAll(e,et.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new X1(this,r,!0);return n.addAll(e,et.none,r.from,r.to),N.maxOpen(n.finish())}matchTag(e,r,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(jne(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||r.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,r,n,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!n.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=r))){if(o.getAttrs){let l=o.getAttrs(r);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let r=[];function n(i){let s=i.priority==null?50:i.priority,o=0;for(;o<r.length;o++){let a=r[o];if((a.priority==null?50:a.priority)<s)break}r.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{n(o=Q1(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{n(o=Q1(o)),o.node||o.ignore||o.mark||(o.node=i)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new vC(e,vC.schemaRules(e)))}};const gV={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Vne={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},mV={ol:!0,ul:!0},Gg=1,qg=2,ed=4;function J1(t,e,r){return e!=null?(e?Gg:0)|(e==="full"?qg:0):t&&t.whitespace=="pre"?Gg|qg:r&~ed}class xf{constructor(e,r,n,i,s,o){this.type=e,this.attrs=r,this.marks=n,this.solid=i,this.options=o,this.content=[],this.activeMarks=et.none,this.match=s||(o&ed?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(S.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,i;return(i=n.findWrapping(e.type))?(this.match=n,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Gg)){let n=this.content[this.content.length-1],i;if(n&&n.isText&&(i=/[ \t\r\n\u000c]+$/.exec(n.text))){let s=n;n.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let r=S.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(S.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!gV.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class X1{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0;let i=r.topNode,s,o=J1(null,r.preserveWhitespace,0)|(n?ed:0);i?s=new xf(i.type,i.attrs,et.none,!0,r.topMatch||i.type.contentMatch,o):n?s=new xf(null,null,et.none,!0,null,o):s=new xf(e.schema.topNodeType,null,et.none,!0,null,o),this.nodes=[s],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,i=this.top;if(i.options&qg||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(i.options&Gg)i.options&qg?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],o=e.previousSibling;(!s||o&&o.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),r),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let i=e.nodeName.toLowerCase(),s;mV.hasOwnProperty(i)&&this.parser.normalizeLists&&Hne(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(s=this.parser.matchTag(e,this,n));if(o?o.ignore:Vne.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e,r);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let a,l=this.top,c=this.needsBlock;if(gV.hasOwnProperty(i))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),a=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);return}let u=o&&o.skip?r:this.readStyles(e,r);u&&this.addAll(e,u),a&&this.sync(l),this.needsBlock=c}else{let a=this.readStyles(e,r);a&&this.addElementByRule(e,o,a,o.consuming===!1?s:void 0)}}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=n.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?r=r.filter(c=>!l.clearMark(c)):r=r.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return r}addElementByRule(e,r,n,i){let s,o;if(r.node)if(o=this.parser.schema.nodes[r.node],o.isLeaf)this.insertNode(o.create(r.attrs),n)||this.leafFallback(e,n);else{let l=this.enter(o,r.attrs||null,n,r.preserveWhitespace);l&&(s=!0,n=l)}else{let l=this.parser.schema.marks[r.mark];n=n.concat(l.create(r.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,n,i);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,n));else{let l=e;typeof r.contentElement=="string"?l=e.querySelector(r.contentElement):typeof r.contentElement=="function"?l=r.contentElement(e):r.contentElement&&(l=r.contentElement),this.findAround(e,l,!0),this.addAll(l,n)}s&&this.sync(a)&&this.open--}addAll(e,r,n,i){let s=n||0;for(let o=n?e.childNodes[n]:e.firstChild,a=i==null?null:e.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,r);this.findAtPoint(e,s)}findPlace(e,r){let n,i;for(let s=this.open;s>=0;s--){let o=this.nodes[s],a=o.findWrapping(e);if(a&&(!n||n.length>a.length)&&(n=a,i=o,!a.length)||o.solid)break}if(!n)return null;this.sync(i);for(let s=0;s<n.length;s++)r=this.enterInner(n[s],null,r,!1);return r}insertNode(e,r){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(r=this.enterInner(i,null,r))}let n=this.findPlace(e,r);if(n){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let s=et.none;for(let o of n.concat(e.marks))(i.type?i.type.allowsMarkType(o.type):eI(o.type,e.type))&&(s=o.addToSet(s));return i.content.push(e.mark(s)),!0}return!1}enter(e,r,n,i){let s=this.findPlace(e.create(r),n);return s&&(s=this.enterInner(e,r,n,!0,i)),s}enterInner(e,r,n,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=J1(e,s,o.options);o.options&ed&&o.content.length==0&&(a|=ed);let l=et.none;return n=n.filter(c=>(o.type?o.type.allowsMarkType(c.type):eI(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new xf(e,r,l,i,null,a)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let r=this.open;r>=0;r--)if(this.nodes[r]==e)return this.open=r,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let i=n.length-1;i>=0;i--)e+=n[i].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&r.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,i=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),s=-(n?n.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let c=r[a];if(c==""){if(a==r.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:n&&l>=s?n.node(l-s).type:null;if(!u||u.name!=c&&u.groups.indexOf(c)==-1)return!1;l--}}return!0};return o(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function Hne(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&mV.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function jne(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Q1(t){let e={};for(let r in t)e[r]=t[r];return e}function eI(t,e){let r=e.schema.nodes;for(let n in r){let i=r[n];if(!i.allowsMarkType(t))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||s.indexOf(u)<0&&o(u))return!0}};if(o(i.contentMatch))return!0}}class Ji{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=Gb(r).createDocumentFragment());let i=n,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,r);u&&(s.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(o,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:i}=bp(Gb(r),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,i)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,r);s&&((s.contentDOM||s.dom).appendChild(n),n=s.dom)}return n}serializeMark(e,r,n={}){let i=this.marks[e.type.name];return i&&bp(Gb(n),i(e,r),null,e.attrs)}static renderSpec(e,r,n=null,i){return bp(e,r,n,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Ji(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=tI(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return tI(e.marks)}}function tI(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function Gb(t){return t.document||window.document}const nI=new WeakMap;function Une(t){let e=nI.get(t);return e===void 0&&nI.set(t,e=$ne(t)),e}function $ne(t){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let i=0;i<n.length;i++)r(n[i]);else for(let i in n)r(n[i])}return r(t),e}function bp(t,e,r,n){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(s=Une(n))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let a,l=r?t.createElementNS(r,i):t.createElement(i),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let h=d.indexOf(" ");h>0?l.setAttributeNS(d.slice(0,h),d.slice(h+1),c[d]):l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let h=e[d];if(h===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:f,contentDOM:p}=bp(t,h,r,n);if(l.appendChild(f),p){if(a)throw new RangeError("Multiple content holes");a=p}}}return{dom:l,contentDOM:a}}const yV=65535,vV=Math.pow(2,16);function zne(t,e){return t+e*vV}function rI(t){return t&yV}function Wne(t){return(t-(t&yV))/vV}const bV=1,wV=2,wp=4,_V=8;class bC{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&_V)>0}get deletedBefore(){return(this.delInfo&(bV|wp))>0}get deletedAfter(){return(this.delInfo&(wV|wp))>0}get deletedAcross(){return(this.delInfo&wp)>0}}class qn{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&qn.empty)return qn.empty}recover(e){let r=0,n=rI(e);if(!this.inverted)for(let i=0;i<n;i++)r+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+r+Wne(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+s],u=this.ranges[a+o],d=l+c;if(e<=d){let h=c?e==l?-1:e==d?1:r:r,f=l+i+(h<0?0:u);if(n)return f;let p=e==(r<0?l:d)?null:zne(a/3,e-l),g=e==l?wV:e==d?bV:wp;return(r<0?e!=l:e!=d)&&(g|=_V),new bC(f,g,p)}i+=u-c}return n?e+i:new bC(e+i,0,null)}touches(e,r){let n=0,i=rI(r),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?n:0);if(l>e)break;let c=this.ranges[a+s],u=l+c;if(e<=u&&a==i*3)return!0;n+=this.ranges[a+o]-c}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[i+r],u=this.ranges[i+n];e(a,a+c,l,l+u),s+=u-c}}invert(){return new qn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?qn.empty:new qn(e<0?[0,-e,0]:[0,0,e])}}qn.empty=new qn([]);class Jl{constructor(e=[],r,n=0,i=e.length){this.maps=e,this.mirror=r,this.from=n,this.to=i}slice(e=0,r=this.maps.length){return new Jl(this.maps,this.mirror,e,r)}copy(){return new Jl(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,r){this.to=this.maps.push(e),r!=null&&this.setMirror(this.maps.length-1,r)}appendMapping(e){for(let r=0,n=this.maps.length;r<e.maps.length;r++){let i=e.getMirror(r);this.appendMap(e.maps[r],i!=null&&i<r?n+i:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this.maps.length+e.maps.length;r>=0;r--){let i=e.getMirror(r);this.appendMap(e.maps[r].invert(),i!=null&&i>r?n-i-1:void 0)}}invert(){let e=new Jl;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let i=0;for(let s=this.from;s<this.to;s++){let o=this.maps[s],a=o.mapResult(e,r);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return n?e:new bC(e,i,null)}}const qb=Object.create(null);class fn{getMap(){return qn.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=qb[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in qb)throw new RangeError("Duplicate use of step JSON ID "+e);return qb[e]=r,r.prototype.jsonID=e,r}}class Rt{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new Rt(e,null)}static fail(e){return new Rt(null,e)}static fromReplace(e,r,n,i){try{return Rt.ok(e.replace(r,n,i))}catch(s){if(s instanceof Ug)return Rt.fail(s.message);throw s}}}function ck(t,e,r){let n=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(ck(s.content,e,s))),s.isInline&&(s=e(s,r,i)),n.push(s)}return S.fromArray(n)}class Js extends fn{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),s=new N(ck(r.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),r.openStart,r.openEnd);return Rt.fromReplace(e,this.from,this.to,s)}invert(){return new Oi(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Js(r.pos,n.pos,this.mark)}merge(e){return e instanceof Js&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Js(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Js(r.from,r.to,e.markFromJSON(r.mark))}}fn.jsonID("addMark",Js);class Oi extends fn{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new N(ck(r.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),r.openStart,r.openEnd);return Rt.fromReplace(e,this.from,this.to,n)}invert(){return new Js(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Oi(r.pos,n.pos,this.mark)}merge(e){return e instanceof Oi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Oi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Oi(r.from,r.to,e.markFromJSON(r.mark))}}fn.jsonID("removeMark",Oi);class Xs extends fn{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Rt.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return Rt.fromReplace(e,this.pos,this.pos+1,new N(S.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let i=0;i<r.marks.length;i++)if(!r.marks[i].isInSet(n))return new Xs(this.pos,r.marks[i]);return new Xs(this.pos,this.mark)}}return new _c(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Xs(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Xs(r.pos,e.markFromJSON(r.mark))}}fn.jsonID("addNodeMark",Xs);class _c extends fn{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Rt.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return Rt.fromReplace(e,this.pos,this.pos+1,new N(S.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new Xs(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new _c(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new _c(r.pos,e.markFromJSON(r.mark))}}fn.jsonID("removeNodeMark",_c);class zt extends fn{constructor(e,r,n,i=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=i}apply(e){return this.structure&&wC(e,this.from,this.to)?Rt.fail("Structure replace would overwrite content"):Rt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new qn([this.from,this.to-this.from,this.slice.size])}invert(e){return new zt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new zt(r.pos,Math.max(r.pos,n.pos),this.slice)}merge(e){if(!(e instanceof zt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?N.empty:new N(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new zt(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?N.empty:new N(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new zt(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new zt(r.from,r.to,N.fromJSON(e,r.slice),!!r.structure)}}fn.jsonID("replace",zt);class Gt extends fn{constructor(e,r,n,i,s,o,a=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(wC(e,this.from,this.gapFrom)||wC(e,this.gapTo,this.to)))return Rt.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return Rt.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?Rt.fromReplace(e,this.from,this.to,n):Rt.fail("Content does not fit in gap")}getMap(){return new qn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new Gt(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),i=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||i<r.pos||s>n.pos?null:new Gt(r.pos,n.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Gt(r.from,r.to,r.gapFrom,r.gapTo,N.fromJSON(e,r.slice),r.insert,!!r.structure)}}fn.jsonID("replaceAround",Gt);function wC(t,e,r){let n=t.resolve(e),i=r-e,s=n.depth;for(;i>0&&s>0&&n.indexAfter(s)==n.node(s).childCount;)s--,i--;if(i>0){let o=n.node(s).maybeChild(n.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function Gne(t,e,r,n){let i=[],s=[],o,a;t.doc.nodesBetween(e,r,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!n.isInSet(d)&&u.type.allowsMarkType(n.type)){let h=Math.max(c,e),f=Math.min(c+l.nodeSize,r),p=n.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(p)||(o&&o.to==h&&o.mark.eq(d[g])?o.to=f:i.push(o=new Oi(h,f,d[g])));a&&a.to==h?a.to=f:s.push(a=new Js(h,f,n))}}),i.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function qne(t,e,r,n){let i=[],s=0;t.doc.nodesBetween(e,r,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(n instanceof cv){let c=o.marks,u;for(;u=n.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else n?n.isInSet(o.marks)&&(l=[n]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,r);for(let u=0;u<l.length;u++){let d=l[u],h;for(let f=0;f<i.length;f++){let p=i[f];p.step==s-1&&d.eq(i[f].style)&&(h=p)}h?(h.to=c,h.step=s):i.push({style:d,from:Math.max(a,e),to:c,step:s})}}}),i.forEach(o=>t.step(new Oi(o.from,o.to,o.style)))}function CV(t,e,r,n=r.contentMatch,i=!0){let s=t.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),u=a+c.nodeSize,d=n.matchType(c.type);if(!d)o.push(new zt(a,u,N.empty));else{n=d;for(let h=0;h<c.marks.length;h++)r.allowsMarkType(c.marks[h].type)||t.step(new Oi(a,u,c.marks[h]));if(i&&c.isText&&r.whitespace!="pre"){let h,f=/\r?\n|\r/g,p;for(;h=f.exec(c.text);)p||(p=new N(S.from(r.schema.text(" ",r.allowedMarks(c.marks))),0,0)),o.push(new zt(a+h.index,a+h.index+h[0].length,p))}}a=u}if(!n.validEnd){let l=n.fillBefore(S.empty,!0);t.replace(a,a,new N(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function Kne(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function lu(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let i=t.$from.node(n),s=t.$from.index(n),o=t.$to.indexAfter(n);if(n<t.depth&&i.canReplace(s,o,r))return n;if(n==0||i.type.spec.isolating||!Kne(i,s,o))break}return null}function Zne(t,e,r){let{$from:n,$to:i,depth:s}=e,o=n.before(s+1),a=i.after(s+1),l=o,c=a,u=S.empty,d=0;for(let p=s,g=!1;p>r;p--)g||n.index(p)>0?(g=!0,u=S.from(n.node(p).copy(u)),d++):l--;let h=S.empty,f=0;for(let p=s,g=!1;p>r;p--)g||i.after(p+1)<i.end(p)?(g=!0,h=S.from(i.node(p).copy(h)),f++):c++;t.step(new Gt(l,c,o,a,new N(u.append(h),d,f),u.size-d,!0))}function EV(t,e,r=null,n=t){let i=Yne(t,e),s=i&&Jne(n,e);return s?i.map(iI).concat({type:e,attrs:r}).concat(s.map(iI)):null}function iI(t){return{type:t,attrs:null}}function Yne(t,e){let{parent:r,startIndex:n,endIndex:i}=t,s=r.contentMatchAt(n).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return r.canReplaceWith(n,i,o)?s:null}function Jne(t,e){let{parent:r,startIndex:n,endIndex:i}=t,s=r.child(n),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=n;l&&c<i;c++)l=l.matchType(r.child(c).type);return!l||!l.validEnd?null:o}function Xne(t,e,r){let n=S.empty;for(let o=r.length-1;o>=0;o--){if(n.size){let a=r[o].type.contentMatch.matchFragment(n);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=S.from(r[o].type.create(r[o].attrs,n))}let i=e.start,s=e.end;t.step(new Gt(i,s,i,s,new N(n,0,0),r.length,!0))}function Qne(t,e,r,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,r,(o,a)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(n,l)&&nre(t.doc,t.mapping.slice(s).map(a),n)){let c=null;if(n.schema.linebreakReplacement){let f=n.whitespace=="pre",p=!!n.contentMatch.matchType(n.schema.linebreakReplacement);f&&!p?c=!1:!f&&p&&(c=!0)}c===!1&&tre(t,o,a,s),CV(t,t.mapping.slice(s).map(a,1),n,void 0,c===null);let u=t.mapping.slice(s),d=u.map(a,1),h=u.map(a+o.nodeSize,1);return t.step(new Gt(d,h,d+1,h-1,new N(S.from(n.create(l,null,o.marks)),0,0),1,!0)),c===!0&&ere(t,o,a,s),!1}})}function ere(t,e,r,n){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=t.mapping.slice(n).map(r+1+s+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function tre(t,e,r,n){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=t.mapping.slice(n).map(r+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function nre(t,e,r){let n=t.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,r)}function rre(t,e,r,n,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");r||(r=s.type);let o=r.create(n,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!r.validContent(s.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new Gt(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new N(S.from(o),0,0),1,!0))}function Xl(t,e,r=1,n){let i=t.resolve(e),s=i.depth-r,o=n&&n[n.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=r-2;c>s;c--,u--){let d=i.node(c),h=i.index(c);if(d.type.spec.isolating)return!1;let f=d.content.cutByIndex(h,d.childCount),p=n&&n[u+1];p&&(f=f.replaceChild(0,p.type.create(p.attrs)));let g=n&&n[u]||d;if(!d.canReplace(h+1,d.childCount)||!g.type.validContent(f))return!1}let a=i.indexAfter(s),l=n&&n[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function ire(t,e,r=1,n){let i=t.doc.resolve(e),s=S.empty,o=S.empty;for(let a=i.depth,l=i.depth-r,c=r-1;a>l;a--,c--){s=S.from(i.node(a).copy(s));let u=n&&n[c];o=S.from(u?u.type.create(u.attrs,o):i.node(a).copy(o))}t.step(new zt(e,e,new N(s.append(o),r,r),!0))}function cl(t,e){let r=t.resolve(e),n=r.index();return DV(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function DV(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function uv(t,e,r=-1){let n=t.resolve(e);for(let i=n.depth;;i--){let s,o,a=n.index(i);if(i==n.depth?(s=n.nodeBefore,o=n.nodeAfter):r>0?(s=n.node(i+1),a++,o=n.node(i).maybeChild(a)):(s=n.node(i).maybeChild(a-1),o=n.node(i+1)),s&&!s.isTextblock&&DV(s,o)&&n.node(i).canReplace(a,a+1))return e;if(i==0)break;e=r<0?n.before(i):n.after(i)}}function sre(t,e,r){let n=new zt(e-r,e+r,N.empty,!0);t.step(n)}function ore(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let i=n.depth-1;i>=0;i--){let s=n.index(i);if(n.node(i).canReplaceWith(s,s,r))return n.before(i+1);if(s>0)return null}if(n.parentOffset==n.parent.content.size)for(let i=n.depth-1;i>=0;i--){let s=n.indexAfter(i);if(n.node(i).canReplaceWith(s,s,r))return n.after(i+1);if(s<n.node(i).childCount)return null}return null}function kV(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let i=r.content;for(let s=0;s<r.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(r.openStart==0&&r.size?2:1);s++)for(let o=n.depth;o>=0;o--){let a=o==n.depth?0:n.pos<=(n.start(o+1)+n.end(o+1))/2?-1:1,l=n.index(o)+(a>0?1:0),c=n.node(o),u=!1;if(s==1)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?n.pos:a<0?n.before(o+1):n.after(o+1)}return null}function dv(t,e,r=e,n=N.empty){if(e==r&&!n.size)return null;let i=t.resolve(e),s=t.resolve(r);return MV(i,s,n)?new zt(e,r,n):new are(i,s,n).fit()}function MV(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}class are{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=S.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=S.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let s=this.placed,o=n.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new N(s,o,a);return e>-1?new Gt(n.pos,e,this.$to.pos,this.$to.end(),l,r):l.size||n.pos!=this.$to.pos?new zt(n.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,i=this.unplaced.openEnd;n<e;n++){let s=r.firstChild;if(r.childCount>1&&(i=0),s.type.spec.isolating&&i<=n){e=n;break}r=s.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let i,s=null;n?(s=Kb(this.unplaced.content,n-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(r==1&&(o?c.matchType(o.type)||(d=c.fillBefore(S.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:n,frontierDepth:a,parent:s,inject:d};if(r==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:a,parent:s,wrap:u};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=Kb(e,r);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new N(e,r+1,Math.max(n,i.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=Kb(e,r);if(i.childCount<=1&&r>0){let s=e.size-r<=r+i.size;this.unplaced=new N(Nu(e,r-1,1),r-1,s?r-1:n)}else this.unplaced=new N(Nu(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:i,wrap:s}){for(;this.depth>r;)this.closeFrontierNode();if(s)for(let g=0;g<s.length;g++)this.openFrontierNode(s[g]);let o=this.unplaced,a=n?n.content:o.content,l=o.openStart-e,c=0,u=[],{match:d,type:h}=this.frontier[r];if(i){for(let g=0;g<i.childCount;g++)u.push(i.child(g));d=d.matchFragment(i)}let f=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let g=a.child(c),m=d.matchType(g.type);if(!m)break;c++,(c>1||l==0||g.content.size)&&(d=m,u.push(SV(g.mark(h.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?f:-1)))}let p=c==a.childCount;p||(f=-1),this.placed=Pu(this.placed,r,S.from(u)),this.frontier[r].match=d,p&&f<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,m=a;g<f;g++){let y=m.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),m=y.content}this.unplaced=p?e==0?N.empty:new N(Nu(o.content,e-1,1),e-1,f<0?o.openEnd:e-1):new N(Nu(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!Zb(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:i}=this.frontier[r],s=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),o=Zb(e,r,i,n,s);if(o){for(let a=r-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=Zb(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:r,fit:o,move:s?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=Pu(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let i=e.node(n),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,r=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Pu(this.placed,this.depth,S.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(S.empty,!0);r.childCount&&(this.placed=Pu(this.placed,this.frontier.length,r))}}function Nu(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(Nu(t.firstChild.content,e-1,r)))}function Pu(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(Pu(t.lastChild.content,e-1,r)))}function Kb(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function SV(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,SV(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(S.empty,!0)))),t.copy(n)}function Zb(t,e,r,n,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!r.compatibleContent(s.type))return null;let a=n.fillBefore(s.content,!0,o);return a&&!lre(r,s.content,o)?a:null}function lre(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function cre(t){return t.spec.defining||t.spec.definingForContent}function ure(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let i=t.doc.resolve(e),s=t.doc.resolve(r);if(MV(i,s,n))return t.step(new zt(e,r,n));let o=IV(i,t.doc.resolve(r));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let h=i.depth,f=i.pos-1;h>0;h--,f--){let p=i.node(h).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(h)>-1?a=h:i.before(h)==f&&o.splice(1,0,-h)}let l=o.indexOf(a),c=[],u=n.openStart;for(let h=n.content,f=0;;f++){let p=h.firstChild;if(c.push(p),f==n.openStart)break;h=p.content}for(let h=u-1;h>=0;h--){let f=c[h],p=cre(f.type);if(p&&!f.sameMarkup(i.node(Math.abs(a)-1)))u=h;else if(p||!f.type.isTextblock)break}for(let h=n.openStart;h>=0;h--){let f=(h+u+1)%(n.openStart+1),p=c[f];if(p)for(let g=0;g<o.length;g++){let m=o[(g+l)%o.length],y=!0;m<0&&(y=!1,m=-m);let v=i.node(m-1),b=i.index(m-1);if(v.canReplaceWith(b,b,p.type,p.marks))return t.replace(i.before(m),y?s.after(m):r,new N(TV(n.content,0,n.openStart,f),f,n.openEnd))}}let d=t.steps.length;for(let h=o.length-1;h>=0&&(t.replace(e,r,n),!(t.steps.length>d));h--){let f=o[h];f<0||(e=i.before(f),r=s.after(f))}}function TV(t,e,r,n,i){if(e<r){let s=t.firstChild;t=t.replaceChild(0,s.copy(TV(s.content,e+1,r,n,s)))}if(e>n){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(S.empty,!0))}return t}function dre(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let i=ore(t.doc,e,n.type);i!=null&&(e=r=i)}t.replaceRange(e,r,new N(S.from(n),0,0))}function hre(t,e,r){let n=t.doc.resolve(e),i=t.doc.resolve(r),s=IV(n,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||n.node(a).type.contentMatch.validEnd)return t.delete(n.start(a),i.end(a));if(a>0&&(l||n.node(a-1).canReplace(n.index(a-1),i.indexAfter(a-1))))return t.delete(n.before(a),i.after(a))}for(let o=1;o<=n.depth&&o<=i.depth;o++)if(e-n.start(o)==n.depth-o&&r>n.end(o)&&i.end(o)-r!=i.depth-o)return t.delete(n.before(o),r);t.delete(e,r)}function IV(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let i=n;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&r.push(i)}return r}class Ql extends fn{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return Rt.fail("No node at attribute step's position");let n=Object.create(null);for(let s in r.attrs)n[s]=r.attrs[s];n[this.attr]=this.value;let i=r.type.create(n,null,r.marks);return Rt.fromReplace(e,this.pos,this.pos+1,new N(S.from(i),0,r.isLeaf?0:1))}getMap(){return qn.empty}invert(e){return new Ql(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Ql(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ql(r.pos,r.attr,r.value)}}fn.jsonID("attr",Ql);class Ld extends fn{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let i in e.attrs)r[i]=e.attrs[i];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return Rt.ok(n)}getMap(){return qn.empty}invert(e){return new Ld(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Ld(r.attr,r.value)}}fn.jsonID("docAttr",Ld);let Cc=class extends Error{};Cc=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r};Cc.prototype=Object.create(Error.prototype);Cc.prototype.constructor=Cc;Cc.prototype.name="TransformError";class uk{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Jl}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new Cc(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=N.empty){let i=dv(this.doc,e,r,n);return i&&this.step(i),this}replaceWith(e,r,n){return this.replace(e,r,new N(S.from(n),0,0))}delete(e,r){return this.replace(e,r,N.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return ure(this,e,r,n),this}replaceRangeWith(e,r,n){return dre(this,e,r,n),this}deleteRange(e,r){return hre(this,e,r),this}lift(e,r){return Zne(this,e,r),this}join(e,r=1){return sre(this,e,r),this}wrap(e,r){return Xne(this,e,r),this}setBlockType(e,r=e,n,i=null){return Qne(this,e,r,n,i),this}setNodeMarkup(e,r,n=null,i){return rre(this,e,r,n,i),this}setNodeAttribute(e,r,n){return this.step(new Ql(e,r,n)),this}setDocAttribute(e,r){return this.step(new Ld(e,r)),this}addNodeMark(e,r){return this.step(new Xs(e,r)),this}removeNodeMark(e,r){if(!(r instanceof et)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r=r.isInSet(n.marks),!r)return this}return this.step(new _c(e,r)),this}split(e,r=1,n){return ire(this,e,r,n),this}addMark(e,r,n){return Gne(this,e,r,n),this}removeMark(e,r,n){return qne(this,e,r,n),this}clearIncompatible(e,r,n){return CV(this,e,r,n),this}}const Yb=Object.create(null);class se{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new xV(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=N.empty){let n=r.content.lastChild,i=null;for(let a=0;a<r.openEnd;a++)i=n,n=n.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=e.mapping.slice(s);e.replaceRange(u.map(l.pos),u.map(c.pos),a?N.empty:r),a==0&&aI(e,s,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=e.mapping.slice(n),c=l.map(o.pos),u=l.map(a.pos);s?e.deleteRange(c,u):(e.replaceRangeWith(c,u,r),aI(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let i=e.parent.inlineContent?new te(e):Tl(e.node(0),e.parent,e.pos,e.index(),r,n);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=r<0?Tl(e.node(0),e.node(s),e.before(s+1),e.index(s),r,n):Tl(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,r,n);if(o)return o}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new Yr(e.node(0))}static atStart(e){return Tl(e,e,0,0,1)||new Yr(e)}static atEnd(e){return Tl(e,e,e.content.size,e.childCount,-1)||new Yr(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=Yb[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in Yb)throw new RangeError("Duplicate use of selection JSON ID "+e);return Yb[e]=r,r.prototype.jsonID=e,r}getBookmark(){return te.between(this.$anchor,this.$head).getBookmark()}}se.prototype.visible=!0;class xV{constructor(e,r){this.$from=e,this.$to=r}}let sI=!1;function oI(t){!sI&&!t.parent.inlineContent&&(sI=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class te extends se{constructor(e,r=e){oI(e),oI(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return se.near(n);let i=e.resolve(r.map(this.anchor));return new te(i.parent.inlineContent?i:n,n)}replace(e,r=N.empty){if(super.replace(e,r),r==N.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof te&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new hv(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new te(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let i=e.resolve(r);return new this(i,n==r?i:e.resolve(n))}static between(e,r,n){let i=e.pos-r.pos;if((!n||i)&&(n=i>=0?1:-1),!r.parent.inlineContent){let s=se.findFrom(r,n,!0)||se.findFrom(r,-n,!0);if(s)r=s.$head;else return se.near(r,n)}return e.parent.inlineContent||(i==0?e=r:(e=(se.findFrom(e,-n,!0)||se.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=i<0&&(e=r))),new te(e,r)}}se.jsonID("text",te);class hv{constructor(e,r){this.anchor=e,this.head=r}map(e){return new hv(e.map(this.anchor),e.map(this.head))}resolve(e){return te.between(e.resolve(this.anchor),e.resolve(this.head))}}class X extends se{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:i}=r.mapResult(this.anchor),s=e.resolve(i);return n?se.near(s):new X(s)}content(){return new N(S.from(this.node),0,0)}eq(e){return e instanceof X&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new dk(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new X(e.resolve(r.anchor))}static create(e,r){return new X(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}X.prototype.visible=!1;se.jsonID("node",X);class dk{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new hv(n,n):new dk(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&X.isSelectable(n)?new X(r):se.near(r)}}class Yr extends se{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=N.empty){if(r==N.empty){e.delete(0,e.doc.content.size);let n=se.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new Yr(e)}map(e){return new Yr(e)}eq(e){return e instanceof Yr}getBookmark(){return fre}}se.jsonID("all",Yr);const fre={map(){return this},resolve(t){return new Yr(t)}};function Tl(t,e,r,n,i,s=!1){if(e.inlineContent)return te.create(t,r);for(let o=n-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&X.isSelectable(a))return X.create(t,r-(i<0?a.nodeSize:0))}else{let l=Tl(t,a,r+i,i<0?a.childCount:0,i,s);if(l)return l}r+=a.nodeSize*i}return null}function aI(t,e,r){let n=t.steps.length-1;if(n<e)return;let i=t.steps[n];if(!(i instanceof zt||i instanceof Gt))return;let s=t.mapping.maps[n],o;s.forEach((a,l,c,u)=>{o==null&&(o=u)}),t.setSelection(se.near(t.doc.resolve(o),r))}const lI=1,Af=2,cI=4;let pre=class extends uk{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|lI)&~Af,this.storedMarks=null,this}get selectionSet(){return(this.updated&lI)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Af,this}ensureMarks(e){return et.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Af)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~Af,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||et.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let i=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),n=n??r,!e)return this.deleteRange(r,n);let s=this.storedMarks;if(!s){let o=this.doc.resolve(r);s=n==r?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,i.text(e,s)),this.selection.empty||this.setSelection(se.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=cI,this}get scrolledIntoView(){return(this.updated&cI)>0}};function uI(t,e){return!e||!t?t:t.bind(e)}class Lu{constructor(e,r,n){this.name=e,this.init=uI(r.init,n),this.apply=uI(r.apply,n)}}const gre=[new Lu("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Lu("selection",{init(t,e){return t.selection||se.atStart(e.doc)},apply(t){return t.selection}}),new Lu("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new Lu("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Jb{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=gre.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new Lu(n.key,n.spec.state,n))})}}class ia{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,c=i?i[o].state:this,u=l<r.length&&a.spec.appendTransaction.call(a,l?r.slice(l):r,c,n);if(u&&n.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<o?{state:n,n:r.length}:{state:this,n:0})}r.push(u),n=n.applyInner(u),s=!0}i&&(i[o]={state:n,n:r.length})}}if(!s)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new ia(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let s=n[i];r[s.name]=s.apply(e,this[s.name],this,r)}return r}get tr(){return new pre(this)}static create(e){let r=new Jb(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new ia(r);for(let i=0;i<r.fields.length;i++)n[r.fields[i].name]=r.fields[i].init(e,n);return n}reconfigure(e){let r=new Jb(this.schema,e.plugins),n=r.fields,i=new ia(r);for(let s=0;s<n.length;s++){let o=n[s].name;i[o]=this.hasOwnProperty(o)?this[o]:n[s].init(e,i)}return i}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[n],s=i.spec.state;s&&s.toJSON&&(r[n]=s.toJSON.call(i,this[i.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Jb(e.schema,e.plugins),s=new ia(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=co.fromJSON(e.schema,r.doc);else if(o.name=="selection")s.selection=se.fromJSON(s.doc,r.selection);else if(o.name=="storedMarks")r.storedMarks&&(s.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let a in n){let l=n[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(r,a)){s[o.name]=c.fromJSON.call(l,e,r[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function AV(t,e,r){for(let n in t){let i=t[n];i instanceof Function?i=i.bind(e):n=="handleDOMEvents"&&(i=AV(i,e,{})),r[n]=i}return r}class Oe{constructor(e){this.spec=e,this.props={},e.props&&AV(e.props,this,this.props),this.key=e.key?e.key.key:OV("plugin")}getState(e){return e[this.key]}}const Xb=Object.create(null);function OV(t){return t in Xb?t+"$"+ ++Xb[t]:(Xb[t]=0,t+"$")}class Je{constructor(e="key"){this.key=OV(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const nn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Fd=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let _C=null;const ss=function(t,e,r){let n=_C||(_C=document.createRange());return n.setEnd(t,r??t.nodeValue.length),n.setStart(t,e||0),n},mre=function(){_C=null},Va=function(t,e,r,n){return r&&(dI(t,e,r,n,-1)||dI(t,e,r,n,1))},yre=/^(img|br|input|textarea|hr)$/i;function dI(t,e,r,n,i){for(;;){if(t==r&&e==n)return!0;if(e==(i<0?0:Mi(t))){let s=t.parentNode;if(!s||s.nodeType!=1||zh(t)||yre.test(t.nodeName)||t.contentEditable=="false")return!1;e=nn(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Mi(t):0}else return!1}}function Mi(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function vre(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Mi(t)}else if(t.parentNode&&!zh(t))e=nn(t),t=t.parentNode;else return null}}function bre(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!zh(t))e=nn(t)+1,t=t.parentNode;else return null}}function wre(t,e,r){for(let n=e==0,i=e==Mi(t);n||i;){if(t==r)return!0;let s=nn(t);if(t=t.parentNode,!t)return!1;n=n&&s==0,i=i&&s==Mi(t)}}function zh(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const fv=function(t){return t.focusNode&&Va(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Xo(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function _re(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Cre(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:n.offset}}catch{}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:n.startOffset}}}const Hi=typeof navigator<"u"?navigator:null,hI=typeof document<"u"?document:null,$o=Hi&&Hi.userAgent||"",CC=/Edge\/(\d+)/.exec($o),RV=/MSIE \d/.exec($o),EC=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec($o),Rn=!!(RV||EC||CC),uo=RV?document.documentMode:EC?+EC[1]:CC?+CC[1]:0,ni=!Rn&&/gecko\/(\d+)/i.test($o);ni&&+(/Firefox\/(\d+)/.exec($o)||[0,0])[1];const DC=!Rn&&/Chrome\/(\d+)/.exec($o),un=!!DC,NV=DC?+DC[1]:0,wn=!Rn&&!!Hi&&/Apple Computer/.test(Hi.vendor),Ec=wn&&(/Mobile\/\w+/.test($o)||!!Hi&&Hi.maxTouchPoints>2),ur=Ec||(Hi?/Mac/.test(Hi.platform):!1),Ere=Hi?/Win/.test(Hi.platform):!1,Ur=/Android \d/.test($o),Wh=!!hI&&"webkitFontSmoothing"in hI.documentElement.style,Dre=Wh?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function kre(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function es(t,e){return typeof t=="number"?t:t[e]}function Mre(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function fI(t,e,r){let n=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=r||t.dom;o;o=Fd(o)){if(o.nodeType!=1)continue;let a=o,l=a==s.body,c=l?kre(s):Mre(a),u=0,d=0;if(e.top<c.top+es(n,"top")?d=-(c.top-e.top+es(i,"top")):e.bottom>c.bottom-es(n,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+es(i,"top")-c.top:e.bottom-c.bottom+es(i,"bottom")),e.left<c.left+es(n,"left")?u=-(c.left-e.left+es(i,"left")):e.right>c.right-es(n,"right")&&(u=e.right-c.right+es(i,"right")),u||d)if(l)s.defaultView.scrollBy(u,d);else{let h=a.scrollLeft,f=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let p=a.scrollLeft-h,g=a.scrollTop-f;e={left:e.left-p,top:e.top-g,right:e.right-p,bottom:e.bottom-g}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function Sre(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,i;for(let s=(e.left+e.right)/2,o=r+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(s,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=r-20){n=a,i=l.top;break}}return{refDOM:n,refTop:i,stack:PV(t.dom)}}function PV(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=Fd(n));return e}function Tre({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;LV(r,n==0?0:n-e)}function LV(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:i,left:s}=t[r];n.scrollTop!=i+e&&(n.scrollTop=i+e),n.scrollLeft!=s&&(n.scrollLeft=s)}}let Cl=null;function Ire(t){if(t.setActive)return t.setActive();if(Cl)return t.focus(Cl);let e=PV(t);t.focus(Cl==null?{get preventScroll(){return Cl={preventScroll:!0},!0}}:void 0),Cl||(Cl=!1,LV(e,0))}function FV(t,e){let r,n=2e8,i,s=0,o=e.top,a=e.top,l,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let h;if(u.nodeType==1)h=u.getClientRects();else if(u.nodeType==3)h=ss(u).getClientRects();else continue;for(let f=0;f<h.length;f++){let p=h[f];if(p.top<=o&&p.bottom>=a){o=Math.max(p.bottom,o),a=Math.min(p.top,a);let g=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(g<n){r=u,n=g,i=g&&r.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,u.nodeType==1&&g&&(s=d+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!l&&p.left<=e.left&&p.right>=e.left&&(l=u,c={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!r&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(s=d+1)}}return!r&&l&&(r=l,i=c,n=0),r&&r.nodeType==3?xre(r,i):!r||n&&r.nodeType==1?{node:t,offset:s}:FV(r,i)}function xre(t,e){let r=t.nodeValue.length,n=document.createRange();for(let i=0;i<r;i++){n.setEnd(t,i+1),n.setStart(t,i);let s=Hs(n,1);if(s.top!=s.bottom&&hk(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function hk(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Are(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function Ore(t,e,r){let{node:n,offset:i}=FV(e,r),s=-1;if(n.nodeType==1&&!n.firstChild){let o=n.getBoundingClientRect();s=o.left!=o.right&&r.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(n,i,s)}function Rre(t,e,r,n){let i=-1;for(let s=e,o=!1;s!=t.dom;){let a=t.docView.nearestDesc(s,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!o&&l.left>n.left||l.top>n.top?i=a.posBefore:(!o&&l.right<n.left||l.bottom<n.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText)return(a.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}s=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,r,-1)}function BV(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),s=i;;){let o=t.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(hk(e,c))return BV(o,e,c)}}if((s=(s+1)%n)==i)break}return t}function Nre(t,e){let r=t.dom.ownerDocument,n,i=0,s=Cre(r,e.left,e.top);s&&({node:n,offset:i}=s);let o=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=t.dom.getBoundingClientRect();if(!hk(e,c)||(o=BV(t.dom,e,c),!o))return null}if(wn)for(let c=o;n&&c;c=Fd(c))c.draggable&&(n=void 0);if(o=Are(o,e),n){if(ni&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let u=n.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let c;Wh&&i&&n.nodeType==1&&(c=n.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,n==t.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(a=Rre(t,n,i,e))}a==null&&(a=Ore(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function pI(t){return t.top<t.bottom||t.left<t.right}function Hs(t,e){let r=t.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(pI(n))return n}return Array.prototype.find.call(r,pI)||t.getBoundingClientRect()}const Pre=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function VV(t,e,r){let{node:n,offset:i,atom:s}=t.docView.domFromPos(e,r<0?-1:1),o=Wh||ni;if(n.nodeType==3)if(o&&(Pre.test(n.nodeValue)||(r<0?!i:i==n.nodeValue.length))){let l=Hs(ss(n,i,i),r);if(ni&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let c=Hs(ss(n,i-1,i-1),-1);if(c.top==l.top){let u=Hs(ss(n,i,i+1),-1);if(u.top!=l.top)return Cu(u,u.left<c.left)}}return l}else{let l=i,c=i,u=r<0?1:-1;return r<0&&!i?(c++,u=-1):r>=0&&i==n.nodeValue.length?(l--,u=1):r<0?l--:c++,Cu(Hs(ss(n,l,c),u),u<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(r<0||i==Mi(n))){let l=n.childNodes[i-1];if(l.nodeType==1)return Qb(l.getBoundingClientRect(),!1)}if(s==null&&i<Mi(n)){let l=n.childNodes[i];if(l.nodeType==1)return Qb(l.getBoundingClientRect(),!0)}return Qb(n.getBoundingClientRect(),r>=0)}if(s==null&&i&&(r<0||i==Mi(n))){let l=n.childNodes[i-1],c=l.nodeType==3?ss(l,Mi(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Cu(Hs(c,1),!1)}if(s==null&&i<Mi(n)){let l=n.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?ss(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return Cu(Hs(c,-1),!0)}return Cu(Hs(n.nodeType==3?ss(n):n,-r),r>=0)}function Cu(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function Qb(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function HV(t,e,r){let n=t.state,i=t.root.activeElement;n!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),i!=t.dom&&i&&i.focus()}}function Lre(t,e,r){let n=e.selection,i=r=="up"?n.$from:n.$to;return HV(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,r=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=VV(t,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=ss(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(r=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const Fre=/[\u0590-\u08ac]/;function Bre(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,s=!i,o=i==n.parent.content.size,a=t.domSelection();return a?!Fre.test(n.parent.textContent)||!a.modify?r=="left"||r=="backward"?s:o:HV(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),h=a.caretBidiLevel;a.modify("move",r,"character");let f=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:p,focusOffset:g}=t.domSelectionRange(),m=p&&!f.contains(p.nodeType==1?p:p.parentNode)||l==p&&c==g;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return h!=null&&(a.caretBidiLevel=h),m}):n.pos==n.start()||n.pos==n.end()}let gI=null,mI=null,yI=!1;function Vre(t,e,r){return gI==e&&mI==r?yI:(gI=e,mI=r,yI=r=="up"||r=="down"?Lre(t,e,r):Bre(t,e,r))}const _r=0,vI=1,sa=2,ji=3;class Gh{constructor(e,r,n,i){this.parent=e,this.children=r,this.dom=n,this.contentDOM=i,this.dirty=_r,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let i=this.children[r];if(i==e)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let s,o;if(e==this.contentDOM)s=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=r>nn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&r==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!r||s.node))if(n&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))n=!1;else return s}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let i=this.children[r],s=n+i.size;if(n==e&&s!=n){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<s)return i.descAt(e-n-i.border);n=s}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,i=0;for(let s=0;n<this.children.length;n++){let o=this.children[n],a=s+o.size;if(a>e||o instanceof UV){i=e-s;break}s=a}if(i)return this.children[n].domFromPos(i-this.children[n].border,r);for(let s;n&&!(s=this.children[n-1]).size&&s instanceof jV&&s.side>=0;n--);if(r<=0){let s,o=!0;for(;s=n?this.children[n-1]:null,!(!s||s.dom.parentNode==this.contentDOM);n--,o=!1);return s&&r&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,r):{node:this.contentDOM,offset:s?nn(s.dom)+1:0}}else{let s,o=!0;for(;s=n<this.children.length?this.children[n]:null,!(!s||s.dom.parentNode==this.contentDOM);n++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,r):{node:this.contentDOM,offset:s?nn(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=n,a=0;;a++){let l=this.children[a],c=o+l.size;if(i==-1&&e<=c){let u=o+l.border;if(e>=u&&r<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,r,u);e=o;for(let d=a;d>0;d--){let h=this.children[d-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){i=nn(h.dom)+1;break}e-=h.size}i==-1&&(i=0)}if(i>-1&&(c>r||a==this.children.length-1)){r=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=nn(d.dom);break}r+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:r,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,i=!1){let s=Math.min(e,r),o=Math.max(e,r);for(let h=0,f=0;h<this.children.length;h++){let p=this.children[h],g=f+p.size;if(s>f&&o<g)return p.setSelection(e-f-p.border,r-f-p.border,n,i);f=g}let a=this.domFromPos(e,e?-1:1),l=r==e?a:this.domFromPos(r,r?-1:1),c=n.getSelection(),u=!1;if((ni||wn)&&e==r){let{node:h,offset:f}=a;if(h.nodeType==3){if(u=!!(f&&h.nodeValue[f-1]==`
`),u&&f==h.nodeValue.length)for(let p=h,g;p;p=p.parentNode){if(g=p.nextSibling){g.nodeName=="BR"&&(a=l={node:g.parentNode,offset:nn(g)+1});break}let m=p.pmViewDesc;if(m&&m.node&&m.node.isBlock)break}}else{let p=h.childNodes[f-1];u=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(ni&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let h=c.focusNode.childNodes[c.focusOffset];h&&h.contentEditable=="false"&&(i=!0)}if(!(i||u&&wn)&&Va(a.node,a.offset,c.anchorNode,c.anchorOffset)&&Va(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((c.extend||e==r)&&!u){c.collapse(a.node,a.offset);try{e!=r&&c.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>r){let f=a;a=l,l=f}let h=document.createRange();h.setEnd(l.node,l.offset),h.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(h)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,i=0;i<this.children.length;i++){let s=this.children[i],o=n+s.size;if(n==o?e<=o&&r>=n:e<o&&r>n){let a=n+s.border,l=o-s.border;if(e>=a&&r<=l){this.dirty=e==n||r==o?sa:vI,e==a&&r==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=ji:s.markDirty(e-a,r-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?sa:ji}n=o}this.dirty=sa}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?sa:vI;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class jV extends Gh{constructor(e,r,n,i){let s,o=r.type.toDOM;if(typeof o=="function"&&(o=o(n,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!r.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=r,this.widget=r,s=this}matchesWidget(e){return this.dirty==_r&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Hre extends Gh{constructor(e,r,n,i){super(e,[],r,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ha extends Gh{constructor(e,r,n,i){super(e,[],n,i),this.mark=r}static create(e,r,n,i){let s=i.nodeViews[r.type.name],o=s&&s(r,i,n);return(!o||!o.dom)&&(o=Ji.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new Ha(e,r,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&ji||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ji&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=_r){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=_r}}slice(e,r,n){let i=Ha.create(this.parent,this.mark,!0,n),s=this.children,o=this.size;r<o&&(s=SC(s,r,o,n)),e>0&&(s=SC(s,0,e,n));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}}class ho extends Gh{constructor(e,r,n,i,s,o,a,l,c){super(e,[],s,o),this.node=r,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=a}static create(e,r,n,i,s,o){let a=s.nodeViews[r.type.name],l,c=a&&a(r,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},n,i),u=c&&c.dom,d=c&&c.contentDOM;if(r.isText){if(!u)u=document.createTextNode(r.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=Ji.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!d&&!r.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),r.type.spec.draggable&&(u.draggable=!0));let h=u;return u=WV(u,n,r),c?l=new jre(e,r,n,i,u,d||null,h,c,s,o+1):r.isText?new pv(e,r,n,i,u,h,s):new ho(e,r,n,i,u,d||null,h,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>S.empty)}return e}matchesNode(e,r,n){return this.dirty==_r&&e.eq(this.node)&&MC(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,i=r,s=e.composing?this.localCompositionInfo(e,r):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new $re(this,o&&o.node,e);Gre(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,n,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?et.none:this.node.child(u).marks,n,e),l.placeWidget(c,e,i)},(c,u,d,h)=>{l.syncToMarks(c.marks,n,e);let f;l.findNodeMatch(c,u,d,h)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(f=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,u,d,f,e)||l.updateNextNode(c,u,d,e,h,i)||l.addNode(c,u,d,e,i),i+=c.nodeSize}),l.syncToMarks([],n,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==sa)&&(o&&this.protectLocalComposition(e,o),$V(this.contentDOM,this.children,e),Ec&&qre(this.dom))}localCompositionInfo(e,r){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof te)||n<r||i>r+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=Kre(this.node.content,o,n-r,i-r);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:i}){if(this.getDesc(r))return;let s=r;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new Hre(this,s,r,i);e.input.compositionNodes.push(o),this.children=SC(this.children,n,n+i.length,e,o)}update(e,r,n,i){return this.dirty==ji||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,i),!0)}updateInner(e,r,n,i){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=_r}updateOuterDeco(e){if(MC(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=zV(this.dom,this.nodeDOM,kC(this.outerDeco,this.node,r),kC(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function bI(t,e,r,n,i){WV(n,e,t);let s=new ho(void 0,t,e,r,n,n,n,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class pv extends ho{constructor(e,r,n,i,s,o,a){super(e,r,n,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,i){return this.dirty==ji||this.dirty!=_r&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=_r||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=_r,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let i=this.node.cut(e,r),s=document.createTextNode(i.text);return new pv(this.parent,i,this.outerDeco,this.innerDeco,s,s,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=ji)}get domAtom(){return!1}isText(e){return this.node.text==e}}class UV extends Gh{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==_r&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class jre extends ho{constructor(e,r,n,i,s,o,a,l,c,u){super(e,r,n,i,s,o,a,c,u),this.spec=l}update(e,r,n,i){if(this.dirty==ji)return!1;if(this.spec.update){let s=this.spec.update(e,r,n);return s&&this.updateInner(e,r,n,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,i){this.spec.setSelection?this.spec.setSelection(e,r,n):super.setSelection(e,r,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function $V(t,e,r){let n=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==t){for(;a!=n;)n=wI(n),i=!0;n=n.nextSibling}else i=!0,t.insertBefore(a,n);if(o instanceof Ha){let l=n?n.previousSibling:t.lastChild;$V(o.contentDOM,o.children,r),n=l?l.nextSibling:t.firstChild}}for(;n;)n=wI(n),i=!0;i&&r.trackWrites==t&&(r.trackWrites=null)}const td=function(t){t&&(this.nodeName=t)};td.prototype=Object.create(null);const oa=[new td];function kC(t,e,r){if(t.length==0)return oa;let n=r?oa[0]:new td,i=[n];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&i.push(n=new td(o.nodeName));for(let a in o){let l=o[a];l!=null&&(r&&i.length==1&&i.push(n=new td(e.isInline?"span":"div")),a=="class"?n.class=(n.class?n.class+" ":"")+l:a=="style"?n.style=(n.style?n.style+";":"")+l:a!="nodeName"&&(n[a]=l))}}}return i}function zV(t,e,r,n){if(r==oa&&n==oa)return e;let i=e;for(let s=0;s<n.length;s++){let o=n[s],a=r[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=oa[0]),i=l}Ure(i,a||oa[0],o)}return i}function Ure(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],i=r.class?r.class.split(" ").filter(Boolean):[];for(let s=0;s<n.length;s++)i.indexOf(n[s])==-1&&t.classList.remove(n[s]);for(let s=0;s<i.length;s++)n.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(e.style);)t.style.removeProperty(i[1])}r.style&&(t.style.cssText+=r.style)}}function WV(t,e,r){return zV(t,t,oa,kC(e,r,t.nodeType!=1))}function MC(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function wI(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class $re{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=zre(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=_r,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[s])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Ha.create(this.top,e[s],r,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,r,n,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,r,n))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,r,n)&&!this.preMatch.matched.has(c)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,r,n,i,s){let o=this.top.children[i];return o.dirty==ji&&o.dom==o.contentDOM&&(o.dirty=sa),o.update(e,r,n,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}e=r}}updateNextNode(e,r,n,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof ho){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let u=l.dom,d,h=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=ji&&MC(r,l.outerDeco));if(!h&&l.update(e,r,n,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!h&&(d=this.recreateWrapper(l,e,r,n,i,o)))return this.top.children[this.index]=d,d.contentDOM&&(d.dirty=sa,d.updateChildren(i,o+1),d.dirty=_r),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,i,s,o){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content))return null;let a=ho.create(this.top,r,n,i,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,r,n,i,s){let o=ho.create(this.top,e,r,n,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,r,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new jV(this.top,e,r,n);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof Ha;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof pv)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((wn||un)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let i=new UV(this.top,[],n,null);r!=this.top?r.children.push(i):r.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function zre(t,e){let r=e,n=r.children.length,i=t.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(n){let c=r.children[n-1];if(c instanceof Ha)r=c,n=c.children.length;else{a=c,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function Wre(t,e){return t.type.side-e.type.side}function Gre(t,e,r,n){let i=e.locals(t),s=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);n(u,i,e.forChild(s,u),c),s+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let u,d;for(;o<i.length&&i[o].to==s;){let m=i[o++];m.widget&&(u?(d||(d=[u])).push(m):u=m)}if(u)if(d){d.sort(Wre);for(let m=0;m<d.length;m++)r(d[m],c,!!l)}else r(u,c,!!l);let h,f;if(l)f=-1,h=l,l=null;else if(c<t.childCount)f=c,h=t.child(c++);else break;for(let m=0;m<a.length;m++)a[m].to<=s&&a.splice(m--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let p=s+h.nodeSize;if(h.isText){let m=p;o<i.length&&i[o].from<m&&(m=i[o].from);for(let y=0;y<a.length;y++)a[y].to<m&&(m=a[y].to);m<p&&(l=h.cut(m-s),h=h.cut(0,m-s),p=m,f=-1)}else for(;o<i.length&&i[o].to<p;)o++;let g=h.isInline&&!h.isLeaf?a.filter(m=>!m.inline):a.slice();n(h,g,e.forChild(s,h),f),s=p}}function qre(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Kre(t,e,r,n){for(let i=0,s=0;i<t.childCount&&s<=n;){let o=t.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<t.childCount;){let c=t.child(i++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=r){if(s>=n&&l.slice(n-e.length-a,n-a)==e)return n-e.length;let c=a<n?l.lastIndexOf(e,n-a-1):-1;if(c>=0&&c+e.length+a>=r)return a+c;if(r==n&&l.length>=n+e.length-a&&l.slice(n-a,n-a+e.length)==e)return n}}return-1}function SC(t,e,r,n,i){let s=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],c=a,u=a+=l.size;c>=r||u<=e?s.push(l):(c<e&&s.push(l.slice(0,e-c,n)),i&&(s.push(i),i=void 0),u>r&&s.push(l.slice(r-c,l.size,n)))}return s}function fk(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let i=t.docView.nearestDesc(r.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(o<0)return null;let a=n.resolve(o),l,c;if(fv(r)){for(l=a;i&&!i.node;)i=i.parent;let u=i.node;if(i&&u.isAtom&&X.isSelectable(u)&&i.parent&&!(u.isInline&&wre(r.focusNode,r.focusOffset,i.dom))){let d=i.posBefore;c=new X(o==d?a:n.resolve(d))}}else{let u=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(u<0)return null;l=n.resolve(u)}if(!c){let u=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;c=pk(t,l,a,u)}return c}function GV(t){return t.editable?t.hasFocus():KV(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function ms(t,e=!1){let r=t.state.selection;if(qV(t,r),!!GV(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&un){let n=t.domSelectionRange(),i=t.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&Va(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Yre(t);else{let{anchor:n,head:i}=r,s,o;_I&&!(r instanceof te)&&(r.$from.parent.inlineContent||(s=CI(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(o=CI(t,r.to))),t.docView.setSelection(n,i,t.root,e),_I&&(s&&EI(s),o&&EI(o)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Zre(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const _I=wn||un&&NV<63;function CI(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),i=n<r.childNodes.length?r.childNodes[n]:null,s=n?r.childNodes[n-1]:null;if(wn&&i&&i.contentEditable=="false")return ew(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return ew(i);if(s)return ew(s)}}function ew(t){return t.contentEditable="true",wn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function EI(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Zre(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,i=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!GV(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Yre(t){let e=t.domSelection(),r=document.createRange();if(!e)return;let n=t.cursorWrapper.dom,i=n.nodeName=="IMG";i?r.setStart(n.parentNode,nn(n)+1):r.setStart(n,0);let s=t.state.selection;if(s.empty)r.collapse(!0);else{let o=t.domAtPos(s.to);r.setEnd(o.node,o.offset)}e.removeAllRanges(),e.addRange(r),!i&&!t.state.selection.visible&&Rn&&uo<=11&&(n.disabled=!0,n.disabled=!1)}function qV(t,e){if(e instanceof X){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(DI(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else DI(t)}function DI(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function pk(t,e,r,n){return t.someProp("createSelectionBetween",i=>i(t,e,r))||te.between(e,r,n)}function kI(t){return t.editable&&!t.hasFocus()?!1:KV(t)}function KV(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Jre(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return Va(e.node,e.offset,r.anchorNode,r.anchorOffset)}function TC(t,e){let{$anchor:r,$head:n}=t.selection,i=e>0?r.max(n):r.min(n),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&se.findFrom(s,e)}function Us(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function MI(t,e,r){let n=t.state.selection;if(n instanceof te)if(r.indexOf("s")>-1){let{$head:i}=n,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Us(t,new te(n.$anchor,o))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=TC(t.state,e);return i&&i instanceof X?Us(t,i):!1}else if(!(ur&&r.indexOf("m")>-1)){let i=n.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?X.isSelectable(s)?Us(t,new X(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):Wh?Us(t,new te(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(n instanceof X&&n.node.isInline)return Us(t,new te(e>0?n.$to:n.$from));{let i=TC(t.state,e);return i?Us(t,i):!1}}}function Kg(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function nd(t,e){let r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function El(t,e){return e<0?Xre(t):Qre(t)}function Xre(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i,s,o=!1;for(ni&&r.nodeType==1&&n<Kg(r)&&nd(r.childNodes[n],-1)&&(o=!0);;)if(n>0){if(r.nodeType!=1)break;{let a=r.childNodes[n-1];if(nd(a,-1))i=r,s=--n;else if(a.nodeType==3)r=a,n=r.nodeValue.length;else break}}else{if(ZV(r))break;{let a=r.previousSibling;for(;a&&nd(a,-1);)i=r.parentNode,s=nn(a),a=a.previousSibling;if(a)r=a,n=Kg(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}o?IC(t,r,n):i&&IC(t,i,s)}function Qre(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i=Kg(r),s,o;for(;;)if(n<i){if(r.nodeType!=1)break;let a=r.childNodes[n];if(nd(a,1))s=r,o=++n;else break}else{if(ZV(r))break;{let a=r.nextSibling;for(;a&&nd(a,1);)s=a.parentNode,o=nn(a)+1,a=a.nextSibling;if(a)r=a,n=0,i=Kg(r);else{if(r=r.parentNode,r==t.dom)break;n=i=0}}}s&&IC(t,s,o)}function ZV(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function eie(t,e){for(;t&&e==t.childNodes.length&&!zh(t);)e=nn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}function tie(t,e){for(;t&&!e&&!zh(t);)e=nn(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}function IC(t,e,r){if(e.nodeType!=3){let s,o;(o=eie(e,r))?(e=o,r=0):(s=tie(e,r))&&(e=s,r=s.nodeValue.length)}let n=t.domSelection();if(!n)return;if(fv(n)){let s=document.createRange();s.setEnd(e,r),s.setStart(e,r),n.removeAllRanges(),n.addRange(s)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&ms(t)},50)}function SI(t,e){let r=t.state.doc.resolve(e);if(!(un||Ere)&&r.parent.inlineContent){let i=t.coordsAtPos(e);if(e>r.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<r.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function TI(t,e,r){let n=t.state.selection;if(n instanceof te&&!n.empty||r.indexOf("s")>-1||ur&&r.indexOf("m")>-1)return!1;let{$from:i,$to:s}=n;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=TC(t.state,e);if(o&&o instanceof X)return Us(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=n instanceof Yr?se.near(o,e):se.findFrom(o,e);return a?Us(t,a):!1}return!1}function II(t,e){if(!(t.state.selection instanceof te))return!0;let{$head:r,$anchor:n,empty:i}=t.state.selection;if(!r.sameParent(n))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(r.pos-s.nodeSize,r.pos):o.delete(r.pos,r.pos+s.nodeSize),t.dispatch(o),!0}return!1}function xI(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function nie(t){if(!wn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;xI(t,n,"true"),setTimeout(()=>xI(t,n,"false"),20)}return!1}function rie(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function iie(t,e){let r=e.keyCode,n=rie(e);if(r==8||ur&&r==72&&n=="c")return II(t,-1)||El(t,-1);if(r==46&&!e.shiftKey||ur&&r==68&&n=="c")return II(t,1)||El(t,1);if(r==13||r==27)return!0;if(r==37||ur&&r==66&&n=="c"){let i=r==37?SI(t,t.state.selection.from)=="ltr"?-1:1:-1;return MI(t,i,n)||El(t,i)}else if(r==39||ur&&r==70&&n=="c"){let i=r==39?SI(t,t.state.selection.from)=="ltr"?1:-1:1;return MI(t,i,n)||El(t,i)}else{if(r==38||ur&&r==80&&n=="c")return TI(t,-1,n)||El(t,-1);if(r==40||ur&&r==78&&n=="c")return nie(t)||TI(t,1,n)||El(t,1);if(n==(ur?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function YV(t,e){t.someProp("transformCopied",f=>{e=f(e,t)});let r=[],{content:n,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,s--;let f=n.firstChild;r.push(f.type.name,f.attrs!=f.type.defaultAttrs?f.attrs:null),n=f.content}let o=t.someProp("clipboardSerializer")||Ji.fromSchema(t.state.schema),a=nH(),l=a.createElement("div");l.appendChild(o.serializeFragment(n,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=tH[c.nodeName.toLowerCase()]);){for(let f=u.length-1;f>=0;f--){let p=a.createElement(u[f]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${d?` -${d}`:""} ${JSON.stringify(r)}`);let h=t.someProp("clipboardTextSerializer",f=>f(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:h,slice:e}}function JV(t,e,r,n,i){let s=i.parent.type.spec.code,o,a;if(!r&&!e)return null;let l=e&&(n||s||!r);if(l){if(t.someProp("transformPastedText",h=>{e=h(e,s||n,t)}),s)return e?new N(S.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):N.empty;let d=t.someProp("clipboardTextParser",h=>h(e,i,n,t));if(d)a=d;else{let h=i.marks(),{schema:f}=t.state,p=Ji.fromSchema(f);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let m=o.appendChild(document.createElement("p"));g&&m.appendChild(p.serializeNode(f.text(g,h)))})}}else t.someProp("transformPastedHTML",d=>{r=d(r,t)}),o=aie(r),Wh&&lie(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let h=o.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;o=h}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Yl.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!sie.test(h.parentNode.nodeName)?{ignore:!0}:null}})),u)a=cie(AI(a,+u[1],+u[2]),u[4]);else if(a=N.maxOpen(oie(a.content,i),!0),a.openStart||a.openEnd){let d=0,h=0;for(let f=a.content.firstChild;d<a.openStart&&!f.type.spec.isolating;d++,f=f.firstChild);for(let f=a.content.lastChild;h<a.openEnd&&!f.type.spec.isolating;h++,f=f.lastChild);a=AI(a,d,h)}return t.someProp("transformPasted",d=>{a=d(a,t)}),a}const sie=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function oie(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let i=e.node(r).contentMatchAt(e.index(r)),s,o=[];if(t.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&s.length&&QV(l,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=eH(o[o.length-1],s.length));let u=XV(a,l);o.push(u),i=i.matchType(u.type),s=l}}),o)return S.from(o)}return t}function XV(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,S.from(t));return t}function QV(t,e,r,n,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=QV(t,e,r,n.lastChild,i+1);if(s)return n.copy(n.content.replaceChild(n.childCount-1,s));if(n.contentMatchAt(n.childCount).matchType(i==t.length-1?r.type:t[i+1]))return n.copy(n.content.append(S.from(XV(r,t,i+1))))}}function eH(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,eH(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(S.empty,!0);return t.copy(r.append(n))}function xC(t,e,r,n,i,s){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(s=0),i<n-1&&(a=xC(a,e,r,n,i+1,s)),i>=r&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(S.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function AI(t,e,r){return e<t.openStart&&(t=new N(xC(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new N(xC(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}const tH={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let OI=null;function nH(){return OI||(OI=document.implementation.createHTMLDocument("title"))}function aie(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=nH().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),i;if((i=n&&tH[n[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),r.innerHTML=t,i)for(let s=0;s<i.length;s++)r=r.querySelector(i[s])||r;return r}function lie(t){let e=t.querySelectorAll(un?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent==" "&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function cie(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let a=n.length-2;a>=0;a-=2){let l=r.nodes[n[a]];if(!l||l.hasRequiredAttrs())break;i=S.from(l.create(n[a+1],i)),s++,o++}return new N(i,s,o)}const _n={},Cn={},uie={touchstart:!0,touchmove:!0};class die{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function hie(t){for(let e in _n){let r=_n[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{pie(t,n)&&!gk(t,n)&&(t.editable||!(n.type in Cn))&&r(t,n)},uie[e]?{passive:!0}:void 0)}wn&&t.dom.addEventListener("input",()=>null),AC(t)}function Qs(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function fie(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function AC(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>gk(t,n))})}function gk(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function pie(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function gie(t,e){!gk(t,e)&&_n[e.type]&&(t.editable||!(e.type in Cn))&&_n[e.type](t,e)}Cn.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!iH(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Ur&&un&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),Ec&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",i=>i(t,Xo(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||iie(t,r)?r.preventDefault():Qs(t,"key")};Cn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Cn.keypress=(t,e)=>{let r=e;if(iH(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||ur&&r.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof te)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(r.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",s=>s(t,n.$from.pos,n.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),r.preventDefault()}};function gv(t){return{left:t.clientX,top:t.clientY}}function mie(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function mk(t,e,r,n,i){if(n==-1)return!1;let s=t.state.doc.resolve(n);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,a=>o>s.depth?a(t,r,s.nodeAfter,s.before(o),i,!0):a(t,r,s.node(o),s.before(o),i,!1)))return!0;return!1}function ec(t,e,r){if(t.focused||t.focus(),t.state.selection.eq(e))return;let n=t.state.tr.setSelection(e);n.setMeta("pointer",!0),t.dispatch(n)}function yie(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&X.isSelectable(n)?(ec(t,new X(r)),!0):!1}function vie(t,e){if(e==-1)return!1;let r=t.state.selection,n,i;r instanceof X&&(n=r.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(X.isSelectable(a)){n&&r.$from.depth>0&&o>=r.$from.depth&&s.before(r.$from.depth+1)==r.$from.pos?i=s.before(r.$from.depth):i=s.before(o);break}}return i!=null?(ec(t,X.create(t.state.doc,i)),!0):!1}function bie(t,e,r,n,i){return mk(t,"handleClickOn",e,r,n)||t.someProp("handleClick",s=>s(t,e,n))||(i?vie(t,r):yie(t,r))}function wie(t,e,r,n){return mk(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",i=>i(t,e,n))}function _ie(t,e,r,n){return mk(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",i=>i(t,e,n))||Cie(t,r,n)}function Cie(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(ec(t,te.create(n,0,n.content.size)),!0):!1;let i=n.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)ec(t,te.create(n,a+1,a+1+o.content.size));else if(X.isSelectable(o))ec(t,X.create(n,a));else continue;return!0}}function yk(t){return Zg(t)}const rH=ur?"metaKey":"ctrlKey";_n.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=yk(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&mie(r,t.input.lastClick)&&!r[rH]&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:r.clientX,y:r.clientY,type:s};let o=t.posAtCoords(gv(r));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Eie(t,o,r,!!n)):(s=="doubleClick"?wie:_ie)(t,o.pos,o.inside,r)?r.preventDefault():Qs(t,"pointer"))};class Eie{constructor(e,r,n,i){this.view=e,this.pos=r,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[rH],this.allowDefault=n.shiftKey;let s,o;if(r.inside>-1)s=e.state.doc.nodeAt(r.inside),o=r.inside;else{let u=e.state.doc.resolve(r.pos);s=u.parent,o=u.depth?u.before():0}const a=i?null:n.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(n.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof X&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ni&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Qs(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ms(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(gv(e))),this.updateAllowDefault(e),this.allowDefault||!r?Qs(this.view,"pointer"):bie(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||wn&&this.mightDrag&&!this.mightDrag.node.isAtom||un&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(ec(this.view,se.near(this.view.state.doc.resolve(r.pos))),e.preventDefault()):Qs(this.view,"pointer")}move(e){this.updateAllowDefault(e),Qs(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}_n.touchstart=t=>{t.input.lastTouch=Date.now(),yk(t),Qs(t,"pointer")};_n.touchmove=t=>{t.input.lastTouch=Date.now(),Qs(t,"pointer")};_n.contextmenu=t=>yk(t);function iH(t,e){return t.composing?!0:wn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const Die=Ur?5e3:-1;Cn.compositionstart=Cn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$to;if(e.selection instanceof te&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||r.marks(),Zg(t,!0),t.markCursor=null;else if(Zg(t),ni&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let i=n.focusNode,s=n.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}sH(t,Die)};Cn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,sH(t,20))};function sH(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Zg(t),e))}function oH(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Mie());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function kie(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let r=vre(e.focusNode,e.focusOffset),n=bre(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let i=n.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(r==s||n==s)return s;if(!i||!i.isText(n.nodeValue))return n;if(t.input.compositionNode==n){let o=r.pmViewDesc;if(!(!o||!o.isText(r.nodeValue)))return n}}return r||n}function Mie(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Zg(t,e=!1){if(!(Ur&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),oH(t),e||t.docView&&t.docView.dirty){let r=fk(t);return r&&!r.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(r)):t.updateState(t.state),!0}return!1}}function Sie(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}const Bd=Rn&&uo<15||Ec&&Dre<604;_n.copy=Cn.cut=(t,e)=>{let r=e,n=t.state.selection,i=r.type=="cut";if(n.empty)return;let s=Bd?null:r.clipboardData,o=n.content(),{dom:a,text:l}=YV(t,o);s?(r.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):Sie(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Tie(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Iie(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?Vd(t,n.value,null,i,e):Vd(t,n.textContent,n.innerHTML,i,e)},50)}function Vd(t,e,r,n,i){let s=JV(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,s||N.empty)))return!0;if(!s)return!1;let o=Tie(s),a=o?t.state.tr.replaceSelectionWith(o,n):t.state.tr.replaceSelection(s);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function aH(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}Cn.paste=(t,e)=>{let r=e;if(t.composing&&!Ur)return;let n=Bd?null:r.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&Vd(t,aH(n),n.getData("text/html"),i,r)?r.preventDefault():Iie(t,r)};class lH{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}}const cH=ur?"altKey":"ctrlKey";_n.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(gv(r)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof X?i.to-1:i.to))){if(n&&n.mightDrag)o=X.create(t.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let d=t.docView.nearestDesc(r.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(o=X.create(t.state.doc,d.posBefore))}}let a=(o||t.state.selection).content(),{dom:l,text:c,slice:u}=YV(t,a);(!r.dataTransfer.files.length||!un||NV>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(Bd?"Text":"text/html",l.innerHTML),r.dataTransfer.effectAllowed="copyMove",Bd||r.dataTransfer.setData("text/plain",c),t.dragging=new lH(u,!r[cH],o)};_n.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Cn.dragover=Cn.dragenter=(t,e)=>e.preventDefault();Cn.drop=(t,e)=>{let r=e,n=t.dragging;if(t.dragging=null,!r.dataTransfer)return;let i=t.posAtCoords(gv(r));if(!i)return;let s=t.state.doc.resolve(i.pos),o=n&&n.slice;o?t.someProp("transformPasted",p=>{o=p(o,t)}):o=JV(t,aH(r.dataTransfer),Bd?null:r.dataTransfer.getData("text/html"),!1,s);let a=!!(n&&!r[cH]);if(t.someProp("handleDrop",p=>p(t,r,o||N.empty,a))){r.preventDefault();return}if(!o)return;r.preventDefault();let l=o?kV(t.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let c=t.state.tr;if(a){let{node:p}=n;p?p.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,h=c.doc;if(d?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(h))return;let f=c.doc.resolve(u);if(d&&X.isSelectable(o.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new X(f));else{let p=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,m,y,v)=>p=v),c.setSelection(pk(t,f,c.doc.resolve(p)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};_n.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&ms(t)},20))};_n.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};_n.beforeinput=(t,e)=>{if(un&&Ur&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Xo(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Cn)_n[t]=Cn[t];function Hd(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}class Yg{constructor(e,r){this.toDOM=e,this.spec=r||ga,this.side=this.spec.side||0}map(e,r,n,i){let{pos:s,deleted:o}=e.mapResult(r.from+i,this.side<0?-1:1);return o?null:new vt(s-n,s-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Yg&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Hd(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class fo{constructor(e,r){this.attrs=e,this.spec=r||ga}map(e,r,n,i){let s=e.map(r.from+i,this.spec.inclusiveStart?-1:1)-n,o=e.map(r.to+i,this.spec.inclusiveEnd?1:-1)-n;return s>=o?null:new vt(s,o,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof fo&&Hd(this.attrs,e.attrs)&&Hd(this.spec,e.spec)}static is(e){return e.type instanceof fo}destroy(){}}class vk{constructor(e,r){this.attrs=e,this.spec=r||ga}map(e,r,n,i){let s=e.mapResult(r.from+i,1);if(s.deleted)return null;let o=e.mapResult(r.to+i,-1);return o.deleted||o.pos<=s.pos?null:new vt(s.pos-n,o.pos-n,this)}valid(e,r){let{index:n,offset:i}=e.content.findIndex(r.from),s;return i==r.from&&!(s=e.child(n)).isText&&i+s.nodeSize==r.to}eq(e){return this==e||e instanceof vk&&Hd(this.attrs,e.attrs)&&Hd(this.spec,e.spec)}destroy(){}}class vt{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new vt(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new vt(e,e,new Yg(r,n))}static inline(e,r,n,i){return new vt(e,r,new fo(n,i))}static node(e,r,n,i){return new vt(e,r,new vk(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof fo}get widget(){return this.type instanceof Yg}}const Il=[],ga={};class ze{constructor(e,r){this.local=e.length?e:Il,this.children=r.length?r:Il}static create(e,r){return r.length?Jg(r,e,0,ga):cn}find(e,r,n){let i=[];return this.findInner(e??0,r??1e9,i,0,n),i}findInner(e,r,n,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=r&&a.to>=e&&(!s||s(a.spec))&&n.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<r&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,r-a,n,i+a,s)}}map(e,r,n){return this==cn||e.maps.length==0?this:this.mapInner(e,r,0,0,n||ga)}mapInner(e,r,n,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,n,i);l&&l.type.valid(r,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?xie(this.children,o||[],e,r,n,i,s):o?new ze(o.sort(ma),Il):cn}add(e,r){return r.length?this==cn?ze.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let i,s=0;e.forEach((a,l)=>{let c=l+n,u;if(u=dH(r,a,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,u,c+1):i.splice(s,0,l,l+a.nodeSize,Jg(u,a,c+1,ga)),s+=3}});let o=uH(s?hH(r):r,-n);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new ze(o.length?this.local.concat(o).sort(ma):this.local,i||this.children)}remove(e){return e.length==0||this==cn?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,i=this.local;for(let s=0;s<n.length;s+=3){let o,a=n[s]+r,l=n[s+1]+r;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(o||(o=[])).push(d));if(!o)continue;n==this.children&&(n=this.children.slice());let c=n[s+2].removeInner(o,a+1);c!=cn?n[s+2]=c:(n.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,r)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new ze(i,n):cn}forChild(e,r){if(this==cn)return this;if(r.isLeaf)return ze.empty;let n,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(n=this.children[a+2]);break}let s=e+1,o=s+r.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof fo){let c=Math.max(s,l.from)-s,u=Math.min(o,l.to)-s;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new ze(i.sort(ma),Il);return n?new Ws([a,n]):a}return n||cn}eq(e){if(this==e)return!0;if(!(e instanceof ze)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return bk(this.localsInner(e))}localsInner(e){if(this==cn)return Il;if(e.inlineContent||!this.local.some(fo.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof fo||r.push(this.local[n]);return r}}ze.empty=new ze([],[]);ze.removeOverlap=bk;const cn=ze.empty;class Ws{constructor(e){this.members=e}map(e,r){const n=this.members.map(i=>i.map(e,r,ga));return Ws.from(n)}forChild(e,r){if(r.isLeaf)return ze.empty;let n=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,r);s!=cn&&(s instanceof Ws?n=n.concat(s.members):n.push(s))}return Ws.from(n)}eq(e){if(!(e instanceof Ws)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!r)r=s;else{n&&(r=r.slice(),n=!1);for(let o=0;o<s.length;o++)r.push(s[o])}}return r?bk(n?r:r.sort(ma)):Il}static from(e){switch(e.length){case 0:return cn;case 1:return e[0];default:return new Ws(e.every(r=>r instanceof ze)?e:e.reduce((r,n)=>r.concat(n instanceof ze?n:n.members),[]))}}}function xie(t,e,r,n,i,s,o){let a=t.slice();for(let c=0,u=s;c<r.maps.length;c++){let d=0;r.maps[c].forEach((h,f,p,g)=>{let m=g-p-(f-h);for(let y=0;y<a.length;y+=3){let v=a[y+1];if(v<0||h>v+u-d)continue;let b=a[y]+u-d;f>=b?a[y+1]=h<=b?-2:-1:h>=u&&m&&(a[y]+=m,a[y+1]+=m)}d+=m}),u=r.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=r.map(t[c]+s),d=u-i;if(d<0||d>=n.content.size){l=!0;continue}let h=r.map(t[c+1]+s,-1),f=h-i,{index:p,offset:g}=n.content.findIndex(d),m=n.maybeChild(p);if(m&&g==d&&g+m.nodeSize==f){let y=a[c+2].mapInner(r,m,u+1,t[c]+s+1,o);y!=cn?(a[c]=d,a[c+1]=f,a[c+2]=y):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=Aie(a,t,e,r,i,s,o),u=Jg(c,n,0,o);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,h=0;d<u.children.length;d+=3){let f=u.children[d];for(;h<a.length&&a[h]<f;)h+=3;a.splice(h,0,u.children[d],u.children[d+1],u.children[d+2])}}return new ze(e.sort(ma),a)}function uH(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let i=t[n];r.push(new vt(i.from+e,i.to+e,i.type))}return r}function Aie(t,e,r,n,i,s,o){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(n,i,c);d?r.push(d):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+s+1);return r}function dH(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>r&&o.to<n&&((i||(i=[])).push(o),t[s]=null);return i}function hH(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function Jg(t,e,r,n){let i=[],s=!1;e.forEach((a,l)=>{let c=dH(t,a,l+r);if(c){s=!0;let u=Jg(c,a,r+l+1,n);u!=cn&&i.push(l,l+a.nodeSize,u)}});let o=uH(s?hH(t):t,-r).sort(ma);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(n.onRemove&&n.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new ze(o,i):cn}function ma(t,e){return t.from-e.from||t.to-e.to}function bk(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let i=r+1;i<e.length;i++){let s=e[i];if(s.from==n.from){s.to!=n.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,n.to),RI(e,i+1,s.copy(n.to,s.to)));continue}else{s.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,s.from),RI(e,i,n.copy(s.from,n.to)));break}}}return e}function RI(t,e,r){for(;e<t.length&&ma(r,t[e])>0;)e++;t.splice(e,0,r)}function tw(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=cn&&e.push(n)}),t.cursorWrapper&&e.push(ze.create(t.state.doc,[t.cursorWrapper.deco])),Ws.from(e)}const Oie={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Rie=Rn&&uo<=11;class Nie{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Pie{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Nie,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let i=0;i<n.length;i++)this.queue.push(n[i]);Rn&&uo<=11&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Rie&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Oie)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(kI(this.view)){if(this.suppressingSelectionUpdates)return ms(this.view);if(Rn&&uo<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Va(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let s=e.focusNode;s;s=Fd(s))r.add(s);for(let s=e.anchorNode;s;s=Fd(s))if(r.has(s)){n=s;break}let i=n&&this.view.docView.nearestDesc(n);if(i&&i.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&kI(e)&&!this.ignoreSelectionChange(n),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let u=0;u<r.length;u++){let d=this.registerMutation(r[u],l);d&&(s=s<0?d.from:Math.min(d.from,s),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(ni&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,h]=u;d.parentNode&&d.parentNode.parentNode==h.parentNode?h.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let h of u){let f=h.parentNode;f&&f.nodeName=="LI"&&(!d||Bie(e,d)!=f)&&h.remove()}}}let c=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&fv(n)&&(c=fk(e))&&c.eq(se.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ms(e),this.currentSelection.set(n),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),Lie(e)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||ms(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];r.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Rn&&uo<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:h}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(s=h)}let o=i&&i.parentNode==e.target?nn(i)+1:0,a=n.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?nn(s):e.target.childNodes.length,c=n.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let NI=new WeakMap,PI=!1;function Lie(t){if(!NI.has(t)&&(NI.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=ni,PI)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),PI=!0}}function LI(t,e){let r=e.startContainer,n=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return Va(o.node,o.offset,i,s)&&([r,n,i,s]=[i,s,r,n]),{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:s}}function Fie(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return LI(t,i)}let r;function n(i){i.preventDefault(),i.stopImmediatePropagation(),r=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0),r?LI(t,r):null}function Bie(t,e){for(let r=e.parentNode;r&&r!=t.dom;r=r.parentNode){let n=t.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function Vie(t,e,r){let{node:n,fromOffset:i,toOffset:s,from:o,to:a}=t.docView.parseRange(e,r),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],fv(l)||c.push({node:l.focusNode,offset:l.focusOffset})),un&&t.input.lastKeyCode===8)for(let m=s;m>i;m--){let y=n.childNodes[m-1],v=y.pmViewDesc;if(y.nodeName=="BR"&&!v){s=m;break}if(!v||v.size)break}let d=t.state.doc,h=t.someProp("domParser")||Yl.fromSchema(t.state.schema),f=d.resolve(o),p=null,g=h.parse(n,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:i,to:s,preserveWhitespace:f.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:Hie,context:f});if(c&&c[0].pos!=null){let m=c[0].pos,y=c[1]&&c[1].pos;y==null&&(y=m),p={anchor:m+o,head:y+o}}return{doc:g,sel:p,from:o,to:a}}function Hie(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(wn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||wn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const jie=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Uie(t,e,r,n,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let $=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,q=fk(t,$);if(q&&!t.state.selection.eq(q)){if(un&&Ur&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",H=>H(t,Xo(13,"Enter"))))return;let K=t.state.tr.setSelection(q);$=="pointer"?K.setMeta("pointer",!0):$=="key"&&K.scrollIntoView(),s&&K.setMeta("composition",s),t.dispatch(K)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(r);e=o.before(a+1),r=t.state.doc.resolve(r).after(a+1);let l=t.state.selection,c=Vie(t,e,r),u=t.state.doc,d=u.slice(c.from,c.to),h,f;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(h=t.state.selection.to,f="end"):(h=t.state.selection.from,f="start"),t.input.lastKeyCode=null;let p=Wie(d.content,c.doc.content,c.from,h,f);if((Ec&&t.input.lastIOSEnter>Date.now()-225||Ur)&&i.some($=>$.nodeType==1&&!jie.test($.nodeName))&&(!p||p.endA>=p.endB)&&t.someProp("handleKeyDown",$=>$(t,Xo(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!p)if(n&&l instanceof te&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let $=FI(t,t.state.doc,c.sel);if($&&!$.eq(t.state.selection)){let q=t.state.tr.setSelection($);s&&q.setMeta("composition",s),t.dispatch(q)}}return}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&p.start==p.endB&&t.state.selection instanceof te&&(p.start>t.state.selection.from&&p.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?p.start=t.state.selection.from:p.endA<t.state.selection.to&&p.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(p.endB+=t.state.selection.to-p.endA,p.endA=t.state.selection.to)),Rn&&uo<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>c.from&&c.doc.textBetween(p.start-c.from-1,p.start-c.from+1)=="  "&&(p.start--,p.endA--,p.endB--);let g=c.doc.resolveNoCache(p.start-c.from),m=c.doc.resolveNoCache(p.endB-c.from),y=u.resolve(p.start),v=g.sameParent(m)&&g.parent.inlineContent&&y.end()>=p.endA,b;if((Ec&&t.input.lastIOSEnter>Date.now()-225&&(!v||i.some($=>$.nodeName=="DIV"||$.nodeName=="P"))||!v&&g.pos<c.doc.content.size&&!g.sameParent(m)&&(b=se.findFrom(c.doc.resolve(g.pos+1),1,!0))&&b.head==m.pos)&&t.someProp("handleKeyDown",$=>$(t,Xo(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>p.start&&zie(u,p.start,p.endA,g,m)&&t.someProp("handleKeyDown",$=>$(t,Xo(8,"Backspace")))){Ur&&un&&t.domObserver.suppressSelectionUpdates();return}un&&Ur&&p.endB==p.start&&(t.input.lastAndroidDelete=Date.now()),Ur&&!v&&g.start()!=m.start()&&m.parentOffset==0&&g.depth==m.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==p.endA&&(p.endB-=2,m=c.doc.resolveNoCache(p.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function($){return $(t,Xo(13,"Enter"))})},20));let C=p.start,M=p.endA,T,F,R;if(v){if(g.pos==m.pos)Rn&&uo<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>ms(t),20)),T=t.state.tr.delete(C,M),F=u.resolve(p.start).marksAcross(u.resolve(p.endA));else if(p.endA==p.endB&&(R=$ie(g.parent.content.cut(g.parentOffset,m.parentOffset),y.parent.content.cut(y.parentOffset,p.endA-y.start()))))T=t.state.tr,R.type=="add"?T.addMark(C,M,R.mark):T.removeMark(C,M,R.mark);else if(g.parent.child(g.index()).isText&&g.index()==m.index()-(m.textOffset?0:1)){let $=g.parent.textBetween(g.parentOffset,m.parentOffset);if(t.someProp("handleTextInput",q=>q(t,C,M,$)))return;T=t.state.tr.insertText($,C,M)}}if(T||(T=t.state.tr.replace(C,M,c.doc.slice(p.start-c.from,p.endB-c.from))),c.sel){let $=FI(t,T.doc,c.sel);$&&!(un&&Ur&&t.composing&&$.empty&&(p.start!=p.endB||t.input.lastAndroidDelete<Date.now()-100)&&($.head==C||$.head==T.mapping.map(M)-1)||Rn&&$.empty&&$.head==C)&&T.setSelection($)}F&&T.ensureMarks(F),s&&T.setMeta("composition",s),t.dispatch(T.scrollIntoView())}function FI(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:pk(t,e.resolve(r.anchor),e.resolve(r.head))}function $ie(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,i=r,s=n,o,a,l;for(let u=0;u<n.length;u++)i=n[u].removeFromSet(i);for(let u=0;u<r.length;u++)s=r[u].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(S.from(c).eq(t))return{mark:a,type:o}}function zie(t,e,r,n,i){if(r-e<=i.pos-n.pos||nw(n,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!n.parent.isTextblock){let a=s.nodeAfter;return a!=null&&r==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(nw(s,!0,!0));return!o.parent.isTextblock||o.pos>r||nw(o,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(o.parent.content)}function nw(t,e,r){let n=t.depth,i=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,i++,e=!1;if(r){let s=t.node(n).maybeChild(t.indexAfter(n));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function Wie(t,e,r,n,i){let s=t.findDiffStart(e,r);if(s==null)return null;let{a:o,b:a}=t.findDiffEnd(e,r+t.size,r+e.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));n-=o+l-s}if(o<s&&t.size<e.size){let l=n<=s&&n>=o?s-n:0;s-=l,s&&s<e.size&&BI(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=n<=s&&n>=a?s-n:0;s-=l,s&&s<t.size&&BI(t.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function BI(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class fH{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new die,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach($I),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=jI(this),HI(this),this.nodeViews=UI(this),this.docView=bI(this.state.doc,VI(this),tw(this),this.dom,this),this.domObserver=new Pie(this,(n,i,s,o)=>Uie(this,n,i,s,o)),this.domObserver.start(),hie(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&AC(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach($I),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(oH(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=r.plugins;if(a||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let f=UI(this);qie(f,this.nodeViews)&&(this.nodeViews=f,s=!0)}(a||r.handleDOMEvents!=this._props.handleDOMEvents)&&AC(this),this.editable=jI(this),HI(this);let l=tw(this),c=VI(this),u=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(i.selection))&&(o=!0);let h=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Sre(this);if(o){this.domObserver.stop();let f=d&&(Rn||un)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&Gie(i.selection,e.selection);if(d){let p=un?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=kie(this)),(s||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=bI(e.doc,c,l,this.dom,this)),p&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Jre(this))?ms(this,f):(qV(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((n=this.dragging)===null||n===void 0)&&n.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():h&&Tre(h)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof X){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&fI(this,r.getBoundingClientRect(),e)}else fI(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,i=-1;if(this.state.doc.nodeAt(n.from)==n.node)i=n.from;else{let s=n.from+(this.state.doc.content.size-r.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==n.node&&(i=s)}this.dragging=new lH(e.slice,e.move,i<0?void 0:X.create(this.state.doc,i))}someProp(e,r){let n=this._props&&this._props[e],i;if(n!=null&&(i=r?r(n):n))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=r?r(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=r?r(a):a))return i}}hasFocus(){if(Rn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Ire(this.dom),ms(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Nre(this,e)}coordsAtPos(e,r=1){return VV(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let i=this.docView.posFromDOM(e,r,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,r){return Vre(this,r||this.state,e)}pasteHTML(e,r){return Vd(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return Vd(this,e,null,!0,r||new ClipboardEvent("paste"))}destroy(){this.docView&&(fie(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],tw(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,mre())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return gie(this,e)}dispatch(e){let r=this._props.dispatchTransaction;r?r.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?wn&&this.root.nodeType===11&&_re(this.dom.ownerDocument)==this.dom&&Fie(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function VI(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[vt.node(0,t.state.doc.content.size,e)]}function HI(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:vt.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function jI(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Gie(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function UI(t){let e=Object.create(null);function r(n){for(let i in n)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=n[i])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function qie(t,e){let r=0,n=0;for(let i in t){if(t[i]!=e[i])return!0;r++}for(let i in e)n++;return r!=n}function $I(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Eo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Xg={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Kie=typeof navigator<"u"&&/Mac/.test(navigator.platform),Zie=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var rn=0;rn<10;rn++)Eo[48+rn]=Eo[96+rn]=String(rn);for(var rn=1;rn<=24;rn++)Eo[rn+111]="F"+rn;for(var rn=65;rn<=90;rn++)Eo[rn]=String.fromCharCode(rn+32),Xg[rn]=String.fromCharCode(rn);for(var rw in Eo)Xg.hasOwnProperty(rw)||(Xg[rw]=Eo[rw]);function Yie(t){var e=Kie&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Zie&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?Xg:Eo)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const Jie=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function Xie(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,i,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Jie?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(r="Alt-"+r),i&&(r="Ctrl-"+r),o&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function Qie(t){let e=Object.create(null);for(let r in t)e[Xie(r)]=t[r];return e}function iw(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function ese(t){return new Oe({props:{handleKeyDown:wk(t)}})}function wk(t){let e=Qie(t);return function(r,n){let i=Yie(n),s,o=e[iw(i,n)];if(o&&o(r.state,r.dispatch,r))return!0;if(i.length==1&&i!=" "){if(n.shiftKey){let a=e[iw(i,n,!1)];if(a&&a(r.state,r.dispatch,r))return!0}if((n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(s=Eo[n.keyCode])&&s!=i){let a=e[iw(s,n)];if(a&&a(r.state,r.dispatch,r))return!0}}return!1}}const tse=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function pH(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}const nse=(t,e,r)=>{let n=pH(t,r);if(!n)return!1;let i=_k(n);if(!i){let o=n.blockRange(),a=o&&lu(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(vH(t,i,e,-1))return!0;if(n.parent.content.size==0&&(Dc(s,"end")||X.isSelectable(s)))for(let o=n.depth;;o--){let a=dv(t.doc,n.before(o),n.after(o),N.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Dc(s,"end")?se.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):X.create(l.doc,i.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||n.node(o-1).childCount>1)break}return s.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},rse=(t,e,r)=>{let n=pH(t,r);if(!n)return!1;let i=_k(n);return i?gH(t,i,e):!1},ise=(t,e,r)=>{let n=mH(t,r);if(!n)return!1;let i=Ck(n);return i?gH(t,i,e):!1};function gH(t,e,r){let n=e.nodeBefore,i=n,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=dv(t.doc,s,l,N.empty);if(!c||c.from!=s||c instanceof zt&&c.slice.size>=l-s)return!1;if(r){let u=t.tr.step(c);u.setSelection(te.create(u.doc,s)),r(u.scrollIntoView())}return!0}function Dc(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const sse=(t,e,r)=>{let{$head:n,empty:i}=t.selection,s=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;s=_k(n)}let o=s&&s.nodeBefore;return!o||!X.isSelectable(o)?!1:(e&&e(t.tr.setSelection(X.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function _k(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function mH(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}const ose=(t,e,r)=>{let n=mH(t,r);if(!n)return!1;let i=Ck(n);if(!i)return!1;let s=i.nodeAfter;if(vH(t,i,e,1))return!0;if(n.parent.content.size==0&&(Dc(s,"start")||X.isSelectable(s))){let o=dv(t.doc,n.before(),n.after(),N.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(Dc(s,"start")?se.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):X.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},ase=(t,e,r)=>{let{$head:n,empty:i}=t.selection,s=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;s=Ck(n)}let o=s&&s.nodeAfter;return!o||!X.isSelectable(o)?!1:(e&&e(t.tr.setSelection(X.create(t.doc,s.pos)).scrollIntoView()),!0)};function Ck(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}const lse=(t,e)=>{let r=t.selection,n=r instanceof X,i;if(n){if(r.node.isTextblock||!cl(t.doc,r.from))return!1;i=r.from}else if(i=uv(t.doc,r.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);n&&s.setSelection(X.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},cse=(t,e)=>{let r=t.selection,n;if(r instanceof X){if(r.node.isTextblock||!cl(t.doc,r.to))return!1;n=r.to}else if(n=uv(t.doc,r.to,1),n==null)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0},use=(t,e)=>{let{$from:r,$to:n}=t.selection,i=r.blockRange(n),s=i&&lu(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},dse=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function yH(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const hse=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let i=r.node(-1),s=r.indexAfter(-1),o=yH(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=r.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(se.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},fse=(t,e)=>{let r=t.selection,{$from:n,$to:i}=r;if(r instanceof Yr||n.parent.inlineContent||i.parent.inlineContent)return!1;let s=yH(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,a=t.tr.insert(o,s.createAndFill());a.setSelection(te.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},pse=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let s=r.before();if(Xl(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let n=r.blockRange(),i=n&&lu(n);return i==null?!1:(e&&e(t.tr.lift(n,i).scrollIntoView()),!0)},gse=(t,e)=>{let{$from:r,to:n}=t.selection,i,s=r.sharedDepth(n);return s==0?!1:(i=r.before(s),e&&e(t.tr.setSelection(X.create(t.doc,i))),!0)};function mse(t,e,r){let n=e.nodeBefore,i=e.nodeAfter,s=e.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&e.parent.canReplace(s-1,s)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||cl(t.doc,e.pos))?!1:(r&&r(t.tr.clearIncompatible(e.pos,n.type,n.contentMatchAt(n.childCount)).join(e.pos).scrollIntoView()),!0)}function vH(t,e,r,n){let i=e.nodeBefore,s=e.nodeAfter,o,a,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&mse(t,e,r))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(r){let f=e.pos+s.nodeSize,p=S.empty;for(let y=o.length-1;y>=0;y--)p=S.from(o[y].create(null,p));p=S.from(i.copy(p));let g=t.tr.step(new Gt(e.pos-1,f,e.pos,f,new N(p,1,0),o.length,!0)),m=f+2*o.length;cl(g.doc,m)&&g.join(m),r(g.scrollIntoView())}return!0}let u=s.type.spec.isolating||n>0&&l?null:se.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),h=d&&lu(d);if(h!=null&&h>=e.depth)return r&&r(t.tr.lift(d,h).scrollIntoView()),!0;if(c&&Dc(s,"start",!0)&&Dc(i,"end")){let f=i,p=[];for(;p.push(f),!f.isTextblock;)f=f.lastChild;let g=s,m=1;for(;!g.isTextblock;g=g.firstChild)m++;if(f.canReplace(f.childCount,f.childCount,g.content)){if(r){let y=S.empty;for(let b=p.length-1;b>=0;b--)y=S.from(p[b].copy(y));let v=t.tr.step(new Gt(e.pos-p.length,e.pos+s.nodeSize,e.pos+m,e.pos+s.nodeSize-m,new N(y,p.length,0),0,!0));r(v.scrollIntoView())}return!0}}return!1}function bH(t){return function(e,r){let n=e.selection,i=t<0?n.$from:n.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(r&&r(e.tr.setSelection(te.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const yse=bH(-1),vse=bH(1);function bse(t,e=null){return function(r,n){let{$from:i,$to:s}=r.selection,o=i.blockRange(s),a=o&&EV(o,t,e);return a?(n&&n(r.tr.wrap(o,a).scrollIntoView()),!0):!1}}function zI(t,e=null){return function(r,n){let i=!1;for(let s=0;s<r.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=r.selection.ranges[s];r.doc.nodesBetween(o,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let u=r.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(n){let s=r.tr;for(let o=0;o<r.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=r.selection.ranges[o];s.setBlockType(a,l,t,e)}n(s.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function wse(t,e=null){return function(r,n){let{$from:i,$to:s}=r.selection,o=i.blockRange(s),a=!1,l=o;if(!o)return!1;if(o.depth>=2&&i.node(o.depth-1).type.compatibleContent(t)&&o.startIndex==0){if(i.index(o.depth-1)==0)return!1;let u=r.doc.resolve(o.start-2);l=new zg(u,u,o.depth),o.endIndex<o.parent.childCount&&(o=new zg(i,r.doc.resolve(s.end(o.depth)),o.depth)),a=!0}let c=EV(l,t,e,o);return c?(n&&n(_se(r.tr,o,c,a,t).scrollIntoView()),!0):!1}}function _se(t,e,r,n,i){let s=S.empty;for(let u=r.length-1;u>=0;u--)s=S.from(r[u].type.create(r[u].attrs,s));t.step(new Gt(e.start-(n?2:0),e.end,e.start,e.end,new N(s,0,0),r.length,!0));let o=0;for(let u=0;u<r.length;u++)r[u].type==i&&(o=u+1);let a=r.length-o,l=e.start+r.length-(n?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,h=!0;u<d;u++,h=!1)!h&&Xl(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function Cse(t){return function(e,r){let{$from:n,$to:i}=e.selection,s=n.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?r?n.node(s.depth-1).type==t?Ese(e,r,t,s):Dse(e,r,s):!0:!1}}function Ese(t,e,r,n){let i=t.tr,s=n.end,o=n.$to.end(n.depth);s<o&&(i.step(new Gt(s-1,o,s,o,new N(S.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new zg(i.doc.resolve(n.$from.pos),i.doc.resolve(o),n.depth));const a=lu(n);if(a==null)return!1;i.lift(n,a);let l=i.mapping.map(s,-1)-1;return cl(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function Dse(t,e,r){let n=t.tr,i=r.parent;for(let f=r.end,p=r.endIndex-1,g=r.startIndex;p>g;p--)f-=i.child(p).nodeSize,n.delete(f-1,f+1);let s=n.doc.resolve(r.start),o=s.nodeAfter;if(n.mapping.map(r.end)!=r.start+s.nodeAfter.nodeSize)return!1;let a=r.startIndex==0,l=r.endIndex==i.childCount,c=s.node(-1),u=s.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?S.empty:S.from(i))))return!1;let d=s.pos,h=d+o.nodeSize;return n.step(new Gt(d-(a?1:0),h+(l?1:0),d+1,h-1,new N((a?S.empty:S.from(i.copy(S.empty))).append(l?S.empty:S.from(i.copy(S.empty))),a?0:1,l?0:1),a?0:1)),e(n.scrollIntoView()),!0}function kse(t){return function(e,r){let{$from:n,$to:i}=e.selection,s=n.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=t)return!1;if(r){let c=l.lastChild&&l.lastChild.type==a.type,u=S.from(c?t.create():null),d=new N(S.from(t.create(null,S.from(a.type.create(null,u)))),c?3:1,0),h=s.start,f=s.end;r(e.tr.step(new Gt(h-(c?3:1),f,h,f,d,1,!0)).scrollIntoView())}return!0}}function mv(t){const{state:e,transaction:r}=t;let{selection:n}=r,{doc:i}=r,{storedMarks:s}=r;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return n},get doc(){return i},get tr(){return n=r.selection,i=r.doc,s=r.storedMarks,r}}}class yv{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:r,state:n}=this,{view:i}=r,{tr:s}=n,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const d=l(...u)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,r=!0){const{rawCommands:n,editor:i,state:s}=this,{view:o}=i,a=[],l=!!e,c=e||s.tr,u=()=>(!l&&r&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),a.every(h=>h===!0)),d={...Object.fromEntries(Object.entries(n).map(([h,f])=>[h,(...g)=>{const m=this.buildProps(c,r),y=f(...g)(m);return a.push(y),d}])),run:u};return d}createCan(e){const{rawCommands:r,state:n}=this,i=!1,s=e||n.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,r=!0){const{rawCommands:n,editor:i,state:s}=this,{view:o}=i,a={tr:e,editor:i,view:o,state:mv({state:s,transaction:e}),dispatch:r?()=>{}:void 0,chain:()=>this.createChain(e,r),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}class Mse{constructor(){this.callbacks={}}on(e,r){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(r),this}emit(e,...r){const n=this.callbacks[e];return n&&n.forEach(i=>i.apply(this,r)),this}off(e,r){const n=this.callbacks[e];return n&&(r?this.callbacks[e]=n.filter(i=>i!==r):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function Z(t,e,r){return t.config[e]===void 0&&t.parent?Z(t.parent,e,r):typeof t.config[e]=="function"?t.config[e].bind({...r,parent:t.parent?Z(t.parent,e,r):null}):t.config[e]}function vv(t){const e=t.filter(i=>i.type==="extension"),r=t.filter(i=>i.type==="node"),n=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:n}}function wH(t){const e=[],{nodeExtensions:r,markExtensions:n}=vv(t),i=[...r,...n],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:i},l=Z(o,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([h,f])=>{e.push({type:d,name:h,attribute:{...s,...f}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=Z(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const h={...s,...d};typeof h?.default=="function"&&(h.default=h.default()),h?.isRequired&&h?.default===void 0&&delete h.default,e.push({type:o.name,name:u,attribute:h})})}),e}function Xt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function er(...t){return t.filter(e=>!!e).reduce((e,r)=>{const n={...e};return Object.entries(r).forEach(([i,s])=>{if(!n[i]){n[i]=s;return}if(i==="class"){const a=s?s.split(" "):[],l=n[i]?n[i].split(" "):[],c=a.filter(u=>!l.includes(u));n[i]=[...l,...c].join(" ")}else i==="style"?n[i]=[n[i],s].join("; "):n[i]=s}),n},{})}function OC(t,e){return e.filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(t.attrs)||{}:{[r.name]:t.attrs[r.name]}).reduce((r,n)=>er(r,n),{})}function _H(t){return typeof t=="function"}function Ie(t,e=void 0,...r){return _H(t)?e?t.bind(e)(...r):t(...r):t}function Sse(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Tse(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function WI(t,e){return"style"in t?t:{...t,getAttrs:r=>{const n=t.getAttrs?t.getAttrs(r):t.attrs;if(n===!1)return!1;const i=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(r):Tse(r.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...n,...i}}}}function GI(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>e==="attrs"&&Sse(r)?!1:r!=null))}function CH(t,e){var r;const n=wH(t),{nodeExtensions:i,markExtensions:s}=vv(t),o=(r=i.find(c=>Z(c,"topNode")))===null||r===void 0?void 0:r.name,a=Object.fromEntries(i.map(c=>{const u=n.filter(y=>y.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},h=t.reduce((y,v)=>{const b=Z(v,"extendNodeSchema",d);return{...y,...b?b(c):{}}},{}),f=GI({...h,content:Ie(Z(c,"content",d)),marks:Ie(Z(c,"marks",d)),group:Ie(Z(c,"group",d)),inline:Ie(Z(c,"inline",d)),atom:Ie(Z(c,"atom",d)),selectable:Ie(Z(c,"selectable",d)),draggable:Ie(Z(c,"draggable",d)),code:Ie(Z(c,"code",d)),whitespace:Ie(Z(c,"whitespace",d)),defining:Ie(Z(c,"defining",d)),isolating:Ie(Z(c,"isolating",d)),attrs:Object.fromEntries(u.map(y=>{var v;return[y.name,{default:(v=y?.attribute)===null||v===void 0?void 0:v.default}]}))}),p=Ie(Z(c,"parseHTML",d));p&&(f.parseDOM=p.map(y=>WI(y,u)));const g=Z(c,"renderHTML",d);g&&(f.toDOM=y=>g({node:y,HTMLAttributes:OC(y,u)}));const m=Z(c,"renderText",d);return m&&(f.toText=m),[c.name,f]})),l=Object.fromEntries(s.map(c=>{const u=n.filter(m=>m.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},h=t.reduce((m,y)=>{const v=Z(y,"extendMarkSchema",d);return{...m,...v?v(c):{}}},{}),f=GI({...h,inclusive:Ie(Z(c,"inclusive",d)),excludes:Ie(Z(c,"excludes",d)),group:Ie(Z(c,"group",d)),spanning:Ie(Z(c,"spanning",d)),code:Ie(Z(c,"code",d)),attrs:Object.fromEntries(u.map(m=>{var y;return[m.name,{default:(y=m?.attribute)===null||y===void 0?void 0:y.default}]}))}),p=Ie(Z(c,"parseHTML",d));p&&(f.parseDOM=p.map(m=>WI(m,u)));const g=Z(c,"renderHTML",d);return g&&(f.toDOM=m=>g({mark:m,HTMLAttributes:OC(m,u)})),[c.name,f]}));return new pV({topNode:o,nodes:a,marks:l})}function sw(t,e){return e.nodes[t]||e.marks[t]||null}function qI(t,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===t.name):e}const Ise=(t,e=500)=>{let r="";const n=t.parentOffset;return t.parent.nodesBetween(Math.max(0,n-e),n,(i,s,o,a)=>{var l,c;const u=((c=(l=i.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:i,pos:s,parent:o,index:a}))||i.textContent||"%leaf%";r+=i.isAtom&&!i.isText?u:u.slice(0,Math.max(0,n-s))}),r};function Ek(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class kc{constructor(e){this.find=e.find,this.handler=e.handler}}const xse=(t,e)=>{if(Ek(e))return e.exec(t);const r=e(t);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=t,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function Of(t){var e;const{editor:r,from:n,to:i,text:s,rules:o,plugin:a}=t,{view:l}=r;if(l.composing)return!1;const c=l.state.doc.resolve(n);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(h=>h.type.spec.code))return!1;let u=!1;const d=Ise(c)+s;return o.forEach(h=>{if(u)return;const f=xse(d,h.find);if(!f)return;const p=l.state.tr,g=mv({state:l.state,transaction:p}),m={from:n-(f[0].length-s.length),to:i},{commands:y,chain:v,can:b}=new yv({editor:r,state:g});h.handler({state:g,range:m,match:f,commands:y,chain:v,can:b})===null||!p.steps.length||(p.setMeta(a,{transform:p,from:n,to:i,text:s}),l.dispatch(p),u=!0)}),u}function Ase(t){const{editor:e,rules:r}=t,n=new Oe({state:{init(){return null},apply(i,s){const o=i.getMeta(n);if(o)return o;const a=i.getMeta("applyInputRules");return!!a&&setTimeout(()=>{const{from:c,text:u}=a,d=c+u.length;Of({editor:e,from:c,to:d,text:u,rules:r,plugin:n})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,a){return Of({editor:e,from:s,to:o,text:a,rules:r,plugin:n})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&Of({editor:e,from:s.pos,to:s.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?Of({editor:e,from:o.pos,to:o.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function Ose(t){return typeof t=="number"}class Rse{constructor(e){this.find=e.find,this.handler=e.handler}}const Nse=(t,e,r)=>{if(Ek(e))return[...t.matchAll(e)];const n=e(t,r);return n?n.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function Pse(t){const{editor:e,state:r,from:n,to:i,rule:s,pasteEvent:o,dropEvent:a}=t,{commands:l,chain:c,can:u}=new yv({editor:e,state:r}),d=[];return r.doc.nodesBetween(n,i,(f,p)=>{if(!f.isTextblock||f.type.spec.code)return;const g=Math.max(n,p),m=Math.min(i,p+f.content.size),y=f.textBetween(g-p,m-p,void 0,"￼");Nse(y,s.find,o).forEach(b=>{if(b.index===void 0)return;const C=g+b.index+1,M=C+b[0].length,T={from:r.tr.mapping.map(C),to:r.tr.mapping.map(M)},F=s.handler({state:r,range:T,match:b,commands:l,chain:c,can:u,pasteEvent:o,dropEvent:a});d.push(F)})}),d.every(f=>f!==null)}const Lse=t=>{var e;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=r.clipboardData)===null||e===void 0||e.setData("text/html",t),r};function Fse(t){const{editor:e,rules:r}=t;let n=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a=typeof DragEvent<"u"?new DragEvent("drop"):null;const l=({state:u,from:d,to:h,rule:f,pasteEvt:p})=>{const g=u.tr,m=mv({state:u,transaction:g});if(!(!Pse({editor:e,state:m,from:Math.max(d-1,0),to:h.b-1,rule:f,pasteEvent:p,dropEvent:a})||!g.steps.length))return a=typeof DragEvent<"u"?new DragEvent("drop"):null,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g};return r.map(u=>new Oe({view(d){const h=f=>{var p;n=!((p=d.dom.parentElement)===null||p===void 0)&&p.contains(f.target)?d.dom.parentElement:null};return window.addEventListener("dragstart",h),{destroy(){window.removeEventListener("dragstart",h)}}},props:{handleDOMEvents:{drop:(d,h)=>(s=n===d.dom.parentElement,a=h,!1),paste:(d,h)=>{var f;const p=(f=h.clipboardData)===null||f===void 0?void 0:f.getData("text/html");return o=h,i=!!p?.includes("data-pm-slice"),!1}}},appendTransaction:(d,h,f)=>{const p=d[0],g=p.getMeta("uiEvent")==="paste"&&!i,m=p.getMeta("uiEvent")==="drop"&&!s,y=p.getMeta("applyPasteRules"),v=!!y;if(!g&&!m&&!v)return;if(v){const{from:M,text:T}=y,F=M+T.length,R=Lse(T);return l({rule:u,state:f,from:M,to:{b:F},pasteEvt:R})}const b=h.doc.content.findDiffStart(f.doc.content),C=h.doc.content.findDiffEnd(f.doc.content);if(!(!Ose(b)||!C||b===C.b))return l({rule:u,state:f,from:b,to:C,pasteEvt:o})}}))}function Bse(t){const e=t.filter((r,n)=>t.indexOf(r)!==n);return Array.from(new Set(e))}class aa{constructor(e,r){this.splittableMarks=[],this.editor=r,this.extensions=aa.resolve(e),this.schema=CH(this.extensions,r),this.setupExtensions()}static resolve(e){const r=aa.sort(aa.flatten(e)),n=Bse(r.map(i=>i.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),r}static flatten(e){return e.map(r=>{const n={name:r.name,options:r.options,storage:r.storage},i=Z(r,"addExtensions",n);return i?[r,...this.flatten(i())]:r}).flat(10)}static sort(e){return e.sort((n,i)=>{const s=Z(n,"priority")||100,o=Z(i,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,r)=>{const n={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:sw(r.name,this.schema)},i=Z(r,"addCommands",n);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,r=aa.sort([...this.extensions].reverse()),n=[],i=[],s=r.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:sw(o.name,this.schema)},l=[],c=Z(o,"addKeyboardShortcuts",a);let u={};if(o.type==="mark"&&Z(o,"exitable",a)&&(u.ArrowRight=()=>Ar.handleExit({editor:e,mark:o})),c){const g=Object.fromEntries(Object.entries(c()).map(([m,y])=>[m,()=>y({editor:e})]));u={...u,...g}}const d=ese(u);l.push(d);const h=Z(o,"addInputRules",a);qI(o,e.options.enableInputRules)&&h&&n.push(...h());const f=Z(o,"addPasteRules",a);qI(o,e.options.enablePasteRules)&&f&&i.push(...f());const p=Z(o,"addProseMirrorPlugins",a);if(p){const g=p();l.push(...g)}return l}).flat();return[Ase({editor:e,rules:n}),...Fse({editor:e,rules:i}),...s]}get attributes(){return wH(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:r}=vv(this.extensions);return Object.fromEntries(r.filter(n=>!!Z(n,"addNodeView")).map(n=>{const i=this.attributes.filter(l=>l.type===n.name),s={name:n.name,options:n.options,storage:n.storage,editor:e,type:Xt(n.name,this.schema)},o=Z(n,"addNodeView",s);if(!o)return[];const a=(l,c,u,d)=>{const h=OC(l,i);return o()({editor:e,node:l,getPos:u,decorations:d,HTMLAttributes:h,extension:n})};return[n.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var r;this.editor.extensionStorage[e.name]=e.storage;const n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:sw(e.name,this.schema)};e.type==="mark"&&(!((r=Ie(Z(e,"keepOnSplit",n)))!==null&&r!==void 0)||r)&&this.splittableMarks.push(e.name);const i=Z(e,"onBeforeCreate",n),s=Z(e,"onCreate",n),o=Z(e,"onUpdate",n),a=Z(e,"onSelectionUpdate",n),l=Z(e,"onTransaction",n),c=Z(e,"onFocus",n),u=Z(e,"onBlur",n),d=Z(e,"onDestroy",n);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}}function Vse(t){return Object.prototype.toString.call(t).slice(8,-1)}function Rf(t){return Vse(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function bv(t,e){const r={...t};return Rf(t)&&Rf(e)&&Object.keys(e).forEach(n=>{Rf(e[n])&&Rf(t[n])?r[n]=bv(t[n],e[n]):r[n]=e[n]}),r}class ct{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ie(Z(this,"addOptions",{name:this.name}))),this.storage=Ie(Z(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ct(e)}configure(e={}){const r=this.extend({...this.config,addOptions:()=>bv(this.options,e)});return r.name=this.name,r.parent=this.parent,r}extend(e={}){const r=new ct({...this.config,...e});return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=Ie(Z(r,"addOptions",{name:r.name})),r.storage=Ie(Z(r,"addStorage",{name:r.name,options:r.options})),r}}function EH(t,e,r){const{from:n,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=r||{};let a="";return t.nodesBetween(n,i,(l,c,u,d)=>{var h;l.isBlock&&c>n&&(a+=s);const f=o?.[l.type.name];if(f)return u&&(a+=f({node:l,pos:c,parent:u,index:d,range:e})),!1;l.isText&&(a+=(h=l?.text)===null||h===void 0?void 0:h.slice(Math.max(n,c)-c,i-c))}),a}function DH(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}const kH=ct.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Oe({key:new Je("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:r}=t,{doc:n,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(u=>u.$from.pos)),a=Math.max(...s.map(u=>u.$to.pos)),l=DH(r);return EH(n,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),Hse=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(e.dom.blur(),(r=window?.getSelection())===null||r===void 0||r.removeAllRanges())}),!0),jse=(t=!1)=>({commands:e})=>e.setContent("",t),Use=()=>({state:t,tr:e,dispatch:r})=>{const{selection:n}=e,{ranges:i}=n;return r&&i.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),h=c.resolve(u.map(l+a.nodeSize)),f=d.blockRange(h);if(!f)return;const p=lu(f);if(a.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(f.start,g)}(p||p===0)&&e.lift(f,p)})}),!0},$se=t=>e=>t(e),zse=()=>({state:t,dispatch:e})=>fse(t,e),Wse=(t,e)=>({editor:r,tr:n})=>{const{state:i}=r,s=i.doc.slice(t.from,t.to);n.deleteRange(t.from,t.to);const o=n.mapping.map(e);return n.insert(o,s.content),n.setSelection(new te(n.doc.resolve(o-1))),!0},Gse=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,n=r.$anchor.node();if(n.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===n.type){if(e){const a=i.before(s),l=i.after(s);t.delete(a,l).scrollIntoView()}return!0}return!1},qse=t=>({tr:e,state:r,dispatch:n})=>{const i=Xt(t,r.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(n){const l=s.before(o),c=s.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},Kse=t=>({tr:e,dispatch:r})=>{const{from:n,to:i}=t;return r&&e.delete(n,i),!0},Zse=()=>({state:t,dispatch:e})=>tse(t,e),Yse=()=>({commands:t})=>t.keyboardShortcut("Enter"),Jse=()=>({state:t,dispatch:e})=>hse(t,e);function Qg(t,e,r={strict:!0}){const n=Object.keys(e);return n.length?n.every(i=>r.strict?e[i]===t[i]:Ek(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function RC(t,e,r={}){return t.find(n=>n.type===e&&Qg(n.attrs,r))}function Xse(t,e,r={}){return!!RC(t,e,r)}function jd(t,e,r={}){if(!t||!e)return;let n=t.parent.childAfter(t.parentOffset);if(t.parentOffset===n.offset&&n.offset!==0&&(n=t.parent.childBefore(t.parentOffset)),!n.node)return;const i=RC([...n.node.marks],e,r);if(!i)return;let s=n.index,o=t.start()+n.offset,a=s+1,l=o+n.node.nodeSize;for(RC([...n.node.marks],e,r);s>0&&i.isInSet(t.parent.child(s-1).marks);)s-=1,o-=t.parent.child(s).nodeSize;for(;a<t.parent.childCount&&Xse([...t.parent.child(a).marks],e,r);)l+=t.parent.child(a).nodeSize,a+=1;return{from:o,to:l}}function zo(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const Qse=(t,e={})=>({tr:r,state:n,dispatch:i})=>{const s=zo(t,n.schema),{doc:o,selection:a}=r,{$from:l,from:c,to:u}=a;if(i){const d=jd(l,s,e);if(d&&d.from<=c&&d.to>=u){const h=te.create(o,d.from,d.to);r.setSelection(h)}}return!0},eoe=t=>e=>{const r=typeof t=="function"?t(e):t;for(let n=0;n<r.length;n+=1)if(r[n](e))return!0;return!1};function Dk(t){return t instanceof te}function gs(t=0,e=0,r=0){return Math.min(Math.max(t,e),r)}function MH(t,e=null){if(!e)return null;const r=se.atStart(t),n=se.atEnd(t);if(e==="start"||e===!0)return r;if(e==="end")return n;const i=r.from,s=n.to;return e==="all"?te.create(t,gs(0,i,s),gs(t.content.size,i,s)):te.create(t,gs(e,i,s),gs(e,i,s))}function kk(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const toe=(t=null,e={})=>({editor:r,view:n,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{kk()&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),e?.scrollIntoView&&r.commands.scrollIntoView())})};if(n.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!Dk(r.state.selection))return o(),!0;const a=MH(i.doc,t)||r.state.selection,l=r.state.selection.eq(a);return s&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},noe=(t,e)=>r=>t.every((n,i)=>e(n,{...r,index:i})),roe=(t,e)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},t,e),SH=t=>{const e=t.childNodes;for(let r=e.length-1;r>=0;r-=1){const n=e[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?t.removeChild(n):n.nodeType===1&&SH(n)}return t};function Nf(t){const e=`<body>${t}</body>`,r=new window.DOMParser().parseFromString(e,"text/html").body;return SH(r)}function em(t,e,r){r={slice:!0,parseOptions:{},...r};const n=typeof t=="object"&&t!==null,i=typeof t=="string";if(n)try{if(Array.isArray(t)&&t.length>0)return S.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return r.errorOnInvalidContent&&o.check(),o}catch(s){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),em("",e,r)}if(i){if(r.errorOnInvalidContent){let o=!1,a="";const l=new pV({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(r.slice?Yl.fromSchema(l).parseSlice(Nf(t),r.parseOptions):Yl.fromSchema(l).parse(Nf(t),r.parseOptions),r.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=Yl.fromSchema(e);return r.slice?s.parseSlice(Nf(t),r.parseOptions).content:s.parse(Nf(t),r.parseOptions)}return em("",e,r)}function TH(t,e,r){const n=t.steps.length-1;if(n<e)return;const i=t.steps[n];if(!(i instanceof zt||i instanceof Gt))return;const s=t.mapping.maps[n];let o=0;s.forEach((a,l,c,u)=>{o===0&&(o=u)}),t.setSelection(se.near(t.doc.resolve(o),r))}const ioe=t=>!("type"in t),soe=(t,e,r)=>({tr:n,dispatch:i,editor:s})=>{var o;if(i){r={parseOptions:{},updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let a;try{a=em(e,s.schema,{parseOptions:{preserveWhitespace:"full",...r.parseOptions},errorOnInvalidContent:(o=r.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck})}catch(p){return s.emit("contentError",{editor:s,error:p,disableCollaboration:()=>{console.error("[tiptap error]: Unable to disable collaboration at this point in time")}}),!1}let{from:l,to:c}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},u=!0,d=!0;if((ioe(a)?a:[a]).forEach(p=>{p.check(),u=u?p.isText&&p.marks.length===0:!1,d=d?p.isBlock:!1}),l===c&&d){const{parent:p}=n.doc.resolve(l);p.isTextblock&&!p.type.spec.code&&!p.childCount&&(l-=1,c+=1)}let f;u?(Array.isArray(e)?f=e.map(p=>p.text||"").join(""):typeof e=="object"&&e&&e.text?f=e.text:f=e,n.insertText(f,l,c)):(f=a,n.replaceWith(l,c,f)),r.updateSelection&&TH(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:l,text:f}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:l,text:f})}return!0},ooe=()=>({state:t,dispatch:e})=>lse(t,e),aoe=()=>({state:t,dispatch:e})=>cse(t,e),loe=()=>({state:t,dispatch:e})=>nse(t,e),coe=()=>({state:t,dispatch:e})=>ose(t,e),uoe=()=>({state:t,dispatch:e,tr:r})=>{try{const n=uv(t.doc,t.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},doe=()=>({state:t,dispatch:e,tr:r})=>{try{const n=uv(t.doc,t.selection.$from.pos,1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},hoe=()=>({state:t,dispatch:e})=>rse(t,e),foe=()=>({state:t,dispatch:e})=>ise(t,e);function IH(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function poe(t){const e=t.split(/-(?!$)/);let r=e[e.length-1];r==="Space"&&(r=" ");let n,i,s,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))kk()||IH()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return n&&(r=`Alt-${r}`),i&&(r=`Ctrl-${r}`),o&&(r=`Meta-${r}`),s&&(r=`Shift-${r}`),r}const goe=t=>({editor:e,view:r,tr:n,dispatch:i})=>{const s=poe(t).split(/-(?!$)/),o=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{r.someProp("handleKeyDown",c=>c(r,a))});return l?.steps.forEach(c=>{const u=c.map(n.mapping);u&&i&&n.maybeStep(u)}),!0};function Ud(t,e,r={}){const{from:n,to:i,empty:s}=t.selection,o=e?Xt(e,t.schema):null,a=[];t.doc.nodesBetween(n,i,(d,h)=>{if(d.isText)return;const f=Math.max(n,h),p=Math.min(i,h+d.nodeSize);a.push({node:d,from:f,to:p})});const l=i-n,c=a.filter(d=>o?o.name===d.node.type.name:!0).filter(d=>Qg(d.node.attrs,r,{strict:!1}));return s?!!c.length:c.reduce((d,h)=>d+h.to-h.from,0)>=l}const moe=(t,e={})=>({state:r,dispatch:n})=>{const i=Xt(t,r.schema);return Ud(r,i,e)?use(r,n):!1},yoe=()=>({state:t,dispatch:e})=>pse(t,e),voe=t=>({state:e,dispatch:r})=>{const n=Xt(t,e.schema);return Cse(n)(e,r)},boe=()=>({state:t,dispatch:e})=>dse(t,e);function wv(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function KI(t,e){const r=typeof e=="string"?[e]:e;return Object.keys(t).reduce((n,i)=>(r.includes(i)||(n[i]=t[i]),n),{})}const woe=(t,e)=>({tr:r,state:n,dispatch:i})=>{let s=null,o=null;const a=wv(typeof t=="string"?t:t.name,n.schema);return a?(a==="node"&&(s=Xt(t,n.schema)),a==="mark"&&(o=zo(t,n.schema)),i&&r.selection.ranges.forEach(l=>{n.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{s&&s===c.type&&r.setNodeMarkup(u,void 0,KI(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(d=>{o===d.type&&r.addMark(u,u+c.nodeSize,o.create(KI(d.attrs,e)))})})}),!0):!1},_oe=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),Coe=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),Eoe=()=>({state:t,dispatch:e})=>sse(t,e),Doe=()=>({state:t,dispatch:e})=>ase(t,e),koe=()=>({state:t,dispatch:e})=>gse(t,e),Moe=()=>({state:t,dispatch:e})=>vse(t,e),Soe=()=>({state:t,dispatch:e})=>yse(t,e);function tm(t,e,r={},n={}){return em(t,e,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}const Toe=(t,e=!1,r={},n={})=>({editor:i,tr:s,dispatch:o,commands:a})=>{var l,c;const{doc:u}=s;if(r.preserveWhitespace!=="full"){const d=tm(t,i.schema,r,{errorOnInvalidContent:(l=n.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck});return o&&s.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!e),!0}return o&&s.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:u.content.size},t,{parseOptions:r,errorOnInvalidContent:(c=n.errorOnInvalidContent)!==null&&c!==void 0?c:i.options.enableContentCheck})};function xH(t,e){const r=zo(e,t.schema),{from:n,to:i,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(n,i,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===r.name);return a?{...a.attrs}:{}}function AH(t,e){const r=new uk(t);return e.forEach(n=>{n.steps.forEach(i=>{r.step(i)})}),r}function Ioe(t){for(let e=0;e<t.edgeCount;e+=1){const{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function ZI(t,e){const r=[];return t.descendants((n,i)=>{e(n)&&r.push({node:n,pos:i})}),r}function OH(t,e,r){const n=[];return t.nodesBetween(e.from,e.to,(i,s)=>{r(i)&&n.push({node:i,pos:s})}),n}function xoe(t,e){for(let r=t.depth;r>0;r-=1){const n=t.node(r);if(e(n))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:n}}}function _v(t){return e=>xoe(e.$from,t)}function Aoe(t,e){const r=Ji.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(r),i.innerHTML}function Ooe(t,e){const r=aa.resolve(t);return CH(r,e)}function Roe(t,e){const r={from:0,to:t.content.size};return EH(t,r,e)}function Noe(t,e){const r=Xt(e,t.schema),{from:n,to:i}=t.selection,s=[];t.doc.nodesBetween(n,i,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===r.name);return o?{...o.attrs}:{}}function RH(t,e){const r=wv(typeof e=="string"?e:e.name,t.schema);return r==="node"?Noe(t,e):r==="mark"?xH(t,e):{}}function Poe(t,e=JSON.stringify){const r={};return t.filter(n=>{const i=e(n);return Object.prototype.hasOwnProperty.call(r,i)?!1:r[i]=!0})}function Loe(t){const e=Poe(t);return e.length===1?e:e.filter((r,n)=>!e.filter((s,o)=>o!==n).some(s=>r.oldRange.from>=s.oldRange.from&&r.oldRange.to<=s.oldRange.to&&r.newRange.from>=s.newRange.from&&r.newRange.to<=s.newRange.to))}function NH(t){const{mapping:e,steps:r}=t,n=[];return e.maps.forEach((i,s)=>{const o=[];if(i.ranges.length)i.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=r[s];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const c=e.slice(s).map(a,-1),u=e.slice(s).map(l),d=e.invert().map(c,-1),h=e.invert().map(u);n.push({oldRange:{from:d,to:h},newRange:{from:c,to:u}})})}),Loe(n)}function Mk(t,e,r){const n=[];return t===e?r.resolve(t).marks().forEach(i=>{const s=r.resolve(t),o=jd(s,i.type);o&&n.push({mark:i,...o})}):r.nodesBetween(t,e,(i,s)=>{!i||i?.nodeSize===void 0||n.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),n}function _p(t,e,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const i=t.find(s=>s.type===e&&s.name===n);return i?i.attribute.keepOnSplit:!1}))}function NC(t,e,r={}){const{empty:n,ranges:i}=t.selection,s=e?zo(e,t.schema):null;if(n)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>Qg(d.attrs,r,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:d,$to:h})=>{const f=d.pos,p=h.pos;t.doc.nodesBetween(f,p,(g,m)=>{if(!g.isText&&!g.marks.length)return;const y=Math.max(f,m),v=Math.min(p,m+g.nodeSize),b=v-y;o+=b,a.push(...g.marks.map(C=>({mark:C,from:y,to:v})))})}),o===0)return!1;const l=a.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>Qg(d.mark.attrs,r,{strict:!1})).reduce((d,h)=>d+h.to-h.from,0),c=a.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,h)=>d+h.to-h.from,0);return(l>0?l+c:l)>=o}function Foe(t,e,r={}){if(!e)return Ud(t,null,r)||NC(t,null,r);const n=wv(e,t.schema);return n==="node"?Ud(t,e,r):n==="mark"?NC(t,e,r):!1}function YI(t,e){const{nodeExtensions:r}=vv(e),n=r.find(o=>o.name===t);if(!n)return!1;const i={name:n.name,options:n.options,storage:n.storage},s=Ie(Z(n,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function PH(t,{checkChildren:e=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((n=t.text)!==null&&n!==void 0?n:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(PH(s,{ignoreWhitespace:r,checkChildren:e})||(i=!1))}),i}return!1}function Boe(t){return t instanceof X}function PC(t,e,r){const i=t.state.doc.content.size,s=gs(e,0,i),o=gs(r,0,i),a=t.coordsAtPos(s),l=t.coordsAtPos(o,-1),c=Math.min(a.top,l.top),u=Math.max(a.bottom,l.bottom),d=Math.min(a.left,l.left),h=Math.max(a.right,l.right),f=h-d,p=u-c,y={top:c,bottom:u,left:d,right:h,width:f,height:p,x:d,y:c};return{...y,toJSON:()=>y}}function Voe(t,e,r){var n;const{selection:i}=e;let s=null;if(Dk(i)&&(s=i.$cursor),s){const a=(n=t.storedMarks)!==null&&n!==void 0?n:s.marks();return!!r.isInSet(a)||!a.some(l=>l.type.excludes(r))}const{ranges:o}=i;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(r):!1;return t.doc.nodesBetween(a.pos,l.pos,(u,d,h)=>{if(c)return!1;if(u.isInline){const f=!h||h.type.allowsMarkType(r),p=!!r.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(r));c=f&&p}return!c}),c})}const Hoe=(t,e={})=>({tr:r,state:n,dispatch:i})=>{const{selection:s}=r,{empty:o,ranges:a}=s,l=zo(t,n.schema);if(i)if(o){const c=xH(n,l);r.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;n.doc.nodesBetween(u,d,(h,f)=>{const p=Math.max(f,u),g=Math.min(f+h.nodeSize,d);h.marks.find(y=>y.type===l)?h.marks.forEach(y=>{l===y.type&&r.addMark(p,g,l.create({...y.attrs,...e}))}):r.addMark(p,g,l.create(e))})});return Voe(n,r,l)},joe=(t,e)=>({tr:r})=>(r.setMeta(t,e),!0),Uoe=(t,e={})=>({state:r,dispatch:n,chain:i})=>{const s=Xt(t,r.schema);return s.isTextblock?i().command(({commands:o})=>zI(s,e)(r)?!0:o.clearNodes()).command(({state:o})=>zI(s,e)(o,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},$oe=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,i=gs(t,0,n.content.size),s=X.create(n,i);e.setSelection(s)}return!0},zoe=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,o=te.atStart(n).from,a=te.atEnd(n).to,l=gs(i,o,a),c=gs(s,o,a),u=te.create(n,l,c);e.setSelection(u)}return!0},Woe=t=>({state:e,dispatch:r})=>{const n=Xt(t,e.schema);return kse(n)(e,r)};function JI(t,e){const r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){const n=r.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(n)}}const Goe=({keepMarks:t=!0}={})=>({tr:e,state:r,dispatch:n,editor:i})=>{const{selection:s,doc:o}=e,{$from:a,$to:l}=s,c=i.extensionManager.attributes,u=_p(c,a.node().type.name,a.node().attrs);if(s instanceof X&&s.node.isBlock)return!a.parentOffset||!Xl(o,a.pos)?!1:(n&&(t&&JI(r,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,h=a.depth===0?void 0:Ioe(a.node(-1).contentMatchAt(a.indexAfter(-1)));let f=d&&h?[{type:h,attrs:u}]:void 0,p=Xl(e.doc,e.mapping.map(a.pos),1,f);if(!f&&!p&&Xl(e.doc,e.mapping.map(a.pos),1,h?[{type:h}]:void 0)&&(p=!0,f=h?[{type:h,attrs:u}]:void 0),n){if(p&&(s instanceof te&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,f),h&&!d&&!a.parentOffset&&a.parent.type!==h)){const g=e.mapping.map(a.before()),m=e.doc.resolve(g);a.node(-1).canReplaceWith(m.index(),m.index()+1,h)&&e.setNodeMarkup(e.mapping.map(a.before()),h)}t&&JI(r,i.extensionManager.splittableMarks),e.scrollIntoView()}return p},qoe=(t,e={})=>({tr:r,state:n,dispatch:i,editor:s})=>{var o;const a=Xt(t,n.schema),{$from:l,$to:c}=n.selection,u=n.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const h=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let y=S.empty;const v=l.index(-1)?1:l.index(-2)?2:3;for(let R=l.depth-v;R>=l.depth-3;R-=1)y=S.from(l.node(R).copy(y));const b=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,C={..._p(h,l.node().type.name,l.node().attrs),...e},M=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(C))||void 0;y=y.append(S.from(a.createAndFill(null,M)||void 0));const T=l.before(l.depth-(v-1));r.replace(T,l.after(-b),new N(y,4-v,0));let F=-1;r.doc.nodesBetween(T,r.doc.content.size,(R,$)=>{if(F>-1)return!1;R.isTextblock&&R.content.size===0&&(F=$+1)}),F>-1&&r.setSelection(te.near(r.doc.resolve(F))),r.scrollIntoView()}return!0}const f=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,p={..._p(h,d.type.name,d.attrs),...e},g={..._p(h,l.node().type.name,l.node().attrs),...e};r.delete(l.pos,c.pos);const m=f?[{type:a,attrs:p},{type:f,attrs:g}]:[{type:a,attrs:p}];if(!Xl(r.doc,l.pos,2))return!1;if(i){const{selection:y,storedMarks:v}=n,{splittableMarks:b}=s.extensionManager,C=v||y.$to.parentOffset&&y.$from.marks();if(r.split(l.pos,2,m).scrollIntoView(),!C||!i)return!0;const M=C.filter(T=>b.includes(T.type.name));r.ensureMarks(M)}return!0},ow=(t,e)=>{const r=_v(o=>o.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const i=t.doc.nodeAt(n);return r.node.type===i?.type&&cl(t.doc,r.pos)&&t.join(r.pos),!0},aw=(t,e)=>{const r=_v(o=>o.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const i=t.doc.nodeAt(n);return r.node.type===i?.type&&cl(t.doc,n)&&t.join(n),!0},Koe=(t,e,r,n={})=>({editor:i,tr:s,state:o,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:h}=i.extensionManager,f=Xt(t,o.schema),p=Xt(e,o.schema),{selection:g,storedMarks:m}=o,{$from:y,$to:v}=g,b=y.blockRange(v),C=m||g.$to.parentOffset&&g.$from.marks();if(!b)return!1;const M=_v(T=>YI(T.type.name,d))(g);if(b.depth>=1&&M&&b.depth-M.depth<=1){if(M.node.type===f)return c.liftListItem(p);if(YI(M.node.type.name,d)&&f.validContent(M.node.content)&&a)return l().command(()=>(s.setNodeMarkup(M.pos,f),!0)).command(()=>ow(s,f)).command(()=>aw(s,f)).run()}return!r||!C||!a?l().command(()=>u().wrapInList(f,n)?!0:c.clearNodes()).wrapInList(f,n).command(()=>ow(s,f)).command(()=>aw(s,f)).run():l().command(()=>{const T=u().wrapInList(f,n),F=C.filter(R=>h.includes(R.type.name));return s.ensureMarks(F),T?!0:c.clearNodes()}).wrapInList(f,n).command(()=>ow(s,f)).command(()=>aw(s,f)).run()},Zoe=(t,e={},r={})=>({state:n,commands:i})=>{const{extendEmptyMarkRange:s=!1}=r,o=zo(t,n.schema);return NC(n,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},Yoe=(t,e,r={})=>({state:n,commands:i})=>{const s=Xt(t,n.schema),o=Xt(e,n.schema);return Ud(n,s,r)?i.setNode(o):i.setNode(s,r)},Joe=(t,e={})=>({state:r,commands:n})=>{const i=Xt(t,r.schema);return Ud(r,i,e)?n.lift(i):n.wrapIn(i,e)},Xoe=()=>({state:t,dispatch:e})=>{const r=t.plugins;for(let n=0;n<r.length;n+=1){const i=r[n];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const o=t.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},Qoe=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,{empty:n,ranges:i}=r;return n||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},eae=(t,e={})=>({tr:r,state:n,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=r,l=zo(t,n.schema),{$from:c,empty:u,ranges:d}=a;if(!i)return!0;if(u&&o){let{from:h,to:f}=a;const p=(s=c.marks().find(m=>m.type===l))===null||s===void 0?void 0:s.attrs,g=jd(c,l,p);g&&(h=g.from,f=g.to),r.removeMark(h,f,l)}else d.forEach(h=>{r.removeMark(h.$from.pos,h.$to.pos,l)});return r.removeStoredMark(l),!0},tae=(t,e={})=>({tr:r,state:n,dispatch:i})=>{let s=null,o=null;const a=wv(typeof t=="string"?t:t.name,n.schema);return a?(a==="node"&&(s=Xt(t,n.schema)),a==="mark"&&(o=zo(t,n.schema)),i&&r.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;n.doc.nodesBetween(c,u,(d,h)=>{s&&s===d.type&&r.setNodeMarkup(h,void 0,{...d.attrs,...e}),o&&d.marks.length&&d.marks.forEach(f=>{if(o===f.type){const p=Math.max(h,c),g=Math.min(h+d.nodeSize,u);r.addMark(p,g,o.create({...f.attrs,...e}))}})})}),!0):!1},nae=(t,e={})=>({state:r,dispatch:n})=>{const i=Xt(t,r.schema);return bse(i,e)(r,n)},rae=(t,e={})=>({state:r,dispatch:n})=>{const i=Xt(t,r.schema);return wse(i,e)(r,n)};var iae=Object.freeze({__proto__:null,blur:Hse,clearContent:jse,clearNodes:Use,command:$se,createParagraphNear:zse,cut:Wse,deleteCurrentNode:Gse,deleteNode:qse,deleteRange:Kse,deleteSelection:Zse,enter:Yse,exitCode:Jse,extendMarkRange:Qse,first:eoe,focus:toe,forEach:noe,insertContent:roe,insertContentAt:soe,joinBackward:loe,joinDown:aoe,joinForward:coe,joinItemBackward:uoe,joinItemForward:doe,joinTextblockBackward:hoe,joinTextblockForward:foe,joinUp:ooe,keyboardShortcut:goe,lift:moe,liftEmptyBlock:yoe,liftListItem:voe,newlineInCode:boe,resetAttributes:woe,scrollIntoView:_oe,selectAll:Coe,selectNodeBackward:Eoe,selectNodeForward:Doe,selectParentNode:koe,selectTextblockEnd:Moe,selectTextblockStart:Soe,setContent:Toe,setMark:Hoe,setMeta:joe,setNode:Uoe,setNodeSelection:$oe,setTextSelection:zoe,sinkListItem:Woe,splitBlock:Goe,splitListItem:qoe,toggleList:Koe,toggleMark:Zoe,toggleNode:Yoe,toggleWrap:Joe,undoInputRule:Xoe,unsetAllMarks:Qoe,unsetMark:eae,updateAttributes:tae,wrapIn:nae,wrapInList:rae});const LH=ct.create({name:"commands",addCommands(){return{...iae}}}),FH=ct.create({name:"editable",addProseMirrorPlugins(){return[new Oe({key:new Je("editable"),props:{editable:()=>this.editor.options.editable}})]}}),BH=ct.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Oe({key:new Je("focusEvents"),props:{handleDOMEvents:{focus:(e,r)=>{t.isFocused=!0;const n=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,r)=>{t.isFocused=!1;const n=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),VH=ct.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:h,parent:f}=d,p=d.parent.isTextblock&&h>0?a.doc.resolve(h-1):d,g=p.parent.type.spec.isolating,m=d.pos-d.parentOffset,y=g&&p.parent.childCount===1?m===d.pos:se.atStart(c).from===h;return!u||!f.type.isTextblock||f.textContent.length||!y||y&&d.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...n},s={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return kk()||IH()?s:i},addProseMirrorPlugins(){return[new Oe({key:new Je("clearDocument"),appendTransaction:(t,e,r)=>{if(!(t.some(p=>p.docChanged)&&!e.doc.eq(r.doc)))return;const{empty:i,from:s,to:o}=e.selection,a=se.atStart(e.doc).from,l=se.atEnd(e.doc).to;if(i||!(s===a&&o===l)||!(r.doc.textBetween(0,r.doc.content.size," "," ").length===0))return;const d=r.tr,h=mv({state:r,transaction:d}),{commands:f}=new yv({editor:this.editor,state:h});if(f.clearNodes(),!!d.steps.length)return d}})]}}),HH=ct.create({name:"tabindex",addProseMirrorPlugins(){return[new Oe({key:new Je("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});var Eu=Object.freeze({__proto__:null,ClipboardTextSerializer:kH,Commands:LH,Editable:FH,FocusEvents:BH,Keymap:VH,Tabindex:HH});class Qo{get name(){return this.node.type.name}constructor(e,r,n=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=r,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(e);return new Qo(r,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Qo(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Qo(e,this.editor)}get children(){const e=[];return this.node.content.forEach((r,n)=>{const i=r.isBlock&&!r.isTextblock,s=this.pos+n+1,o=this.resolvedPos.doc.resolve(s);if(!i&&o.depth<=this.depth)return;const a=new Qo(o,this.editor,i,i?r:null);i&&(a.actualDepth=this.depth+1),e.push(new Qo(o,this.editor,i,i?r:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,r={}){let n=null,i=this.parent;for(;i&&!n;){if(i.node.type.name===e)if(Object.keys(r).length>0){const s=i.node.attrs,o=Object.keys(r);for(let a=0;a<o.length;a+=1){const l=o[a];if(s[l]!==r[l])break}}else n=i;i=i.parent}return n}querySelector(e,r={}){return this.querySelectorAll(e,r,!0)[0]||null}querySelectorAll(e,r={},n=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(r);return this.children.forEach(o=>{n&&i.length>0||(o.node.type.name===e&&s.every(l=>r[l]===o.node.attrs[l])&&i.push(o),!(n&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,r,n))))}),i}setAttribute(e){const r=this.editor.state.selection;this.editor.chain().setTextSelection(this.from).updateAttributes(this.node.type.name,e).setTextSelection(r.from).run()}}const sae=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function oae(t,e,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}class aae extends Mse{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r}},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=oae(sae,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,r=!0){this.setOptions({editable:e}),r&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,r){const n=_H(r)?r(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:n});this.view.updateState(i)}unregisterPlugin(e){if(this.isDestroyed)return;const r=typeof e=="string"?`${e}$`:e.key,n=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(r))});this.view.updateState(n)}createExtensionManager(){var e,r;const i=[...this.options.enableCoreExtensions?[FH,kH.configure({blockSeparator:(r=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||r===void 0?void 0:r.blockSeparator}),LH,BH,VH,HH]:[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new aa(i,this)}createCommandManager(){this.commandManager=new yv({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let e;try{e=tm(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(s){if(!(s instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(s.message))throw s;this.emit("contentError",{editor:this,error:s,disableCollaboration:()=>{this.options.extensions=this.options.extensions.filter(o=>o.name!=="collaboration"),this.createExtensionManager()}}),e=tm(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=MH(e,this.options.autofocus);this.view=new fH(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:ia.create({doc:e,selection:r||void 0})});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const r=this.capturedTransaction;return this.capturedTransaction=null,r}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const r=this.state.apply(e),n=!this.state.selection.eq(r.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:r}),this.view.updateState(r),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return RH(this.state,e)}isActive(e,r){const n=typeof e=="string"?e:null,i=typeof e=="string"?r:e;return Foe(this.state,n,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Aoe(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:r=`

`,textSerializers:n={}}=e||{};return Roe(this.state.doc,{blockSeparator:r,textSerializers:{...DH(this.schema),...n}})}get isEmpty(){return PH(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,r){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelector(e,r))||null}$nodes(e,r){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelectorAll(e,r))||null}$pos(e){const r=this.state.doc.resolve(e);return new Qo(r,this)}get $doc(){return this.$pos(0)}}function Mc(t){return new kc({find:t.find,handler:({state:e,range:r,match:n})=>{const i=Ie(t.getAttributes,void 0,n);if(i===!1||i===null)return null;const{tr:s}=e,o=n[n.length-1],a=n[0];if(o){const l=a.search(/\S/),c=r.from+a.indexOf(o),u=c+o.length;if(Mk(r.from,r.to,e.doc).filter(f=>f.mark.type.excluded.find(g=>g===t.type&&g!==f.mark.type)).filter(f=>f.to>c).length)return null;u<r.to&&s.delete(u,r.to),c>r.from&&s.delete(r.from+l,c);const h=r.from+l+o.length;s.addMark(r.from+l,h,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}class Ar{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ie(Z(this,"addOptions",{name:this.name}))),this.storage=Ie(Z(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Ar(e)}configure(e={}){const r=this.extend({...this.config,addOptions:()=>bv(this.options,e)});return r.name=this.name,r.parent=this.parent,r}extend(e={}){const r=new Ar(e);return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=Ie(Z(r,"addOptions",{name:r.name})),r.storage=Ie(Z(r,"addStorage",{name:r.name,options:r.options})),r}static handleExit({editor:e,mark:r}){const{tr:n}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(c=>c?.type.name===r.name))return!1;const l=o.find(c=>c?.type.name===r.name);return l&&n.removeStoredMark(l),n.insertText(" ",i.pos),e.view.dispatch(n),!0}return!1}}let hi=class LC{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ie(Z(this,"addOptions",{name:this.name}))),this.storage=Ie(Z(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new LC(e)}configure(e={}){const r=this.extend({...this.config,addOptions:()=>bv(this.options,e)});return r.name=this.name,r.parent=this.parent,r}extend(e={}){const r=new LC(e);return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=Ie(Z(r,"addOptions",{name:r.name})),r.storage=Ie(Z(r,"addStorage",{name:r.name,options:r.options})),r}};function ja(t){return new Rse({find:t.find,handler:({state:e,range:r,match:n,pasteEvent:i})=>{const s=Ie(t.getAttributes,void 0,n,i);if(s===!1||s===null)return null;const{tr:o}=e,a=n[n.length-1],l=n[0];let c=r.to;if(a){const u=l.search(/\S/),d=r.from+l.indexOf(a),h=d+a.length;if(Mk(r.from,r.to,e.doc).filter(p=>p.mark.type.excluded.find(m=>m===t.type&&m!==p.mark.type)).filter(p=>p.to>d).length)return null;h<r.to&&o.delete(h,r.to),d>r.from&&o.delete(r.from+u,d),c=r.from+u+a.length,o.addMark(r.from+u,c,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}var Pf,lae=new Uint8Array(16);function cae(){if(!Pf&&(Pf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Pf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Pf(lae)}const uae=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function dae(t){return typeof t=="string"&&uae.test(t)}var en=[];for(var lw=0;lw<256;++lw)en.push((lw+256).toString(16).substr(1));function hae(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(en[t[e+0]]+en[t[e+1]]+en[t[e+2]]+en[t[e+3]]+"-"+en[t[e+4]]+en[t[e+5]]+"-"+en[t[e+6]]+en[t[e+7]]+"-"+en[t[e+8]]+en[t[e+9]]+"-"+en[t[e+10]]+en[t[e+11]]+en[t[e+12]]+en[t[e+13]]+en[t[e+14]]+en[t[e+15]]).toLowerCase();if(!dae(r))throw TypeError("Stringified UUID is invalid");return r}function fae(t,e,r){t=t||{};var n=t.random||(t.rng||cae)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,hae(n)}const pae=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,gae=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,mae=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,yae=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,vae=Ar.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",er(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Mc({find:pae,type:this.type}),Mc({find:mae,type:this.type})]},addPasteRules(){return[ja({find:gae,type:this.type}),ja({find:yae,type:this.type})]}}),bae=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,wae=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,_ae=Ar.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",er(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Mc({find:bae,type:this.type})]},addPasteRules(){return[ja({find:wae,type:this.type})]}}),Cae=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Eae=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Dae=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,kae=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Mae=Ar.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",er(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Mc({find:Cae,type:this.type}),Mc({find:Dae,type:this.type})]},addPasteRules(){return[ja({find:Eae,type:this.type}),ja({find:kae,type:this.type})]}}),Sae=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Tae=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Iae=Ar.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",er(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Mc({find:Sae,type:this.type})]},addPasteRules(){return[ja({find:Tae,type:this.type})]}}),xae=Ar.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",er(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),Aae=hi.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?[parseInt(e,10)]:null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",er(this.options.HTMLAttributes,t),0]}}),Oae=hi.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?[parseInt(e,10)]:null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",er(this.options.HTMLAttributes,t),0]}}),Rae=hi.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",er(this.options.HTMLAttributes,t),0]}});var FC,BC;if(typeof WeakMap<"u"){let t=new WeakMap;FC=e=>t.get(e),BC=(e,r)=>(t.set(e,r),r)}else{const t=[];let r=0;FC=n=>{for(let i=0;i<t.length;i+=2)if(t[i]==n)return t[i+1]},BC=(n,i)=>(r==10&&(r=0),t[r++]=n,t[r++]=i)}var It=class{constructor(t,e,r,n){this.width=t,this.height=e,this.map=r,this.problems=n}findCell(t){for(let e=0;e<this.map.length;e++){const r=this.map[e];if(r!=t)continue;const n=e%this.width,i=e/this.width|0;let s=n+1,o=i+1;for(let a=1;s<this.width&&this.map[e+a]==r;a++)s++;for(let a=1;o<this.height&&this.map[e+this.width*a]==r;a++)o++;return{left:n,top:i,right:s,bottom:o}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,r){const{left:n,right:i,top:s,bottom:o}=this.findCell(t);return e=="horiz"?(r<0?n==0:i==this.width)?null:this.map[s*this.width+(r<0?n-1:i)]:(r<0?s==0:o==this.height)?null:this.map[n+this.width*(r<0?s-1:o)]}rectBetween(t,e){const{left:r,right:n,top:i,bottom:s}=this.findCell(t),{left:o,right:a,top:l,bottom:c}=this.findCell(e);return{left:Math.min(r,o),top:Math.min(i,l),right:Math.max(n,a),bottom:Math.max(s,c)}}cellsInRect(t){const e=[],r={};for(let n=t.top;n<t.bottom;n++)for(let i=t.left;i<t.right;i++){const s=n*this.width+i,o=this.map[s];r[o]||(r[o]=!0,!(i==t.left&&i&&this.map[s-1]==o||n==t.top&&n&&this.map[s-this.width]==o)&&e.push(o))}return e}positionAt(t,e,r){for(let n=0,i=0;;n++){const s=i+r.child(n).nodeSize;if(n==t){let o=e+t*this.width;const a=(t+1)*this.width;for(;o<a&&this.map[o]<i;)o++;return o==a?s-1:this.map[o]}i=s}}static get(t){return FC(t)||BC(t,Nae(t))}};function Nae(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=Pae(t),r=t.childCount,n=[];let i=0,s=null;const o=[];for(let c=0,u=e*r;c<u;c++)n[c]=0;for(let c=0,u=0;c<r;c++){const d=t.child(c);u++;for(let p=0;;p++){for(;i<n.length&&n[i]!=0;)i++;if(p==d.childCount)break;const g=d.child(p),{colspan:m,rowspan:y,colwidth:v}=g.attrs;for(let b=0;b<y;b++){if(b+c>=r){(s||(s=[])).push({type:"overlong_rowspan",pos:u,n:y-b});break}const C=i+b*e;for(let M=0;M<m;M++){n[C+M]==0?n[C+M]=u:(s||(s=[])).push({type:"collision",row:c,pos:u,n:m-M});const T=v&&v[M];if(T){const F=(C+M)%e*2,R=o[F];R==null||R!=T&&o[F+1]==1?(o[F]=T,o[F+1]=1):R==T&&o[F+1]++}}}i+=m,u+=g.nodeSize}const h=(c+1)*e;let f=0;for(;i<h;)n[i++]==0&&f++;f&&(s||(s=[])).push({type:"missing",row:c,n:f}),u++}const a=new It(e,r,n,s);let l=!1;for(let c=0;!l&&c<o.length;c+=2)o[c]!=null&&o[c+1]<r&&(l=!0);return l&&Lae(a,o,t),a}function Pae(t){let e=-1,r=!1;for(let n=0;n<t.childCount;n++){const i=t.child(n);let s=0;if(r)for(let o=0;o<n;o++){const a=t.child(o);for(let l=0;l<a.childCount;l++){const c=a.child(l);o+c.attrs.rowspan>n&&(s+=c.attrs.colspan)}}for(let o=0;o<i.childCount;o++){const a=i.child(o);s+=a.attrs.colspan,a.attrs.rowspan>1&&(r=!0)}e==-1?e=s:e!=s&&(e=Math.max(e,s))}return e}function Lae(t,e,r){t.problems||(t.problems=[]);const n={};for(let i=0;i<t.map.length;i++){const s=t.map[i];if(n[s])continue;n[s]=!0;const o=r.nodeAt(s);if(!o)throw new RangeError(`No cell with offset ${s} found`);let a=null;const l=o.attrs;for(let c=0;c<l.colspan;c++){const u=(i+c)%t.width,d=e[u*2];d!=null&&(!l.colwidth||l.colwidth[c]!=d)&&((a||(a=Fae(l)))[c]=d)}a&&t.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:a})}}function Fae(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let r=0;r<t.colspan;r++)e.push(0);return e}function Ui(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const r in t.nodes){const n=t.nodes[r],i=n.spec.tableRole;i&&(e[i]=n)}}return e}var Gs=new Je("selectingCells");function qh(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function Sk(t){const e=t.selection.$head;for(let r=e.depth;r>0;r--)if(e.node(r).type.spec.tableRole=="row")return!0;return!1}function jH(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const r=qh(e.$head)||Bae(e.$head);if(r)return r;throw new RangeError(`No cell found around position ${e.head}`)}function Bae(t){for(let e=t.nodeAfter,r=t.pos;e;e=e.firstChild,r++){const n=e.type.spec.tableRole;if(n=="cell"||n=="header_cell")return t.doc.resolve(r)}for(let e=t.nodeBefore,r=t.pos;e;e=e.lastChild,r--){const n=e.type.spec.tableRole;if(n=="cell"||n=="header_cell")return t.doc.resolve(r-e.nodeSize)}}function VC(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function Tk(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function UH(t,e,r){const n=t.node(-1),i=It.get(n),s=t.start(-1),o=i.nextCell(t.pos-s,e,r);return o==null?null:t.node(0).resolve(s+o)}function Sc(t,e,r=1){const n={...t,colspan:t.colspan-r};return n.colwidth&&(n.colwidth=n.colwidth.slice(),n.colwidth.splice(e,r),n.colwidth.some(i=>i>0)||(n.colwidth=null)),n}var qt=class rs extends se{constructor(e,r=e){const n=e.node(-1),i=It.get(n),s=e.start(-1),o=i.rectBetween(e.pos-s,r.pos-s),a=e.node(0),l=i.cellsInRect(o).filter(u=>u!=r.pos-s);l.unshift(r.pos-s);const c=l.map(u=>{const d=n.nodeAt(u);if(!d)throw RangeError(`No cell with offset ${u} found`);const h=s+u+1;return new xV(a.resolve(h),a.resolve(h+d.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=r}map(e,r){const n=e.resolve(r.map(this.$anchorCell.pos)),i=e.resolve(r.map(this.$headCell.pos));if(VC(n)&&VC(i)&&Tk(n,i)){const s=this.$anchorCell.node(-1)!=n.node(-1);return s&&this.isRowSelection()?rs.rowSelection(n,i):s&&this.isColSelection()?rs.colSelection(n,i):new rs(n,i)}return te.between(n,i)}content(){const e=this.$anchorCell.node(-1),r=It.get(e),n=this.$anchorCell.start(-1),i=r.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),s={},o=[];for(let l=i.top;l<i.bottom;l++){const c=[];for(let u=l*r.width+i.left,d=i.left;d<i.right;d++,u++){const h=r.map[u];if(s[h])continue;s[h]=!0;const f=r.findCell(h);let p=e.nodeAt(h);if(!p)throw RangeError(`No cell with offset ${h} found`);const g=i.left-f.left,m=f.right-i.right;if(g>0||m>0){let y=p.attrs;if(g>0&&(y=Sc(y,0,g)),m>0&&(y=Sc(y,y.colspan-m,m)),f.left<i.left){if(p=p.type.createAndFill(y),!p)throw RangeError(`Could not create cell with attrs ${JSON.stringify(y)}`)}else p=p.type.create(y,p.content)}if(f.top<i.top||f.bottom>i.bottom){const y={...p.attrs,rowspan:Math.min(f.bottom,i.bottom)-Math.max(f.top,i.top)};f.top<i.top?p=p.type.createAndFill(y):p=p.type.create(y,p.content)}c.push(p)}o.push(e.child(l).copy(S.from(c)))}const a=this.isColSelection()&&this.isRowSelection()?e:o;return new N(S.from(a),1,1)}replace(e,r=N.empty){const n=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){const{$from:a,$to:l}=i[o],c=e.mapping.slice(n);e.replace(c.map(a.pos),c.map(l.pos),o?N.empty:r)}const s=se.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,r){this.replace(e,new N(S.from(r),0,0))}forEachCell(e){const r=this.$anchorCell.node(-1),n=It.get(r),i=this.$anchorCell.start(-1),s=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let o=0;o<s.length;o++)e(r.nodeAt(s[o]),i+s[o])}isColSelection(){const e=this.$anchorCell.index(-1),r=this.$headCell.index(-1);if(Math.min(e,r)>0)return!1;const n=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=r+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,i)==this.$headCell.node(-1).childCount}static colSelection(e,r=e){const n=e.node(-1),i=It.get(n),s=e.start(-1),o=i.findCell(e.pos-s),a=i.findCell(r.pos-s),l=e.node(0);return o.top<=a.top?(o.top>0&&(e=l.resolve(s+i.map[o.left])),a.bottom<i.height&&(r=l.resolve(s+i.map[i.width*(i.height-1)+a.right-1]))):(a.top>0&&(r=l.resolve(s+i.map[a.left])),o.bottom<i.height&&(e=l.resolve(s+i.map[i.width*(i.height-1)+o.right-1]))),new rs(e,r)}isRowSelection(){const e=this.$anchorCell.node(-1),r=It.get(e),n=this.$anchorCell.start(-1),i=r.colCount(this.$anchorCell.pos-n),s=r.colCount(this.$headCell.pos-n);if(Math.min(i,s)>0)return!1;const o=i+this.$anchorCell.nodeAfter.attrs.colspan,a=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,a)==r.width}eq(e){return e instanceof rs&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,r=e){const n=e.node(-1),i=It.get(n),s=e.start(-1),o=i.findCell(e.pos-s),a=i.findCell(r.pos-s),l=e.node(0);return o.left<=a.left?(o.left>0&&(e=l.resolve(s+i.map[o.top*i.width])),a.right<i.width&&(r=l.resolve(s+i.map[i.width*(a.top+1)-1]))):(a.left>0&&(r=l.resolve(s+i.map[a.top*i.width])),o.right<i.width&&(e=l.resolve(s+i.map[i.width*(o.top+1)-1]))),new rs(e,r)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,r){return new rs(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){return new rs(e.resolve(r),e.resolve(n))}getBookmark(){return new Vae(this.$anchorCell.pos,this.$headCell.pos)}};qt.prototype.visible=!1;se.jsonID("cell",qt);var Vae=class $H{constructor(e,r){this.anchor=e,this.head=r}map(e){return new $H(e.map(this.anchor),e.map(this.head))}resolve(e){const r=e.resolve(this.anchor),n=e.resolve(this.head);return r.parent.type.spec.tableRole=="row"&&n.parent.type.spec.tableRole=="row"&&r.index()<r.parent.childCount&&n.index()<n.parent.childCount&&Tk(r,n)?new qt(r,n):se.near(n,1)}};function Hae(t){if(!(t.selection instanceof qt))return null;const e=[];return t.selection.forEachCell((r,n)=>{e.push(vt.node(n,n+r.nodeSize,{class:"selectedCell"}))}),ze.create(t.doc,e)}function jae({$from:t,$to:e}){if(t.pos==e.pos||t.pos<t.pos-6)return!1;let r=t.pos,n=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,r++);for(let s=e.depth;s>=0&&!(e.before(s+1)>e.start(s));s--,n--);return r==n&&/row|table/.test(t.node(i).type.spec.tableRole)}function Uae({$from:t,$to:e}){let r,n;for(let i=t.depth;i>0;i--){const s=t.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}for(let i=e.depth;i>0;i--){const s=e.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){n=s;break}}return r!==n&&e.parentOffset===0}function $ae(t,e,r){const n=(e||t).selection,i=(e||t).doc;let s,o;if(n instanceof X&&(o=n.node.type.spec.tableRole)){if(o=="cell"||o=="header_cell")s=qt.create(i,n.from);else if(o=="row"){const a=i.resolve(n.from+1);s=qt.rowSelection(a,a)}else if(!r){const a=It.get(n.node),l=n.from+1,c=l+a.map[a.width*a.height-1];s=qt.create(i,l+1,c)}}else n instanceof te&&jae(n)?s=te.create(i,n.from):n instanceof te&&Uae(n)&&(s=te.create(i,n.$from.start(),n.$from.end()));return s&&(e||(e=t.tr)).setSelection(s),e}var zae=new Je("fix-tables");function zH(t,e,r,n){const i=t.childCount,s=e.childCount;e:for(let o=0,a=0;o<s;o++){const l=e.child(o);for(let c=a,u=Math.min(i,o+3);c<u;c++)if(t.child(c)==l){a=c+1,r+=l.nodeSize;continue e}n(l,r),a<i&&t.child(a).sameMarkup(l)?zH(t.child(a),l,r+1,n):l.nodesBetween(0,l.content.size,n,r+1),r+=l.nodeSize}}function Wae(t,e){let r;const n=(i,s)=>{i.type.spec.tableRole=="table"&&(r=Gae(t,i,s,r))};return e?e.doc!=t.doc&&zH(e.doc,t.doc,0,n):t.doc.descendants(n),r}function Gae(t,e,r,n){const i=It.get(e);if(!i.problems)return n;n||(n=t.tr);const s=[];for(let l=0;l<i.height;l++)s.push(0);for(let l=0;l<i.problems.length;l++){const c=i.problems[l];if(c.type=="collision"){const u=e.nodeAt(c.pos);if(!u)continue;const d=u.attrs;for(let h=0;h<d.rowspan;h++)s[c.row+h]+=c.n;n.setNodeMarkup(n.mapping.map(r+1+c.pos),null,Sc(d,d.colspan-c.n,c.n))}else if(c.type=="missing")s[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const u=e.nodeAt(c.pos);if(!u)continue;n.setNodeMarkup(n.mapping.map(r+1+c.pos),null,{...u.attrs,rowspan:u.attrs.rowspan-c.n})}else if(c.type=="colwidth mismatch"){const u=e.nodeAt(c.pos);if(!u)continue;n.setNodeMarkup(n.mapping.map(r+1+c.pos),null,{...u.attrs,colwidth:c.colwidth})}}let o,a;for(let l=0;l<s.length;l++)s[l]&&(o==null&&(o=l),a=l);for(let l=0,c=r+1;l<i.height;l++){const u=e.child(l),d=c+u.nodeSize,h=s[l];if(h>0){let f="cell";u.firstChild&&(f=u.firstChild.type.spec.tableRole);const p=[];for(let m=0;m<h;m++){const y=Ui(t.schema)[f].createAndFill();y&&p.push(y)}const g=(l==0||o==l-1)&&a==l?c+1:d-1;n.insert(n.mapping.map(g),p)}c=d}return n.setMeta(zae,{fixTables:!0})}function qae(t){if(!t.size)return null;let{content:e,openStart:r,openEnd:n}=t;for(;e.childCount==1&&(r>0&&n>0||e.child(0).type.spec.tableRole=="table");)r--,n--,e=e.child(0).content;const i=e.child(0),s=i.type.spec.tableRole,o=i.type.schema,a=[];if(s=="row")for(let l=0;l<e.childCount;l++){let c=e.child(l).content;const u=l?0:Math.max(0,r-1),d=l<e.childCount-1?0:Math.max(0,n-1);(u||d)&&(c=HC(Ui(o).row,new N(c,u,d)).content),a.push(c)}else if(s=="cell"||s=="header_cell")a.push(r||n?HC(Ui(o).row,new N(e,r,n)).content:e);else return null;return Kae(o,a)}function Kae(t,e){const r=[];for(let i=0;i<e.length;i++){const s=e[i];for(let o=s.childCount-1;o>=0;o--){const{rowspan:a,colspan:l}=s.child(o).attrs;for(let c=i;c<i+a;c++)r[c]=(r[c]||0)+l}}let n=0;for(let i=0;i<r.length;i++)n=Math.max(n,r[i]);for(let i=0;i<r.length;i++)if(i>=e.length&&e.push(S.empty),r[i]<n){const s=Ui(t).cell.createAndFill(),o=[];for(let a=r[i];a<n;a++)o.push(s);e[i]=e[i].append(S.from(o))}return{height:e.length,width:n,rows:e}}function HC(t,e){const r=t.createAndFill();return new uk(r).replace(0,r.content.size,e).doc}function Zae({width:t,height:e,rows:r},n,i){if(t!=n){const s=[],o=[];for(let a=0;a<r.length;a++){const l=r[a],c=[];for(let u=s[a]||0,d=0;u<n;d++){let h=l.child(d%l.childCount);u+h.attrs.colspan>n&&(h=h.type.createChecked(Sc(h.attrs,h.attrs.colspan,u+h.attrs.colspan-n),h.content)),c.push(h),u+=h.attrs.colspan;for(let f=1;f<h.attrs.rowspan;f++)s[a+f]=(s[a+f]||0)+h.attrs.colspan}o.push(S.from(c))}r=o,t=n}if(e!=i){const s=[];for(let o=0,a=0;o<i;o++,a++){const l=[],c=r[a%e];for(let u=0;u<c.childCount;u++){let d=c.child(u);o+d.attrs.rowspan>i&&(d=d.type.create({...d.attrs,rowspan:Math.max(1,i-d.attrs.rowspan)},d.content)),l.push(d)}s.push(S.from(l))}r=s,e=i}return{width:t,height:e,rows:r}}function Yae(t,e,r,n,i,s,o){const a=t.doc.type.schema,l=Ui(a);let c,u;if(i>e.width)for(let d=0,h=0;d<e.height;d++){const f=r.child(d);h+=f.nodeSize;const p=[];let g;f.lastChild==null||f.lastChild.type==l.cell?g=c||(c=l.cell.createAndFill()):g=u||(u=l.header_cell.createAndFill());for(let m=e.width;m<i;m++)p.push(g);t.insert(t.mapping.slice(o).map(h-1+n),p)}if(s>e.height){const d=[];for(let p=0,g=(e.height-1)*e.width;p<Math.max(e.width,i);p++){const m=p>=e.width?!1:r.nodeAt(e.map[g+p]).type==l.header_cell;d.push(m?u||(u=l.header_cell.createAndFill()):c||(c=l.cell.createAndFill()))}const h=l.row.create(null,S.from(d)),f=[];for(let p=e.height;p<s;p++)f.push(h);t.insert(t.mapping.slice(o).map(n+r.nodeSize-2),f)}return!!(c||u)}function XI(t,e,r,n,i,s,o,a){if(o==0||o==e.height)return!1;let l=!1;for(let c=i;c<s;c++){const u=o*e.width+c,d=e.map[u];if(e.map[u-e.width]==d){l=!0;const h=r.nodeAt(d),{top:f,left:p}=e.findCell(d);t.setNodeMarkup(t.mapping.slice(a).map(d+n),null,{...h.attrs,rowspan:o-f}),t.insert(t.mapping.slice(a).map(e.positionAt(o,p,r)),h.type.createAndFill({...h.attrs,rowspan:f+h.attrs.rowspan-o})),c+=h.attrs.colspan-1}}return l}function QI(t,e,r,n,i,s,o,a){if(o==0||o==e.width)return!1;let l=!1;for(let c=i;c<s;c++){const u=c*e.width+o,d=e.map[u];if(e.map[u-1]==d){l=!0;const h=r.nodeAt(d),f=e.colCount(d),p=t.mapping.slice(a).map(d+n);t.setNodeMarkup(p,null,Sc(h.attrs,o-f,h.attrs.colspan-(o-f))),t.insert(p+h.nodeSize,h.type.createAndFill(Sc(h.attrs,0,o-f))),c+=h.attrs.rowspan-1}}return l}function ex(t,e,r,n,i){let s=r?t.doc.nodeAt(r-1):t.doc;if(!s)throw new Error("No table found");let o=It.get(s);const{top:a,left:l}=n,c=l+i.width,u=a+i.height,d=t.tr;let h=0;function f(){if(s=r?d.doc.nodeAt(r-1):d.doc,!s)throw new Error("No table found");o=It.get(s),h=d.mapping.maps.length}Yae(d,o,s,r,c,u,h)&&f(),XI(d,o,s,r,l,c,a,h)&&f(),XI(d,o,s,r,l,c,u,h)&&f(),QI(d,o,s,r,a,u,l,h)&&f(),QI(d,o,s,r,a,u,c,h)&&f();for(let p=a;p<u;p++){const g=o.positionAt(p,l,s),m=o.positionAt(p,c,s);d.replace(d.mapping.slice(h).map(g+r),d.mapping.slice(h).map(m+r),new N(i.rows[p-a],0,0))}f(),d.setSelection(new qt(d.doc.resolve(r+o.positionAt(a,l,s)),d.doc.resolve(r+o.positionAt(u-1,c-1,s)))),e(d)}var Jae=wk({ArrowLeft:Lf("horiz",-1),ArrowRight:Lf("horiz",1),ArrowUp:Lf("vert",-1),ArrowDown:Lf("vert",1),"Shift-ArrowLeft":Ff("horiz",-1),"Shift-ArrowRight":Ff("horiz",1),"Shift-ArrowUp":Ff("vert",-1),"Shift-ArrowDown":Ff("vert",1),Backspace:Bf,"Mod-Backspace":Bf,Delete:Bf,"Mod-Delete":Bf});function Cp(t,e,r){return r.eq(t.selection)?!1:(e&&e(t.tr.setSelection(r).scrollIntoView()),!0)}function Lf(t,e){return(r,n,i)=>{if(!i)return!1;const s=r.selection;if(s instanceof qt)return Cp(r,n,se.near(s.$headCell,e));if(t!="horiz"&&!s.empty)return!1;const o=WH(i,t,e);if(o==null)return!1;if(t=="horiz")return Cp(r,n,se.near(r.doc.resolve(s.head+e),e));{const a=r.doc.resolve(o),l=UH(a,t,e);let c;return l?c=se.near(l,1):e<0?c=se.near(r.doc.resolve(a.before(-1)),-1):c=se.near(r.doc.resolve(a.after(-1)),1),Cp(r,n,c)}}}function Ff(t,e){return(r,n,i)=>{if(!i)return!1;const s=r.selection;let o;if(s instanceof qt)o=s;else{const l=WH(i,t,e);if(l==null)return!1;o=new qt(r.doc.resolve(l))}const a=UH(o.$headCell,t,e);return a?Cp(r,n,new qt(o.$anchorCell,a)):!1}}function Bf(t,e){const r=t.selection;if(!(r instanceof qt))return!1;if(e){const n=t.tr,i=Ui(t.schema).cell.createAndFill().content;r.forEachCell((s,o)=>{s.content.eq(i)||n.replace(n.mapping.map(o+1),n.mapping.map(o+s.nodeSize-1),new N(i,0,0))}),n.docChanged&&e(n)}return!0}function Xae(t,e){const r=t.state.doc,n=qh(r.resolve(e));return n?(t.dispatch(t.state.tr.setSelection(new qt(n))),!0):!1}function Qae(t,e,r){if(!Sk(t.state))return!1;let n=qae(r);const i=t.state.selection;if(i instanceof qt){n||(n={width:1,height:1,rows:[S.from(HC(Ui(t.state.schema).cell,r))]});const s=i.$anchorCell.node(-1),o=i.$anchorCell.start(-1),a=It.get(s).rectBetween(i.$anchorCell.pos-o,i.$headCell.pos-o);return n=Zae(n,a.right-a.left,a.bottom-a.top),ex(t.state,t.dispatch,o,a,n),!0}else if(n){const s=jH(t.state),o=s.start(-1);return ex(t.state,t.dispatch,o,It.get(s.node(-1)).findCell(s.pos-o),n),!0}else return!1}function ele(t,e){var r;if(e.ctrlKey||e.metaKey)return;const n=tx(t,e.target);let i;if(e.shiftKey&&t.state.selection instanceof qt)s(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&n&&(i=qh(t.state.selection.$anchor))!=null&&((r=cw(t,e))==null?void 0:r.pos)!=i.pos)s(i,e),e.preventDefault();else if(!n)return;function s(l,c){let u=cw(t,c);const d=Gs.getState(t.state)==null;if(!u||!Tk(l,u))if(d)u=l;else return;const h=new qt(l,u);if(d||!t.state.selection.eq(h)){const f=t.state.tr.setSelection(h);d&&f.setMeta(Gs,l.pos),t.dispatch(f)}}function o(){t.root.removeEventListener("mouseup",o),t.root.removeEventListener("dragstart",o),t.root.removeEventListener("mousemove",a),Gs.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(Gs,-1))}function a(l){const c=l,u=Gs.getState(t.state);let d;if(u!=null)d=t.state.doc.resolve(u);else if(tx(t,c.target)!=n&&(d=cw(t,e),!d))return o();d&&s(d,c)}t.root.addEventListener("mouseup",o),t.root.addEventListener("dragstart",o),t.root.addEventListener("mousemove",a)}function WH(t,e,r){if(!(t.state.selection instanceof te))return null;const{$head:n}=t.state.selection;for(let i=n.depth-1;i>=0;i--){const s=n.node(i);if((r<0?n.index(i):n.indexAfter(i))!=(r<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const a=n.before(i),l=e=="vert"?r>0?"down":"up":r>0?"right":"left";return t.endOfTextblock(l)?a:null}}return null}function tx(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function cw(t,e){const r=t.posAtCoords({left:e.clientX,top:e.clientY});return r&&r?qh(t.state.doc.resolve(r.pos)):null}var tle=class{constructor(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),jC(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!=this.node.type?!1:(this.node=t,jC(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){return t.type=="attributes"&&(t.target==this.table||this.colgroup.contains(t.target))}};function jC(t,e,r,n,i,s){var o;let a=0,l=!0,c=e.firstChild;const u=t.firstChild;if(u){for(let d=0,h=0;d<u.childCount;d++){const{colspan:f,colwidth:p}=u.child(d).attrs;for(let g=0;g<f;g++,h++){const m=i==h?s:p&&p[g],y=m?m+"px":"";a+=m||n,m||(l=!1),c?(c.style.width!=y&&(c.style.width=y),c=c.nextSibling):e.appendChild(document.createElement("col")).style.width=y}}for(;c;){const d=c.nextSibling;(o=c.parentNode)==null||o.removeChild(c),c=d}l?(r.style.width=a+"px",r.style.minWidth=""):(r.style.width="",r.style.minWidth=a+"px")}}var pr=new Je("tableColumnResizing");function nle({handleWidth:t=5,cellMinWidth:e=25,View:r=tle,lastColumnResizable:n=!0}={}){const i=new Oe({key:pr,state:{init(s,o){var a,l;const c=(l=(a=i.spec)==null?void 0:a.props)==null?void 0:l.nodeViews,u=Ui(o.schema).table.name;return r&&c&&(c[u]=(d,h)=>new r(d,e,h)),new rle(-1,!1)},apply(s,o){return o.apply(s)}},props:{attributes:s=>{const o=pr.getState(s);return o&&o.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(s,o)=>{ile(s,o,t,e,n)},mouseleave:s=>{sle(s)},mousedown:(s,o)=>{ole(s,o,e)}},decorations:s=>{const o=pr.getState(s);if(o&&o.activeHandle>-1)return hle(s,o.activeHandle)},nodeViews:{}}});return i}var rle=class Ep{constructor(e,r){this.activeHandle=e,this.dragging=r}apply(e){const r=this,n=e.getMeta(pr);if(n&&n.setHandle!=null)return new Ep(n.setHandle,!1);if(n&&n.setDragging!==void 0)return new Ep(r.activeHandle,n.setDragging);if(r.activeHandle>-1&&e.docChanged){let i=e.mapping.map(r.activeHandle,-1);return VC(e.doc.resolve(i))||(i=-1),new Ep(i,r.dragging)}return r}};function ile(t,e,r,n,i){const s=pr.getState(t.state);if(s&&!s.dragging){const o=lle(e.target);let a=-1;if(o){const{left:l,right:c}=o.getBoundingClientRect();e.clientX-l<=r?a=nx(t,e,"left",r):c-e.clientX<=r&&(a=nx(t,e,"right",r))}if(a!=s.activeHandle){if(!i&&a!==-1){const l=t.state.doc.resolve(a),c=l.node(-1),u=It.get(c),d=l.start(-1);if(u.colCount(l.pos-d)+l.nodeAfter.attrs.colspan-1==u.width-1)return}GH(t,a)}}}function sle(t){const e=pr.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&GH(t,-1)}function ole(t,e,r){var n;const i=(n=t.dom.ownerDocument.defaultView)!=null?n:window,s=pr.getState(t.state);if(!s||s.activeHandle==-1||s.dragging)return!1;const o=t.state.doc.nodeAt(s.activeHandle),a=ale(t,s.activeHandle,o.attrs);t.dispatch(t.state.tr.setMeta(pr,{setDragging:{startX:e.clientX,startWidth:a}}));function l(u){i.removeEventListener("mouseup",l),i.removeEventListener("mousemove",c);const d=pr.getState(t.state);d?.dragging&&(cle(t,d.activeHandle,rx(d.dragging,u,r)),t.dispatch(t.state.tr.setMeta(pr,{setDragging:null})))}function c(u){if(!u.which)return l(u);const d=pr.getState(t.state);if(d&&d.dragging){const h=rx(d.dragging,u,r);ule(t,d.activeHandle,h,r)}}return i.addEventListener("mouseup",l),i.addEventListener("mousemove",c),e.preventDefault(),!0}function ale(t,e,{colspan:r,colwidth:n}){const i=n&&n[n.length-1];if(i)return i;const s=t.domAtPos(e);let a=s.node.childNodes[s.offset].offsetWidth,l=r;if(n)for(let c=0;c<r;c++)n[c]&&(a-=n[c],l--);return a/l}function lle(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function nx(t,e,r,n){const i=r=="right"?-n:n,s=t.posAtCoords({left:e.clientX+i,top:e.clientY});if(!s)return-1;const{pos:o}=s,a=qh(t.state.doc.resolve(o));if(!a)return-1;if(r=="right")return a.pos;const l=It.get(a.node(-1)),c=a.start(-1),u=l.map.indexOf(a.pos-c);return u%l.width==0?-1:c+l.map[u-1]}function rx(t,e,r){const n=e.clientX-t.startX;return Math.max(r,t.startWidth+n)}function GH(t,e){t.dispatch(t.state.tr.setMeta(pr,{setHandle:e}))}function cle(t,e,r){const n=t.state.doc.resolve(e),i=n.node(-1),s=It.get(i),o=n.start(-1),a=s.colCount(n.pos-o)+n.nodeAfter.attrs.colspan-1,l=t.state.tr;for(let c=0;c<s.height;c++){const u=c*s.width+a;if(c&&s.map[u]==s.map[u-s.width])continue;const d=s.map[u],h=i.nodeAt(d).attrs,f=h.colspan==1?0:a-s.colCount(d);if(h.colwidth&&h.colwidth[f]==r)continue;const p=h.colwidth?h.colwidth.slice():dle(h.colspan);p[f]=r,l.setNodeMarkup(o+d,null,{...h,colwidth:p})}l.docChanged&&t.dispatch(l)}function ule(t,e,r,n){const i=t.state.doc.resolve(e),s=i.node(-1),o=i.start(-1),a=It.get(s).colCount(i.pos-o)+i.nodeAfter.attrs.colspan-1;let l=t.domAtPos(i.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&jC(s,l.firstChild,l,n,a,r)}function dle(t){return Array(t).fill(0)}function hle(t,e){const r=[],n=t.doc.resolve(e),i=n.node(-1);if(!i)return ze.empty;const s=It.get(i),o=n.start(-1),a=s.colCount(n.pos-o)+n.nodeAfter.attrs.colspan-1;for(let l=0;l<s.height;l++){const c=a+l*s.width;if((a==s.width-1||s.map[c]!=s.map[c+1])&&(l==0||s.map[c]!=s.map[c-s.width])){const u=s.map[c],d=o+u+i.nodeAt(u).nodeSize-1,h=document.createElement("div");h.className="column-resize-handle",r.push(vt.widget(d,h))}}return ze.create(t.doc,r)}function qH(t){const e=t.selection,r=jH(t),n=r.node(-1),i=r.start(-1),s=It.get(n);return{...e instanceof qt?s.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):s.findCell(r.pos-i),tableStart:i,map:s,table:n}}function fle(t){return function(e,r){if(!Sk(e))return!1;if(r){const n=Ui(e.schema),i=qH(e),s=e.tr,o=i.map.cellsInRect(t=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:t=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),a=o.map(l=>i.table.nodeAt(l));for(let l=0;l<o.length;l++)a[l].type==n.header_cell&&s.setNodeMarkup(i.tableStart+o[l],n.cell,a[l].attrs);if(s.steps.length==0)for(let l=0;l<o.length;l++)s.setNodeMarkup(i.tableStart+o[l],n.header_cell,a[l].attrs);r(s)}return!0}}function ix(t,e,r){const n=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let i=0;i<n.length;i++){const s=e.table.nodeAt(n[i]);if(s&&s.type!==r.header_cell)return!1}return!0}function Ik(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?fle(t):function(r,n){if(!Sk(r))return!1;if(n){const i=Ui(r.schema),s=qH(r),o=r.tr,a=ix("row",s,i),l=ix("column",s,i),u=(t==="column"?a:t==="row"?l:!1)?1:0,d=t=="column"?{left:0,top:u,right:1,bottom:s.map.height}:t=="row"?{left:u,top:0,right:s.map.width,bottom:1}:s,h=t=="column"?l?i.cell:i.header_cell:t=="row"?a?i.cell:i.header_cell:i.cell;s.map.cellsInRect(d).forEach(f=>{const p=f+s.tableStart,g=o.doc.nodeAt(p);g&&o.setNodeMarkup(p,h,g.attrs)}),n(o)}return!0}}Ik("row",{useDeprecatedLogic:!0});Ik("column",{useDeprecatedLogic:!0});Ik("cell",{useDeprecatedLogic:!0});function ple({allowTableNodeSelection:t=!1}={}){return new Oe({key:Gs,state:{init(){return null},apply(e,r){const n=e.getMeta(Gs);if(n!=null)return n==-1?null:n;if(r==null||!e.docChanged)return r;const{deleted:i,pos:s}=e.mapping.mapResult(r);return i?null:s}},props:{decorations:Hae,handleDOMEvents:{mousedown:ele},createSelectionBetween(e){return Gs.getState(e.state)!=null?e.state.selection:null},handleTripleClick:Xae,handleKeyDown:Jae,handlePaste:Qae},appendTransaction(e,r,n){return $ae(n,Wae(n,r),t)}})}const Cr=()=>new Map,UC=t=>{const e=Cr();return t.forEach((r,n)=>{e.set(n,r)}),e},Rs=(t,e,r)=>{let n=t.get(e);return n===void 0&&t.set(e,n=r()),n},gle=(t,e)=>{const r=[];for(const[n,i]of t)r.push(e(i,n));return r},mle=(t,e)=>{for(const[r,n]of t)if(e(n,r))return!0;return!1},Ua=()=>new Set,uw=t=>t[t.length-1],yle=(t,e)=>{for(let r=0;r<e.length;r++)t.push(e[r])},$a=Array.from,vle=(t,e)=>{for(let r=0;r<t.length;r++)if(e(t[r],r,t))return!0;return!1},$C=Array.isArray;class KH{constructor(){this._observers=Cr()}on(e,r){return Rs(this._observers,e,Ua).add(r),r}once(e,r){const n=(...i)=>{this.off(e,n),r(...i)};this.on(e,n)}off(e,r){const n=this._observers.get(e);n!==void 0&&(n.delete(r),n.size===0&&this._observers.delete(e))}emit(e,r){return $a((this._observers.get(e)||Cr()).values()).forEach(n=>n(...r))}destroy(){this._observers=Cr()}}const Es=Math.floor,Dp=Math.abs,ya=(t,e)=>t<e?t:e,Do=(t,e)=>t>e?t:e,ZH=t=>t!==0?t<0:1/t<0,sx=1,ox=2,dw=4,hw=8,$d=32,ys=64,Jn=128,Cv=31,zC=63,va=127,ble=2147483647,YH=Number.MAX_SAFE_INTEGER,wle=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&Es(t)===t),_le=t=>t.toLowerCase(),Cle=/^\s*/g,Ele=t=>t.replace(Cle,""),Dle=/([A-Z])/g,ax=(t,e)=>Ele(t.replace(Dle,r=>`${e}${_le(r)}`)),kle=t=>{const e=unescape(encodeURIComponent(t)),r=e.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=e.codePointAt(i);return n},zd=typeof TextEncoder<"u"?new TextEncoder:null,Mle=t=>zd.encode(t),Sle=zd?Mle:kle;let rd=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});rd&&rd.decode(new Uint8Array).length===1&&(rd=null);class Kh{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const Ev=()=>new Kh,Tle=t=>{let e=t.cpos;for(let r=0;r<t.bufs.length;r++)e+=t.bufs[r].length;return e},Ri=t=>{const e=new Uint8Array(Tle(t));let r=0;for(let n=0;n<t.bufs.length;n++){const i=t.bufs[n];e.set(i,r),r+=i.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),r),e},Ile=(t,e)=>{const r=t.cbuf.length;r-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(Do(r,e)*2),t.cpos=0)},$t=(t,e)=>{const r=t.cbuf.length;t.cpos===r&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(r*2),t.cpos=0),t.cbuf[t.cpos++]=e},WC=$t,Re=(t,e)=>{for(;e>va;)$t(t,Jn|va&e),e=Es(e/128);$t(t,va&e)},xk=(t,e)=>{const r=ZH(e);for(r&&(e=-e),$t(t,(e>zC?Jn:0)|(r?ys:0)|zC&e),e=Es(e/64);e>0;)$t(t,(e>va?Jn:0)|va&e),e=Es(e/128)},GC=new Uint8Array(3e4),xle=GC.length/3,Ale=(t,e)=>{if(e.length<xle){const r=zd.encodeInto(e,GC).written||0;Re(t,r);for(let n=0;n<r;n++)$t(t,GC[n])}else zn(t,Sle(e))},Ole=(t,e)=>{const r=unescape(encodeURIComponent(e)),n=r.length;Re(t,n);for(let i=0;i<n;i++)$t(t,r.codePointAt(i))},tc=zd&&zd.encodeInto?Ale:Ole,Dv=(t,e)=>{const r=t.cbuf.length,n=t.cpos,i=ya(r-n,e.length),s=e.length-i;t.cbuf.set(e.subarray(0,i),n),t.cpos+=i,s>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(Do(r*2,s)),t.cbuf.set(e.subarray(i)),t.cpos=s)},zn=(t,e)=>{Re(t,e.byteLength),Dv(t,e)},Ak=(t,e)=>{Ile(t,e);const r=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,r},Rle=(t,e)=>Ak(t,4).setFloat32(0,e,!1),Nle=(t,e)=>Ak(t,8).setFloat64(0,e,!1),Ple=(t,e)=>Ak(t,8).setBigInt64(0,e,!1),lx=new DataView(new ArrayBuffer(4)),Lle=t=>(lx.setFloat32(0,t),lx.getFloat32(0)===t),Wd=(t,e)=>{switch(typeof e){case"string":$t(t,119),tc(t,e);break;case"number":wle(e)&&Dp(e)<=ble?($t(t,125),xk(t,e)):Lle(e)?($t(t,124),Rle(t,e)):($t(t,123),Nle(t,e));break;case"bigint":$t(t,122),Ple(t,e);break;case"object":if(e===null)$t(t,126);else if($C(e)){$t(t,117),Re(t,e.length);for(let r=0;r<e.length;r++)Wd(t,e[r])}else if(e instanceof Uint8Array)$t(t,116),zn(t,e);else{$t(t,118);const r=Object.keys(e);Re(t,r.length);for(let n=0;n<r.length;n++){const i=r[n];tc(t,i),Wd(t,e[i])}}break;case"boolean":$t(t,e?120:121);break;default:$t(t,127)}};class cx extends Kh{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&Re(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const ux=t=>{t.count>0&&(xk(t.encoder,t.count===1?t.s:-t.s),t.count>1&&Re(t.encoder,t.count-2))};class kp{constructor(){this.encoder=new Kh,this.s=0,this.count=0}write(e){this.s===e?this.count++:(ux(this),this.count=1,this.s=e)}toUint8Array(){return ux(this),Ri(this.encoder)}}const dx=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);xk(t.encoder,e),t.count>1&&Re(t.encoder,t.count-2)}};class fw{constructor(){this.encoder=new Kh,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(dx(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return dx(this),Ri(this.encoder)}}class Fle{constructor(){this.sarr=[],this.s="",this.lensE=new kp}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new Kh;return this.sarr.push(this.s),this.s="",tc(e,this.sarr.join("")),Dv(e,this.lensE.toUint8Array()),Ri(e)}}const ko=t=>new Error(t),Jr=()=>{throw ko("Method unimplemented")},tr=()=>{throw ko("Unexpected case")},JH=ko("Unexpected end of array"),XH=ko("Integer out of Range");class kv{constructor(e){this.arr=e,this.pos=0}}const Ok=t=>new kv(t),Ble=t=>t.pos!==t.arr.length,Vle=(t,e)=>{const r=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,r},ar=t=>Vle(t,lt(t)),Gd=t=>t.arr[t.pos++],lt=t=>{let e=0,r=1;const n=t.arr.length;for(;t.pos<n;){const i=t.arr[t.pos++];if(e=e+(i&va)*r,r*=128,i<Jn)return e;if(e>YH)throw XH}throw JH},Rk=t=>{let e=t.arr[t.pos++],r=e&zC,n=64;const i=(e&ys)>0?-1:1;if(!(e&Jn))return i*r;const s=t.arr.length;for(;t.pos<s;){if(e=t.arr[t.pos++],r=r+(e&va)*n,n*=128,e<Jn)return i*r;if(r>YH)throw XH}throw JH},Hle=t=>{let e=lt(t);if(e===0)return"";{let r=String.fromCodePoint(Gd(t));if(--e<100)for(;e--;)r+=String.fromCodePoint(Gd(t));else for(;e>0;){const n=e<1e4?e:1e4,i=t.arr.subarray(t.pos,t.pos+n);t.pos+=n,r+=String.fromCodePoint.apply(null,i),e-=n}return decodeURIComponent(escape(r))}},jle=t=>rd.decode(ar(t)),qC=rd?jle:Hle,Nk=(t,e)=>{const r=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,r},Ule=t=>Nk(t,4).getFloat32(0,!1),$le=t=>Nk(t,8).getFloat64(0,!1),zle=t=>Nk(t,8).getBigInt64(0,!1),Wle=[t=>{},t=>null,Rk,Ule,$le,zle,t=>!1,t=>!0,qC,t=>{const e=lt(t),r={};for(let n=0;n<e;n++){const i=qC(t);r[i]=nm(t)}return r},t=>{const e=lt(t),r=[];for(let n=0;n<e;n++)r.push(nm(t));return r},ar],nm=t=>Wle[127-Gd(t)](t);class hx extends kv{constructor(e,r){super(e),this.reader=r,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),Ble(this)?this.count=lt(this)+1:this.count=-1),this.count--,this.s}}class Mp extends kv{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=Rk(this);const e=ZH(this.s);this.count=1,e&&(this.s=-this.s,this.count=lt(this)+2)}return this.count--,this.s}}class pw extends kv{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=Rk(this),r=e&1;this.diff=Es(e/2),this.count=1,r&&(this.count=lt(this)+2)}return this.s+=this.diff,this.count--,this.s}}class Gle{constructor(e){this.decoder=new Mp(e),this.str=qC(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),r=this.str.slice(this.spos,e);return this.spos=e,r}}const qle=crypto.getRandomValues.bind(crypto),Kle=Math.random,QH=()=>qle(new Uint32Array(1))[0],Zle=t=>t[Es(Kle()*t.length)],Yle="10000000-1000-4000-8000"+-1e11,Jle=()=>Yle.replace(/[018]/g,t=>(t^QH()&15>>t/4).toString(16)),Xle=Date.now,fx=t=>new Promise(t);Promise.all.bind(Promise);const px=t=>t===void 0?null:t;class Qle{constructor(){this.map=new Map}setItem(e,r){this.map.set(e,r)}getItem(e){return this.map.get(e)}}let ej=new Qle,ece=!0;try{typeof localStorage<"u"&&localStorage&&(ej=localStorage,ece=!1)}catch{}const tce=ej,nce=Object.assign,tj=Object.keys,rce=(t,e)=>{for(const r in t)e(t[r],r)},gx=t=>tj(t).length,ice=t=>{for(const e in t)return!1;return!0},sce=(t,e)=>{for(const r in t)if(!e(t[r],r))return!1;return!0},oce=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),ace=(t,e)=>t===e||gx(t)===gx(e)&&sce(t,(r,n)=>(r!==void 0||oce(e,n))&&e[n]===r),Pk=(t,e,r=0)=>{try{for(;r<t.length;r++)t[r](...e)}finally{r<t.length&&Pk(t,e,r+1)}},lce=(t,e)=>e.includes(t);var nj={};const Tc=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",cce=typeof window<"u"&&typeof document<"u"&&!Tc;let yi;const uce=()=>{if(yi===void 0)if(Tc){yi=Cr();const t=process.argv;let e=null;for(let r=0;r<t.length;r++){const n=t[r];n[0]==="-"?(e!==null&&yi.set(e,""),e=n):e!==null&&(yi.set(e,n),e=null)}e!==null&&yi.set(e,"")}else typeof location=="object"?(yi=Cr(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,r]=t.split("=");yi.set(`--${ax(e,"-")}`,r),yi.set(`-${ax(e,"-")}`,r)}})):yi=Cr();return yi},KC=t=>uce().has(t),ZC=t=>px(Tc?nj[t.toUpperCase().replaceAll("-","_")]:tce.getItem(t)),rj=t=>KC("--"+t)||ZC(t)!==null;rj("production");const dce=Tc&&lce(nj.FORCE_COLOR,["true","1","2"]),hce=dce||!KC("--no-colors")&&!rj("no-color")&&(!Tc||process.stdout.isTTY)&&(!Tc||KC("--color")||ZC("COLORTERM")!==null||(ZC("TERM")||"").includes("color"));class fce{constructor(e,r){this.left=e,this.right=r}}const ts=(t,e)=>new fce(t,e),pce=typeof document<"u"?document:{};typeof DOMParser<"u"&&new DOMParser;const gce=t=>gle(t,(e,r)=>`${r}:${e};`).join(""),mce=t=>class{constructor(r){this._=r}destroy(){t(this._)}},yce=mce(clearTimeout),Lk=(t,e)=>new yce(setTimeout(e,t)),Ns=Symbol,ij=Ns(),sj=Ns(),vce=Ns(),bce=Ns(),wce=Ns(),oj=Ns(),_ce=Ns(),Fk=Ns(),Cce=Ns(),Ece=t=>{t.length===1&&t[0]?.constructor===Function&&(t=t[0]());const e=[],r=[];let n=0;for(;n<t.length;n++){const i=t[n];if(i===void 0)break;if(i.constructor===String||i.constructor===Number)e.push(i);else if(i.constructor===Object)break}for(n>0&&r.push(e.join(""));n<t.length;n++){const i=t[n];i instanceof Symbol||r.push(i)}return r},Dce={[ij]:ts("font-weight","bold"),[sj]:ts("font-weight","normal"),[vce]:ts("color","blue"),[wce]:ts("color","green"),[bce]:ts("color","grey"),[oj]:ts("color","red"),[_ce]:ts("color","purple"),[Fk]:ts("color","orange"),[Cce]:ts("color","black")},kce=t=>{t.length===1&&t[0]?.constructor===Function&&(t=t[0]());const e=[],r=[],n=Cr();let i=[],s=0;for(;s<t.length;s++){const o=t[s],a=Dce[o];if(a!==void 0)n.set(a.left,a.right);else{if(o===void 0)break;if(o.constructor===String||o.constructor===Number){const l=gce(n);s>0||l.length>0?(e.push("%c"+o),r.push(l)):e.push(o)}else break}}for(s>0&&(i=r,i.unshift(e.join("")));s<t.length;s++){const o=t[s];o instanceof Symbol||i.push(o)}return i},aj=hce?kce:Ece,Mce=(...t)=>{console.log(...aj(t)),lj.forEach(e=>e.print(t))},Sce=(...t)=>{console.warn(...aj(t)),t.unshift(Fk),lj.forEach(e=>e.print(t))},lj=Ua(),cj=t=>({[Symbol.iterator](){return this},next:t}),Tce=(t,e)=>cj(()=>{let r;do r=t.next();while(!r.done&&!e(r.value));return r}),gw=(t,e)=>cj(()=>{const{done:r,value:n}=t.next();return{done:r,value:r?void 0:e(n)}});class Bk{constructor(e,r){this.clock=e,this.len=r}}class cu{constructor(){this.clients=new Map}}const Mo=(t,e,r)=>e.clients.forEach((n,i)=>{const s=t.doc.store.clients.get(i);for(let o=0;o<n.length;o++){const a=n[o];yj(t,s,a.clock,a.len,r)}}),Ice=(t,e)=>{let r=0,n=t.length-1;for(;r<=n;){const i=Es((r+n)/2),s=t[i],o=s.clock;if(o<=e){if(e<o+s.len)return i;r=i+1}else n=i-1}return null},uu=(t,e)=>{const r=t.clients.get(e.client);return r!==void 0&&Ice(r,e.clock)!==null},Vk=t=>{t.clients.forEach(e=>{e.sort((i,s)=>i.clock-s.clock);let r,n;for(r=1,n=1;r<e.length;r++){const i=e[n-1],s=e[r];i.clock+i.len>=s.clock?i.len=Do(i.len,s.clock+s.len-i.clock):(n<r&&(e[n]=s),n++)}e.length=n})},YC=t=>{const e=new cu;for(let r=0;r<t.length;r++)t[r].clients.forEach((n,i)=>{if(!e.clients.has(i)){const s=n.slice();for(let o=r+1;o<t.length;o++)yle(s,t[o].clients.get(i)||[]);e.clients.set(i,s)}});return Vk(e),e},qd=(t,e,r,n)=>{Rs(t.clients,e,()=>[]).push(new Bk(r,n))},uj=()=>new cu,xce=t=>{const e=uj();return t.clients.forEach((r,n)=>{const i=[];for(let s=0;s<r.length;s++){const o=r[s];if(o.deleted){const a=o.id.clock;let l=o.length;if(s+1<r.length)for(let c=r[s+1];s+1<r.length&&c.deleted;c=r[++s+1])l+=c.length;i.push(new Bk(a,l))}}i.length>0&&e.clients.set(n,i)}),e},Hk=(t,e)=>{Re(t.restEncoder,e.clients.size),$a(e.clients.entries()).sort((r,n)=>n[0]-r[0]).forEach(([r,n])=>{t.resetDsCurVal(),Re(t.restEncoder,r);const i=n.length;Re(t.restEncoder,i);for(let s=0;s<i;s++){const o=n[s];t.writeDsClock(o.clock),t.writeDsLen(o.len)}})},Ace=t=>{const e=new cu,r=lt(t.restDecoder);for(let n=0;n<r;n++){t.resetDsCurVal();const i=lt(t.restDecoder),s=lt(t.restDecoder);if(s>0){const o=Rs(e.clients,i,()=>[]);for(let a=0;a<s;a++)o.push(new Bk(t.readDsClock(),t.readDsLen()))}}return e},mx=(t,e,r)=>{const n=new cu,i=lt(t.restDecoder);for(let s=0;s<i;s++){t.resetDsCurVal();const o=lt(t.restDecoder),a=lt(t.restDecoder),l=r.clients.get(o)||[],c=Et(r,o);for(let u=0;u<a;u++){const d=t.readDsClock(),h=d+t.readDsLen();if(d<c){c<h&&qd(n,o,c,h-c);let f=$i(l,d),p=l[f];for(!p.deleted&&p.id.clock<d&&(l.splice(f+1,0,lm(e,p,d-p.id.clock)),f++);f<l.length&&(p=l[f++],p.id.clock<h);)p.deleted||(h<p.id.clock+p.length&&l.splice(f,0,lm(e,p,h-p.id.clock)),p.delete(e))}else qd(n,o,d,h-d)}}if(n.clients.size>0){const s=new Mv;return Re(s.restEncoder,0),Hk(s,n),s.toUint8Array()}return null},dj=QH;class du extends KH{constructor({guid:e=Jle(),collectionid:r=null,gc:n=!0,gcFilter:i=()=>!0,meta:s=null,autoLoad:o=!1,shouldLoad:a=!0}={}){super(),this.gc=n,this.gcFilter=i,this.clientID=dj(),this.guid=e,this.collectionid=r,this.share=new Map,this.store=new gj,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=a,this.autoLoad=o,this.meta=s,this.isLoaded=!1,this.isSynced=!1,this.whenLoaded=fx(c=>{this.on("load",()=>{this.isLoaded=!0,c(this)})});const l=()=>fx(c=>{const u=d=>{(d===void 0||d===!0)&&(this.off("sync",u),c())};this.on("sync",u)});this.on("sync",c=>{c===!1&&this.isSynced&&(this.whenSynced=l()),this.isSynced=c===void 0||c===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=l()}load(){const e=this._item;e!==null&&!this.shouldLoad&&Qe(e.parent.doc,r=>{r.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set($a(this.subdocs).map(e=>e.guid))}transact(e,r=null){return Qe(this,e,r)}get(e,r=on){const n=Rs(this.share,e,()=>{const s=new r;return s._integrate(this,null),s}),i=n.constructor;if(r!==on&&i!==r)if(i===on){const s=new r;s._map=n._map,n._map.forEach(o=>{for(;o!==null;o=o.left)o.parent=s}),s._start=n._start;for(let o=s._start;o!==null;o=o.right)o.parent=s;return s._length=n._length,this.share.set(e,s),s._integrate(this,null),s}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return n}getArray(e=""){return this.get(e,ic)}getText(e=""){return this.get(e,So)}getMap(e=""){return this.get(e,Ic)}getXmlElement(e=""){return this.get(e,yn)}getXmlFragment(e=""){return this.get(e,za)}toJSON(){const e={};return this.share.forEach((r,n)=>{e[n]=r.toJSON()}),e}destroy(){$a(this.subdocs).forEach(r=>r.destroy());const e=this._item;if(e!==null){this._item=null;const r=e.content;r.doc=new du({guid:this.guid,...r.opts,shouldLoad:!1}),r.doc._item=e,Qe(e.parent.doc,n=>{const i=r.doc;e.deleted||n.subdocsAdded.add(i),n.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class Oce{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=lt(this.restDecoder),this.dsCurrVal}readDsLen(){const e=lt(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class rm extends Oce{constructor(e){super(e),this.keys=[],lt(e),this.keyClockDecoder=new pw(ar(e)),this.clientDecoder=new Mp(ar(e)),this.leftClockDecoder=new pw(ar(e)),this.rightClockDecoder=new pw(ar(e)),this.infoDecoder=new hx(ar(e),Gd),this.stringDecoder=new Gle(ar(e)),this.parentInfoDecoder=new hx(ar(e),Gd),this.typeRefDecoder=new Mp(ar(e)),this.lenDecoder=new Mp(ar(e))}readLeftID(){return new nc(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new nc(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return nm(this.restDecoder)}readBuf(){return ar(this.restDecoder)}readJSON(){return nm(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const r=this.stringDecoder.read();return this.keys.push(r),r}}}class Rce{constructor(){this.restEncoder=Ev()}toUint8Array(){return Ri(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){Re(this.restEncoder,e)}writeDsLen(e){Re(this.restEncoder,e)}}class Nce extends Rce{writeLeftID(e){Re(this.restEncoder,e.client),Re(this.restEncoder,e.clock)}writeRightID(e){Re(this.restEncoder,e.client),Re(this.restEncoder,e.clock)}writeClient(e){Re(this.restEncoder,e)}writeInfo(e){WC(this.restEncoder,e)}writeString(e){tc(this.restEncoder,e)}writeParentInfo(e){Re(this.restEncoder,e?1:0)}writeTypeRef(e){Re(this.restEncoder,e)}writeLen(e){Re(this.restEncoder,e)}writeAny(e){Wd(this.restEncoder,e)}writeBuf(e){zn(this.restEncoder,e)}writeJSON(e){tc(this.restEncoder,JSON.stringify(e))}writeKey(e){tc(this.restEncoder,e)}}class Pce{constructor(){this.restEncoder=Ev(),this.dsCurrVal=0}toUint8Array(){return Ri(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const r=e-this.dsCurrVal;this.dsCurrVal=e,Re(this.restEncoder,r)}writeDsLen(e){e===0&&tr(),Re(this.restEncoder,e-1),this.dsCurrVal+=e}}class Mv extends Pce{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new fw,this.clientEncoder=new kp,this.leftClockEncoder=new fw,this.rightClockEncoder=new fw,this.infoEncoder=new cx(WC),this.stringEncoder=new Fle,this.parentInfoEncoder=new cx(WC),this.typeRefEncoder=new kp,this.lenEncoder=new kp}toUint8Array(){const e=Ev();return Re(e,0),zn(e,this.keyClockEncoder.toUint8Array()),zn(e,this.clientEncoder.toUint8Array()),zn(e,this.leftClockEncoder.toUint8Array()),zn(e,this.rightClockEncoder.toUint8Array()),zn(e,Ri(this.infoEncoder)),zn(e,this.stringEncoder.toUint8Array()),zn(e,Ri(this.parentInfoEncoder)),zn(e,this.typeRefEncoder.toUint8Array()),zn(e,this.lenEncoder.toUint8Array()),Dv(e,Ri(this.restEncoder)),Ri(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){Wd(this.restEncoder,e)}writeBuf(e){zn(this.restEncoder,e)}writeJSON(e){Wd(this.restEncoder,e)}writeKey(e){const r=this.keyMap.get(e);r===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(r)}}const Lce=(t,e,r,n)=>{n=Do(n,e[0].id.clock);const i=$i(e,n);Re(t.restEncoder,e.length-i),t.writeClient(r),Re(t.restEncoder,n);const s=e[i];s.write(t,n-s.id.clock);for(let o=i+1;o<e.length;o++)e[o].write(t,0)},hj=(t,e,r)=>{const n=new Map;r.forEach((i,s)=>{Et(e,s)>i&&n.set(s,i)}),Sv(e).forEach((i,s)=>{r.has(s)||n.set(s,0)}),Re(t.restEncoder,n.size),$a(n.entries()).sort((i,s)=>s[0]-i[0]).forEach(([i,s])=>{Lce(t,e.clients.get(i),i,s)})},Fce=(t,e)=>{const r=Cr(),n=lt(t.restDecoder);for(let i=0;i<n;i++){const s=lt(t.restDecoder),o=new Array(s),a=t.readClient();let l=lt(t.restDecoder);r.set(a,{i:0,refs:o});for(let c=0;c<s;c++){const u=t.readInfo();switch(Cv&u){case 0:{const d=t.readLen();o[c]=new gr(ve(a,l),d),l+=d;break}case 10:{const d=lt(t.restDecoder);o[c]=new $r(ve(a,l),d),l+=d;break}default:{const d=(u&(ys|Jn))===0,h=new st(ve(a,l),null,(u&Jn)===Jn?t.readLeftID():null,null,(u&ys)===ys?t.readRightID():null,d?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,d&&(u&$d)===$d?t.readString():null,Vj(t,u));o[c]=h,l+=h.length}}}}return r},Bce=(t,e,r)=>{const n=[];let i=$a(r.keys()).sort((f,p)=>f-p);if(i.length===0)return null;const s=()=>{if(i.length===0)return null;let f=r.get(i[i.length-1]);for(;f.refs.length===f.i;)if(i.pop(),i.length>0)f=r.get(i[i.length-1]);else return null;return f};let o=s();if(o===null)return null;const a=new gj,l=new Map,c=(f,p)=>{const g=l.get(f);(g==null||g>p)&&l.set(f,p)};let u=o.refs[o.i++];const d=new Map,h=()=>{for(const f of n){const p=f.id.client,g=r.get(p);g?(g.i--,a.clients.set(p,g.refs.slice(g.i)),r.delete(p),g.i=0,g.refs=[]):a.clients.set(p,[f]),i=i.filter(m=>m!==p)}n.length=0};for(;;){if(u.constructor!==$r){const p=Rs(d,u.id.client,()=>Et(e,u.id.client))-u.id.clock;if(p<0)n.push(u),c(u.id.client,u.id.clock-1),h();else{const g=u.getMissing(t,e);if(g!==null){n.push(u);const m=r.get(g)||{refs:[],i:0};if(m.refs.length===m.i)c(g,Et(e,g)),h();else{u=m.refs[m.i++];continue}}else(p===0||p<u.length)&&(u.integrate(t,p),d.set(u.id.client,u.id.clock+u.length))}}if(n.length>0)u=n.pop();else if(o!==null&&o.i<o.refs.length)u=o.refs[o.i++];else{if(o=s(),o===null)break;u=o.refs[o.i++]}}if(a.clients.size>0){const f=new Mv;return hj(f,a,new Map),Re(f.restEncoder,0),{missing:l,update:f.toUint8Array()}}return null},Vce=(t,e)=>hj(t,e.doc.store,e.beforeState),Hce=(t,e,r,n=new rm(t))=>Qe(e,i=>{i.local=!1;let s=!1;const o=i.doc,a=o.store,l=Fce(n,o),c=Bce(i,a,l),u=a.pendingStructs;if(u){for(const[h,f]of u.missing)if(f<Et(a,h)){s=!0;break}if(c){for(const[h,f]of c.missing){const p=u.missing.get(h);(p==null||p>f)&&u.missing.set(h,f)}u.update=Mx([u.update,c.update])}}else a.pendingStructs=c;const d=mx(n,i,a);if(a.pendingDs){const h=new rm(Ok(a.pendingDs));lt(h.restDecoder);const f=mx(h,i,a);d&&f?a.pendingDs=Mx([d,f]):a.pendingDs=d||f}else a.pendingDs=d;if(s){const h=a.pendingStructs.update;a.pendingStructs=null,JC(i.doc,h)}},r,!1),JC=(t,e,r,n=rm)=>{const i=Ok(e);Hce(i,t,r,new n(i))};class jce{constructor(){this.l=[]}}const yx=()=>new jce,vx=(t,e)=>t.l.push(e),bx=(t,e)=>{const r=t.l,n=r.length;t.l=r.filter(i=>e!==i),n===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},fj=(t,e,r)=>Pk(t.l,[e,r]);class nc{constructor(e,r){this.client=e,this.clock=r}}const jl=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,ve=(t,e)=>new nc(t,e),Kd=t=>{for(const[e,r]of t.doc.share.entries())if(r===t)return e;throw tr()},Zd=(t,e)=>{for(;e!==null;){if(e.parent===t)return!0;e=e.parent._item}return!1};class Yd{constructor(e,r,n,i=0){this.type=e,this.tname=r,this.item=n,this.assoc=i}}const id=t=>new Yd(t.type==null?null:ve(t.type.client,t.type.clock),t.tname??null,t.item==null?null:ve(t.item.client,t.item.clock),t.assoc==null?0:t.assoc);class Uce{constructor(e,r,n=0){this.type=e,this.index=r,this.assoc=n}}const $ce=(t,e,r=0)=>new Uce(t,e,r),Vf=(t,e,r)=>{let n=null,i=null;return t._item===null?i=Kd(t):n=ve(t._item.id.client,t._item.id.clock),new Yd(n,i,e,r)},mw=(t,e,r=0)=>{let n=t._start;if(r<0){if(e===0)return Vf(t,null,r);e--}for(;n!==null;){if(!n.deleted&&n.countable){if(n.length>e)return Vf(t,ve(n.id.client,n.id.clock+e),r);e-=n.length}if(n.right===null&&r<0)return Vf(t,n.lastId,r);n=n.right}return Vf(t,null,r)},zce=(t,e,r=!0)=>{const n=e.store,i=t.item,s=t.type,o=t.tname,a=t.assoc;let l=null,c=0;if(i!==null){if(Et(n,i.client)<=i.clock)return null;const u=r?t0(n,i):{item:rc(n,i),diff:0},d=u.item;if(!(d instanceof st))return null;if(l=d.parent,l._item===null||!l._item.deleted){c=d.deleted||!d.countable?0:u.diff+(a>=0?0:1);let h=d.left;for(;h!==null;)!h.deleted&&h.countable&&(c+=h.length),h=h.left}}else{if(o!==null)l=e.get(o);else if(s!==null){if(Et(n,s.client)<=s.clock)return null;const{item:u}=r?t0(n,s):{item:rc(n,s)};if(u instanceof st&&u.content instanceof fi)l=u.content.type;else return null}else throw tr();a>=0?c=l._length:c=0}return $ce(l,c,t.assoc)},wx=(t,e)=>t===e||t!==null&&e!==null&&t.tname===e.tname&&jl(t.item,e.item)&&jl(t.type,e.type)&&t.assoc===e.assoc;class jk{constructor(e,r){this.ds=e,this.sv=r}}const pj=(t,e)=>new jk(t,e),yw=t=>pj(xce(t.store),Sv(t.store)),ea=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!uu(e.ds,t.id),XC=(t,e)=>{const r=Rs(t.meta,XC,Ua),n=t.doc.store;r.has(e)||(e.sv.forEach((i,s)=>{i<Et(n,s)&&On(t,ve(s,i))}),Mo(t,e.ds,i=>{}),r.add(e))};class gj{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const Sv=t=>{const e=new Map;return t.clients.forEach((r,n)=>{const i=r[r.length-1];e.set(n,i.id.clock+i.length)}),e},Et=(t,e)=>{const r=t.clients.get(e);if(r===void 0)return 0;const n=r[r.length-1];return n.id.clock+n.length},mj=(t,e)=>{let r=t.clients.get(e.id.client);if(r===void 0)r=[],t.clients.set(e.id.client,r);else{const n=r[r.length-1];if(n.id.clock+n.length!==e.id.clock)throw tr()}r.push(e)},$i=(t,e)=>{let r=0,n=t.length-1,i=t[n],s=i.id.clock;if(s===e)return n;let o=Es(e/(s+i.length-1)*n);for(;r<=n;){if(i=t[o],s=i.id.clock,s<=e){if(e<s+i.length)return o;r=o+1}else n=o-1;o=Es((r+n)/2)}throw tr()},Wce=(t,e)=>{const r=t.clients.get(e.client);return r[$i(r,e.clock)]},rc=Wce,QC=(t,e,r)=>{const n=$i(e,r),i=e[n];return i.id.clock<r&&i instanceof st?(e.splice(n+1,0,lm(t,i,r-i.id.clock)),n+1):n},On=(t,e)=>{const r=t.doc.store.clients.get(e.client);return r[QC(t,r,e.clock)]},_x=(t,e,r)=>{const n=e.clients.get(r.client),i=$i(n,r.clock),s=n[i];return r.clock!==s.id.clock+s.length-1&&s.constructor!==gr&&n.splice(i+1,0,lm(t,s,r.clock-s.id.clock+1)),s},Gce=(t,e,r)=>{const n=t.clients.get(e.id.client);n[$i(n,e.id.clock)]=r},yj=(t,e,r,n,i)=>{if(n===0)return;const s=r+n;let o=QC(t,e,r),a;do a=e[o++],s<a.id.clock+a.length&&QC(t,e,s),i(a);while(o<e.length&&e[o].id.clock<s)};class qce{constructor(e,r,n){this.doc=e,this.deleteSet=new cu,this.beforeState=Sv(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=r,this.meta=new Map,this.local=n,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const Cx=(t,e)=>e.deleteSet.clients.size===0&&!mle(e.afterState,(r,n)=>e.beforeState.get(n)!==r)?!1:(Vk(e.deleteSet),Vce(t,e),Hk(t,e.deleteSet),!0),Ex=(t,e,r)=>{const n=e._item;(n===null||n.id.clock<(t.beforeState.get(n.id.client)||0)&&!n.deleted)&&Rs(t.changed,e,Ua).add(r)},Sp=(t,e)=>{let r=t[e],n=t[e-1],i=e;for(;i>0;r=n,n=t[--i-1]){if(n.deleted===r.deleted&&n.constructor===r.constructor&&n.mergeWith(r)){r instanceof st&&r.parentSub!==null&&r.parent._map.get(r.parentSub)===r&&r.parent._map.set(r.parentSub,n);continue}break}const s=e-i;return s&&t.splice(e+1-s,s),s},Kce=(t,e,r)=>{for(const[n,i]of t.clients.entries()){const s=e.clients.get(n);for(let o=i.length-1;o>=0;o--){const a=i[o],l=a.clock+a.len;for(let c=$i(s,a.clock),u=s[c];c<s.length&&u.id.clock<l;u=s[++c]){const d=s[c];if(a.clock+a.len<=d.id.clock)break;d instanceof st&&d.deleted&&!d.keep&&r(d)&&d.gc(e,!1)}}}},Zce=(t,e)=>{t.clients.forEach((r,n)=>{const i=e.clients.get(n);for(let s=r.length-1;s>=0;s--){const o=r[s],a=ya(i.length-1,1+$i(i,o.clock+o.len-1));for(let l=a,c=i[l];l>0&&c.id.clock>=o.clock;c=i[l])l-=1+Sp(i,l)}})},vj=(t,e)=>{if(e<t.length){const r=t[e],n=r.doc,i=n.store,s=r.deleteSet,o=r._mergeStructs;try{Vk(s),r.afterState=Sv(r.doc.store),n.emit("beforeObserverCalls",[r,n]);const a=[];r.changed.forEach((l,c)=>a.push(()=>{(c._item===null||!c._item.deleted)&&c._callObserver(r,l)})),a.push(()=>{r.changedParentTypes.forEach((l,c)=>{c._dEH.l.length>0&&(c._item===null||!c._item.deleted)&&(l=l.filter(u=>u.target._item===null||!u.target._item.deleted),l.forEach(u=>{u.currentTarget=c,u._path=null}),l.sort((u,d)=>u.path.length-d.path.length),fj(c._dEH,l,r))})}),a.push(()=>n.emit("afterTransaction",[r,n])),Pk(a,[]),r._needFormattingCleanup&&gue(r)}finally{n.gc&&Kce(s,i,n.gcFilter),Zce(s,i),r.afterState.forEach((u,d)=>{const h=r.beforeState.get(d)||0;if(h!==u){const f=i.clients.get(d),p=Do($i(f,h),1);for(let g=f.length-1;g>=p;)g-=1+Sp(f,g)}});for(let u=o.length-1;u>=0;u--){const{client:d,clock:h}=o[u].id,f=i.clients.get(d),p=$i(f,h);p+1<f.length&&Sp(f,p+1)>1||p>0&&Sp(f,p)}if(!r.local&&r.afterState.get(n.clientID)!==r.beforeState.get(n.clientID)&&(Mce(Fk,ij,"[yjs] ",sj,oj,"Changed the client-id because another client seems to be using it."),n.clientID=dj()),n.emit("afterTransactionCleanup",[r,n]),n._observers.has("update")){const u=new Nce;Cx(u,r)&&n.emit("update",[u.toUint8Array(),r.origin,n,r])}if(n._observers.has("updateV2")){const u=new Mv;Cx(u,r)&&n.emit("updateV2",[u.toUint8Array(),r.origin,n,r])}const{subdocsAdded:a,subdocsLoaded:l,subdocsRemoved:c}=r;(a.size>0||c.size>0||l.size>0)&&(a.forEach(u=>{u.clientID=n.clientID,u.collectionid==null&&(u.collectionid=n.collectionid),n.subdocs.add(u)}),c.forEach(u=>n.subdocs.delete(u)),n.emit("subdocs",[{loaded:l,added:a,removed:c},n,r]),c.forEach(u=>u.destroy())),t.length<=e+1?(n._transactionCleanups=[],n.emit("afterAllTransactions",[n,t])):vj(t,e+1)}}},Qe=(t,e,r=null,n=!0)=>{const i=t._transactionCleanups;let s=!1,o=null;t._transaction===null&&(s=!0,t._transaction=new qce(t,r,n),i.push(t._transaction),i.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{o=e(t._transaction)}finally{if(s){const a=t._transaction===i[0];t._transaction=null,a&&vj(i,0)}}return o};class Yce{constructor(e,r){this.insertions=r,this.deletions=e,this.meta=new Map}}const Dx=(t,e,r)=>{Mo(t,r.deletions,n=>{n instanceof st&&e.scope.some(i=>Zd(i,n))&&Gk(n,!1)})},kx=(t,e,r)=>{let n=null;const i=t.doc,s=t.scope;Qe(i,a=>{for(;e.length>0&&t.currStackItem===null;){const l=i.store,c=e.pop(),u=new Set,d=[];let h=!1;Mo(a,c.insertions,f=>{if(f instanceof st){if(f.redone!==null){let{item:p,diff:g}=t0(l,f.id);g>0&&(p=On(a,ve(p.id.client,p.id.clock+g))),f=p}!f.deleted&&s.some(p=>Zd(p,f))&&d.push(f)}}),Mo(a,c.deletions,f=>{f instanceof st&&s.some(p=>Zd(p,f))&&!uu(c.insertions,f.id)&&u.add(f)}),u.forEach(f=>{h=Bj(a,f,u,c.insertions,t.ignoreRemoteMapChanges,t)!==null||h});for(let f=d.length-1;f>=0;f--){const p=d[f];t.deleteFilter(p)&&(p.delete(a),h=!0)}t.currStackItem=h?c:null}a.changed.forEach((l,c)=>{l.has(null)&&c._searchMarker&&(c._searchMarker.length=0)}),n=a},t);const o=t.currStackItem;if(o!=null){const a=n.changedParentTypes;t.emit("stack-item-popped",[{stackItem:o,type:r,changedParentTypes:a,origin:t},t]),t.currStackItem=null}return o};class bj extends KH{constructor(e,{captureTimeout:r=500,captureTransaction:n=l=>!0,deleteFilter:i=()=>!0,trackedOrigins:s=new Set([null]),ignoreRemoteMapChanges:o=!1,doc:a=$C(e)?e[0].doc:e.doc}={}){super(),this.scope=[],this.doc=a,this.addToScope(e),this.deleteFilter=i,s.add(this),this.trackedOrigins=s,this.captureTransaction=n,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=o,this.captureTimeout=r,this.afterTransactionHandler=l=>{if(!this.captureTransaction(l)||!this.scope.some(m=>l.changedParentTypes.has(m))||!this.trackedOrigins.has(l.origin)&&(!l.origin||!this.trackedOrigins.has(l.origin.constructor)))return;const c=this.undoing,u=this.redoing,d=c?this.redoStack:this.undoStack;c?this.stopCapturing():u||this.clear(!1,!0);const h=new cu;l.afterState.forEach((m,y)=>{const v=l.beforeState.get(y)||0,b=m-v;b>0&&qd(h,y,v,b)});const f=Xle();let p=!1;if(this.lastChange>0&&f-this.lastChange<this.captureTimeout&&d.length>0&&!c&&!u){const m=d[d.length-1];m.deletions=YC([m.deletions,l.deleteSet]),m.insertions=YC([m.insertions,h])}else d.push(new Yce(l.deleteSet,h)),p=!0;!c&&!u&&(this.lastChange=f),Mo(l,l.deleteSet,m=>{m instanceof st&&this.scope.some(y=>Zd(y,m))&&Gk(m,!0)});const g=[{stackItem:d[d.length-1],origin:l.origin,type:c?"redo":"undo",changedParentTypes:l.changedParentTypes},this];p?this.emit("stack-item-added",g):this.emit("stack-item-updated",g)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){e=$C(e)?e:[e],e.forEach(r=>{this.scope.every(n=>n!==r)&&(r.doc!==this.doc&&Sce("[yjs#509] Not same Y.Doc"),this.scope.push(r))})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,r=!0){(e&&this.canUndo()||r&&this.canRedo())&&this.doc.transact(n=>{e&&(this.undoStack.forEach(i=>Dx(n,this,i)),this.undoStack=[]),r&&(this.redoStack.forEach(i=>Dx(n,this,i)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:r}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let e;try{e=kx(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){this.redoing=!0;let e;try{e=kx(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}function*Jce(t){const e=lt(t.restDecoder);for(let r=0;r<e;r++){const n=lt(t.restDecoder),i=t.readClient();let s=lt(t.restDecoder);for(let o=0;o<n;o++){const a=t.readInfo();if(a===10){const l=lt(t.restDecoder);yield new $r(ve(i,s),l),s+=l}else if(Cv&a){const l=(a&(ys|Jn))===0,c=new st(ve(i,s),null,(a&Jn)===Jn?t.readLeftID():null,null,(a&ys)===ys?t.readRightID():null,l?t.readParentInfo()?t.readString():t.readLeftID():null,l&&(a&$d)===$d?t.readString():null,Vj(t,a));yield c,s+=c.length}else{const l=t.readLen();yield new gr(ve(i,s),l),s+=l}}}}class Xce{constructor(e,r){this.gen=Jce(e),this.curr=null,this.done=!1,this.filterSkips=r,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===$r);return this.curr}}class Qce{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const eue=(t,e)=>{if(t.constructor===gr){const{client:r,clock:n}=t.id;return new gr(ve(r,n+e),t.length-e)}else if(t.constructor===$r){const{client:r,clock:n}=t.id;return new $r(ve(r,n+e),t.length-e)}else{const r=t,{client:n,clock:i}=r.id;return new st(ve(n,i+e),null,ve(n,i+e-1),null,r.rightOrigin,r.parent,r.parentSub,r.content.splice(e))}},Mx=(t,e=rm,r=Mv)=>{if(t.length===1)return t[0];const n=t.map(u=>new e(Ok(u)));let i=n.map(u=>new Xce(u,!0)),s=null;const o=new r,a=new Qce(o);for(;i=i.filter(h=>h.curr!==null),i.sort((h,f)=>{if(h.curr.id.client===f.curr.id.client){const p=h.curr.id.clock-f.curr.id.clock;return p===0?h.curr.constructor===f.curr.constructor?0:h.curr.constructor===$r?1:-1:p}else return f.curr.id.client-h.curr.id.client}),i.length!==0;){const u=i[0],d=u.curr.id.client;if(s!==null){let h=u.curr,f=!1;for(;h!==null&&h.id.clock+h.length<=s.struct.id.clock+s.struct.length&&h.id.client>=s.struct.id.client;)h=u.next(),f=!0;if(h===null||h.id.client!==d||f&&h.id.clock>s.struct.id.clock+s.struct.length)continue;if(d!==s.struct.id.client)Du(a,s.struct,s.offset),s={struct:h,offset:0},u.next();else if(s.struct.id.clock+s.struct.length<h.id.clock)if(s.struct.constructor===$r)s.struct.length=h.id.clock+h.length-s.struct.id.clock;else{Du(a,s.struct,s.offset);const p=h.id.clock-s.struct.id.clock-s.struct.length;s={struct:new $r(ve(d,s.struct.id.clock+s.struct.length),p),offset:0}}else{const p=s.struct.id.clock+s.struct.length-h.id.clock;p>0&&(s.struct.constructor===$r?s.struct.length-=p:h=eue(h,p)),s.struct.mergeWith(h)||(Du(a,s.struct,s.offset),s={struct:h,offset:0},u.next())}}else s={struct:u.curr,offset:0},u.next();for(let h=u.curr;h!==null&&h.id.client===d&&h.id.clock===s.struct.id.clock+s.struct.length&&h.constructor!==$r;h=u.next())Du(a,s.struct,s.offset),s={struct:h,offset:0}}s!==null&&(Du(a,s.struct,s.offset),s=null),tue(a);const l=n.map(u=>Ace(u)),c=YC(l);return Hk(o,c),o.toUint8Array()},wj=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:Ri(t.encoder.restEncoder)}),t.encoder.restEncoder=Ev(),t.written=0)},Du=(t,e,r)=>{t.written>0&&t.currClient!==e.id.client&&wj(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),Re(t.encoder.restEncoder,e.id.clock+r)),e.write(t.encoder,r),t.written++},tue=t=>{wj(t);const e=t.encoder.restEncoder;Re(e,t.clientStructs.length);for(let r=0;r<t.clientStructs.length;r++){const n=t.clientStructs[r];Re(e,n.written),Dv(e,n.restEncoder)}},Sx="You must not compute changes after the event-handler fired.";class Tv{constructor(e,r){this.target=e,this.currentTarget=e,this.transaction=r,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=nue(this.currentTarget,this.target))}deletes(e){return uu(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw ko(Sx);const e=new Map,r=this.target;this.transaction.changed.get(r).forEach(i=>{if(i!==null){const s=r._map.get(i);let o,a;if(this.adds(s)){let l=s.left;for(;l!==null&&this.adds(l);)l=l.left;if(this.deletes(s))if(l!==null&&this.deletes(l))o="delete",a=uw(l.content.getContent());else return;else l!==null&&this.deletes(l)?(o="update",a=uw(l.content.getContent())):(o="add",a=void 0)}else if(this.deletes(s))o="delete",a=uw(s.content.getContent());else return;e.set(i,{action:o,oldValue:a})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw ko(Sx);const r=this.target,n=Ua(),i=Ua(),s=[];if(e={added:n,deleted:i,delta:s,keys:this.keys},this.transaction.changed.get(r).has(null)){let a=null;const l=()=>{a&&s.push(a)};for(let c=r._start;c!==null;c=c.right)c.deleted?this.deletes(c)&&!this.adds(c)&&((a===null||a.delete===void 0)&&(l(),a={delete:0}),a.delete+=c.length,i.add(c)):this.adds(c)?((a===null||a.insert===void 0)&&(l(),a={insert:[]}),a.insert=a.insert.concat(c.content.getContent()),n.add(c)):((a===null||a.retain===void 0)&&(l(),a={retain:0}),a.retain+=c.length);a!==null&&a.retain===void 0&&l()}this._changes=e}return e}}const nue=(t,e)=>{const r=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)r.unshift(e._item.parentSub);else{let n=0,i=e._item.parent._start;for(;i!==e._item&&i!==null;)!i.deleted&&i.countable&&(n+=i.length),i=i.right;r.unshift(n)}e=e._item.parent}return r},_j=80;let Uk=0;class rue{constructor(e,r){e.marker=!0,this.p=e,this.index=r,this.timestamp=Uk++}}const iue=t=>{t.timestamp=Uk++},Cj=(t,e,r)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=r,t.timestamp=Uk++},sue=(t,e,r)=>{if(t.length>=_j){const n=t.reduce((i,s)=>i.timestamp<s.timestamp?i:s);return Cj(n,e,r),n}else{const n=new rue(e,r);return t.push(n),n}},Iv=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const r=t._searchMarker.length===0?null:t._searchMarker.reduce((s,o)=>Dp(e-s.index)<Dp(e-o.index)?s:o);let n=t._start,i=0;for(r!==null&&(n=r.p,i=r.index,iue(r));n.right!==null&&i<e;){if(!n.deleted&&n.countable){if(e<i+n.length)break;i+=n.length}n=n.right}for(;n.left!==null&&i>e;)n=n.left,!n.deleted&&n.countable&&(i-=n.length);for(;n.left!==null&&n.left.id.client===n.id.client&&n.left.id.clock+n.left.length===n.id.clock;)n=n.left,!n.deleted&&n.countable&&(i-=n.length);return r!==null&&Dp(r.index-i)<n.parent.length/_j?(Cj(r,n,i),r):sue(t._searchMarker,n,i)},Jd=(t,e,r)=>{for(let n=t.length-1;n>=0;n--){const i=t[n];if(r>0){let s=i.p;for(s.marker=!1;s&&(s.deleted||!s.countable);)s=s.left,s&&!s.deleted&&s.countable&&(i.index-=s.length);if(s===null||s.marker===!0){t.splice(n,1);continue}i.p=s,s.marker=!0}(e<i.index||r>0&&e===i.index)&&(i.index=Do(e,i.index+r))}},xv=(t,e,r)=>{const n=t,i=e.changedParentTypes;for(;Rs(i,t,()=>[]).push(r),t._item!==null;)t=t._item.parent;fj(n._eH,r,e)};class on{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=yx(),this._dEH=yx(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,r){this.doc=e,this._item=r}_copy(){throw Jr()}clone(){throw Jr()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,r){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){vx(this._eH,e)}observeDeep(e){vx(this._dEH,e)}unobserve(e){bx(this._eH,e)}unobserveDeep(e){bx(this._dEH,e)}toJSON(){}}const Ej=(t,e,r)=>{e<0&&(e=t._length+e),r<0&&(r=t._length+r);let n=r-e;const i=[];let s=t._start;for(;s!==null&&n>0;){if(s.countable&&!s.deleted){const o=s.content.getContent();if(o.length<=e)e-=o.length;else{for(let a=e;a<o.length&&n>0;a++)i.push(o[a]),n--;e=0}}s=s.right}return i},Dj=t=>{const e=[];let r=t._start;for(;r!==null;){if(r.countable&&!r.deleted){const n=r.content.getContent();for(let i=0;i<n.length;i++)e.push(n[i])}r=r.right}return e},kj=(t,e)=>{const r=[];let n=t._start;for(;n!==null;){if(n.countable&&ea(n,e)){const i=n.content.getContent();for(let s=0;s<i.length;s++)r.push(i[s])}n=n.right}return r},Xd=(t,e)=>{let r=0,n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const i=n.content.getContent();for(let s=0;s<i.length;s++)e(i[s],r++,t)}n=n.right}},Mj=(t,e)=>{const r=[];return Xd(t,(n,i)=>{r.push(e(n,i,t))}),r},oue=t=>{let e=t._start,r=null,n=0;return{[Symbol.iterator](){return this},next:()=>{if(r===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};r=e.content.getContent(),n=0,e=e.right}const i=r[n++];return r.length<=n&&(r=null),{done:!1,value:i}}}},Sj=(t,e)=>{const r=Iv(t,e);let n=t._start;for(r!==null&&(n=r.p,e-=r.index);n!==null;n=n.right)if(!n.deleted&&n.countable){if(e<n.length)return n.content.getContent()[e];e-=n.length}},im=(t,e,r,n)=>{let i=r;const s=t.doc,o=s.clientID,a=s.store,l=r===null?e._start:r.right;let c=[];const u=()=>{c.length>0&&(i=new st(ve(o,Et(a,o)),i,i&&i.lastId,l,l&&l.id,e,null,new Wa(c)),i.integrate(t,0),c=[])};n.forEach(d=>{if(d===null)c.push(d);else switch(d.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(d);break;default:switch(u(),d.constructor){case Uint8Array:case ArrayBuffer:i=new st(ve(o,Et(a,o)),i,i&&i.lastId,l,l&&l.id,e,null,new Zh(new Uint8Array(d))),i.integrate(t,0);break;case du:i=new st(ve(o,Et(a,o)),i,i&&i.lastId,l,l&&l.id,e,null,new Yh(d)),i.integrate(t,0);break;default:if(d instanceof on)i=new st(ve(o,Et(a,o)),i,i&&i.lastId,l,l&&l.id,e,null,new fi(d)),i.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),u()},Tj=()=>ko("Length exceeded!"),Ij=(t,e,r,n)=>{if(r>e._length)throw Tj();if(r===0)return e._searchMarker&&Jd(e._searchMarker,r,n.length),im(t,e,null,n);const i=r,s=Iv(e,r);let o=e._start;for(s!==null&&(o=s.p,r-=s.index,r===0&&(o=o.prev,r+=o&&o.countable&&!o.deleted?o.length:0));o!==null;o=o.right)if(!o.deleted&&o.countable){if(r<=o.length){r<o.length&&On(t,ve(o.id.client,o.id.clock+r));break}r-=o.length}return e._searchMarker&&Jd(e._searchMarker,i,n.length),im(t,e,o,n)},aue=(t,e,r)=>{let i=(e._searchMarker||[]).reduce((s,o)=>o.index>s.index?o:s,{index:0,p:e._start}).p;if(i)for(;i.right;)i=i.right;return im(t,e,i,r)},xj=(t,e,r,n)=>{if(n===0)return;const i=r,s=n,o=Iv(e,r);let a=e._start;for(o!==null&&(a=o.p,r-=o.index);a!==null&&r>0;a=a.right)!a.deleted&&a.countable&&(r<a.length&&On(t,ve(a.id.client,a.id.clock+r)),r-=a.length);for(;n>0&&a!==null;)a.deleted||(n<a.length&&On(t,ve(a.id.client,a.id.clock+n)),a.delete(t),n-=a.length),a=a.right;if(n>0)throw Tj();e._searchMarker&&Jd(e._searchMarker,i,-s+n)},sm=(t,e,r)=>{const n=e._map.get(r);n!==void 0&&n.delete(t)},$k=(t,e,r,n)=>{const i=e._map.get(r)||null,s=t.doc,o=s.clientID;let a;if(n==null)a=new Wa([n]);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:a=new Wa([n]);break;case Uint8Array:a=new Zh(n);break;case du:a=new Yh(n);break;default:if(n instanceof on)a=new fi(n);else throw new Error("Unexpected content type")}new st(ve(o,Et(s.store,o)),i,i&&i.lastId,null,null,e,r,a).integrate(t,0)},zk=(t,e)=>{const r=t._map.get(e);return r!==void 0&&!r.deleted?r.content.getContent()[r.length-1]:void 0},Aj=t=>{const e={};return t._map.forEach((r,n)=>{r.deleted||(e[n]=r.content.getContent()[r.length-1])}),e},Oj=(t,e)=>{const r=t._map.get(e);return r!==void 0&&!r.deleted},lue=(t,e)=>{const r={};return t._map.forEach((n,i)=>{let s=n;for(;s!==null&&(!e.sv.has(s.id.client)||s.id.clock>=(e.sv.get(s.id.client)||0));)s=s.left;s!==null&&ea(s,e)&&(r[i]=s.content.getContent()[s.length-1])}),r},Hf=t=>Tce(t.entries(),e=>!e[1].deleted);class cue extends Tv{}class ic extends on{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const r=new ic;return r.push(e),r}_integrate(e,r){super._integrate(e,r),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new ic}clone(){const e=new ic;return e.insert(0,this.toArray().map(r=>r instanceof on?r.clone():r)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}_callObserver(e,r){super._callObserver(e,r),xv(this,e,new cue(this,e))}insert(e,r){this.doc!==null?Qe(this.doc,n=>{Ij(n,this,e,r)}):this._prelimContent.splice(e,0,...r)}push(e){this.doc!==null?Qe(this.doc,r=>{aue(r,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,r=1){this.doc!==null?Qe(this.doc,n=>{xj(n,this,e,r)}):this._prelimContent.splice(e,r)}get(e){return Sj(this,e)}toArray(){return Dj(this)}slice(e=0,r=this.length){return Ej(this,e,r)}toJSON(){return this.map(e=>e instanceof on?e.toJSON():e)}map(e){return Mj(this,e)}forEach(e){Xd(this,e)}[Symbol.iterator](){return oue(this)}_write(e){e.writeTypeRef(Rue)}}const uue=t=>new ic;class due extends Tv{constructor(e,r,n){super(e,r),this.keysChanged=n}}class Ic extends on{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,r){super._integrate(e,r),this._prelimContent.forEach((n,i)=>{this.set(i,n)}),this._prelimContent=null}_copy(){return new Ic}clone(){const e=new Ic;return this.forEach((r,n)=>{e.set(n,r instanceof on?r.clone():r)}),e}_callObserver(e,r){xv(this,e,new due(this,e,r))}toJSON(){const e={};return this._map.forEach((r,n)=>{if(!r.deleted){const i=r.content.getContent()[r.length-1];e[n]=i instanceof on?i.toJSON():i}}),e}get size(){return[...Hf(this._map)].length}keys(){return gw(Hf(this._map),e=>e[0])}values(){return gw(Hf(this._map),e=>e[1].content.getContent()[e[1].length-1])}entries(){return gw(Hf(this._map),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this._map.forEach((r,n)=>{r.deleted||e(r.content.getContent()[r.length-1],n,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?Qe(this.doc,r=>{sm(r,this,e)}):this._prelimContent.delete(e)}set(e,r){return this.doc!==null?Qe(this.doc,n=>{$k(n,this,e,r)}):this._prelimContent.set(e,r),r}get(e){return zk(this,e)}has(e){return Oj(this,e)}clear(){this.doc!==null?Qe(this.doc,e=>{this.forEach(function(r,n,i){sm(e,i,n)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(Nue)}}const hue=t=>new Ic,eo=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&ace(t,e);class e0{constructor(e,r,n,i){this.left=e,this.right=r,this.index=n,this.currentAttributes=i}forward(){switch(this.right===null&&tr(),this.right.content.constructor){case Lt:this.right.deleted||hu(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const Tx=(t,e,r)=>{for(;e.right!==null&&r>0;){switch(e.right.content.constructor){case Lt:e.right.deleted||hu(e.currentAttributes,e.right.content);break;default:e.right.deleted||(r<e.right.length&&On(t,ve(e.right.id.client,e.right.id.clock+r)),e.index+=e.right.length,r-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},jf=(t,e,r,n)=>{const i=new Map,s=n?Iv(e,r):null;if(s){const o=new e0(s.p.left,s.p,s.index,i);return Tx(t,o,r-s.index)}else{const o=new e0(null,e._start,0,i);return Tx(t,o,r)}},Rj=(t,e,r,n)=>{for(;r.right!==null&&(r.right.deleted===!0||r.right.content.constructor===Lt&&eo(n.get(r.right.content.key),r.right.content.value));)r.right.deleted||n.delete(r.right.content.key),r.forward();const i=t.doc,s=i.clientID;n.forEach((o,a)=>{const l=r.left,c=r.right,u=new st(ve(s,Et(i.store,s)),l,l&&l.lastId,c,c&&c.id,e,null,new Lt(a,o));u.integrate(t,0),r.right=u,r.forward()})},hu=(t,e)=>{const{key:r,value:n}=e;n===null?t.delete(r):t.set(r,n)},Nj=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===Lt&&eo(e[t.right.content.key]??null,t.right.content.value)))break;t.forward()}},Pj=(t,e,r,n)=>{const i=t.doc,s=i.clientID,o=new Map;for(const a in n){const l=n[a],c=r.currentAttributes.get(a)??null;if(!eo(c,l)){o.set(a,c);const{left:u,right:d}=r;r.right=new st(ve(s,Et(i.store,s)),u,u&&u.lastId,d,d&&d.id,e,null,new Lt(a,l)),r.right.integrate(t,0),r.forward()}}return o},vw=(t,e,r,n,i)=>{r.currentAttributes.forEach((h,f)=>{i[f]===void 0&&(i[f]=null)});const s=t.doc,o=s.clientID;Nj(r,i);const a=Pj(t,e,r,i),l=n.constructor===String?new ri(n):n instanceof on?new fi(n):new ul(n);let{left:c,right:u,index:d}=r;e._searchMarker&&Jd(e._searchMarker,r.index,l.getLength()),u=new st(ve(o,Et(s.store,o)),c,c&&c.lastId,u,u&&u.id,e,null,l),u.integrate(t,0),r.right=u,r.index=d,r.forward(),Rj(t,e,r,a)},Ix=(t,e,r,n,i)=>{const s=t.doc,o=s.clientID;Nj(r,i);const a=Pj(t,e,r,i);e:for(;r.right!==null&&(n>0||a.size>0&&(r.right.deleted||r.right.content.constructor===Lt));){if(!r.right.deleted)switch(r.right.content.constructor){case Lt:{const{key:l,value:c}=r.right.content,u=i[l];if(u!==void 0){if(eo(u,c))a.delete(l);else{if(n===0)break e;a.set(l,c)}r.right.delete(t)}else r.currentAttributes.set(l,c);break}default:n<r.right.length&&On(t,ve(r.right.id.client,r.right.id.clock+n)),n-=r.right.length;break}r.forward()}if(n>0){let l="";for(;n>0;n--)l+=`
`;r.right=new st(ve(o,Et(s.store,o)),r.left,r.left&&r.left.lastId,r.right,r.right&&r.right.id,e,null,new ri(l)),r.right.integrate(t,0),r.forward()}Rj(t,e,r,a)},Lj=(t,e,r,n,i)=>{let s=e;const o=Cr();for(;s&&(!s.countable||s.deleted);){if(!s.deleted&&s.content.constructor===Lt){const c=s.content;o.set(c.key,c)}s=s.right}let a=0,l=!1;for(;e!==s;){if(r===e&&(l=!0),!e.deleted){const c=e.content;switch(c.constructor){case Lt:{const{key:u,value:d}=c,h=n.get(u)??null;(o.get(u)!==c||h===d)&&(e.delete(t),a++,!l&&(i.get(u)??null)===d&&h!==d&&(h===null?i.delete(u):i.set(u,h))),!l&&!e.deleted&&hu(i,c);break}}}e=e.right}return a},fue=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const r=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===Lt){const n=e.content.key;r.has(n)?e.delete(t):r.add(n)}e=e.left}},pue=t=>{let e=0;return Qe(t.doc,r=>{let n=t._start,i=t._start,s=Cr();const o=UC(s);for(;i;){if(i.deleted===!1)switch(i.content.constructor){case Lt:hu(o,i.content);break;default:e+=Lj(r,n,i,s,o),s=UC(o),n=i;break}i=i.right}}),e},gue=t=>{const e=new Set,r=t.doc;for(const[n,i]of t.afterState.entries()){const s=t.beforeState.get(n)||0;i!==s&&yj(t,r.store.clients.get(n),s,i,o=>{!o.deleted&&o.content.constructor===Lt&&o.constructor!==gr&&e.add(o.parent)})}Qe(r,n=>{Mo(t,t.deleteSet,i=>{if(i instanceof gr||!i.parent._hasFormatting||e.has(i.parent))return;const s=i.parent;i.content.constructor===Lt?e.add(s):fue(n,i)});for(const i of e)pue(i)})},xx=(t,e,r)=>{const n=r,i=UC(e.currentAttributes),s=e.right;for(;r>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case fi:case ul:case ri:r<e.right.length&&On(t,ve(e.right.id.client,e.right.id.clock+r)),r-=e.right.length,e.right.delete(t);break}e.forward()}s&&Lj(t,s,e.right,i,e.currentAttributes);const o=(e.left||e.right).parent;return o._searchMarker&&Jd(o._searchMarker,e.index,-n+r),e};class mue extends Tv{constructor(e,r,n){super(e,r),this.childListChanged=!1,this.keysChanged=new Set,n.forEach(i=>{i===null?this.childListChanged=!0:this.keysChanged.add(i)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,r=[];Qe(e,n=>{const i=new Map,s=new Map;let o=this.target._start,a=null;const l={};let c="",u=0,d=0;const h=()=>{if(a!==null){let f=null;switch(a){case"delete":d>0&&(f={delete:d}),d=0;break;case"insert":(typeof c=="object"||c.length>0)&&(f={insert:c},i.size>0&&(f.attributes={},i.forEach((p,g)=>{p!==null&&(f.attributes[g]=p)}))),c="";break;case"retain":u>0&&(f={retain:u},ice(l)||(f.attributes=nce({},l))),u=0;break}f&&r.push(f),a=null}};for(;o!==null;){switch(o.content.constructor){case fi:case ul:this.adds(o)?this.deletes(o)||(h(),a="insert",c=o.content.getContent()[0],h()):this.deletes(o)?(a!=="delete"&&(h(),a="delete"),d+=1):o.deleted||(a!=="retain"&&(h(),a="retain"),u+=1);break;case ri:this.adds(o)?this.deletes(o)||(a!=="insert"&&(h(),a="insert"),c+=o.content.str):this.deletes(o)?(a!=="delete"&&(h(),a="delete"),d+=o.length):o.deleted||(a!=="retain"&&(h(),a="retain"),u+=o.length);break;case Lt:{const{key:f,value:p}=o.content;if(this.adds(o)){if(!this.deletes(o)){const g=i.get(f)??null;eo(g,p)?p!==null&&o.delete(n):(a==="retain"&&h(),eo(p,s.get(f)??null)?delete l[f]:l[f]=p)}}else if(this.deletes(o)){s.set(f,p);const g=i.get(f)??null;eo(g,p)||(a==="retain"&&h(),l[f]=g)}else if(!o.deleted){s.set(f,p);const g=l[f];g!==void 0&&(eo(g,p)?g!==null&&o.delete(n):(a==="retain"&&h(),p===null?delete l[f]:l[f]=p))}o.deleted||(a==="insert"&&h(),hu(i,o.content));break}}o=o.right}for(h();r.length>0;){const f=r[r.length-1];if(f.retain!==void 0&&f.attributes===void 0)r.pop();else break}}),this._delta=r}return this._delta}}class So extends on{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this._length}_integrate(e,r){super._integrate(e,r);try{this._pending.forEach(n=>n())}catch(n){console.error(n)}this._pending=null}_copy(){return new So}clone(){const e=new So;return e.applyDelta(this.toDelta()),e}_callObserver(e,r){super._callObserver(e,r);const n=new mue(this,e,r);xv(this,e,n),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){let e="",r=this._start;for(;r!==null;)!r.deleted&&r.countable&&r.content.constructor===ri&&(e+=r.content.str),r=r.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:r=!0}={}){this.doc!==null?Qe(this.doc,n=>{const i=new e0(null,this._start,0,new Map);for(let s=0;s<e.length;s++){const o=e[s];if(o.insert!==void 0){const a=!r&&typeof o.insert=="string"&&s===e.length-1&&i.right===null&&o.insert.slice(-1)===`
`?o.insert.slice(0,-1):o.insert;(typeof a!="string"||a.length>0)&&vw(n,this,i,a,o.attributes||{})}else o.retain!==void 0?Ix(n,this,i,o.retain,o.attributes||{}):o.delete!==void 0&&xx(n,i,o.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,r,n){const i=[],s=new Map,o=this.doc;let a="",l=this._start;function c(){if(a.length>0){const d={};let h=!1;s.forEach((p,g)=>{h=!0,d[g]=p});const f={insert:a};h&&(f.attributes=d),i.push(f),a=""}}const u=()=>{for(;l!==null;){if(ea(l,e)||r!==void 0&&ea(l,r))switch(l.content.constructor){case ri:{const d=s.get("ychange");e!==void 0&&!ea(l,e)?(d===void 0||d.user!==l.id.client||d.type!=="removed")&&(c(),s.set("ychange",n?n("removed",l.id):{type:"removed"})):r!==void 0&&!ea(l,r)?(d===void 0||d.user!==l.id.client||d.type!=="added")&&(c(),s.set("ychange",n?n("added",l.id):{type:"added"})):d!==void 0&&(c(),s.delete("ychange")),a+=l.content.str;break}case fi:case ul:{c();const d={insert:l.content.getContent()[0]};if(s.size>0){const h={};d.attributes=h,s.forEach((f,p)=>{h[p]=f})}i.push(d);break}case Lt:ea(l,e)&&(c(),hu(s,l.content));break}l=l.right}c()};return e||r?Qe(o,d=>{e&&XC(d,e),r&&XC(d,r),u()},"cleanup"):u(),i}insert(e,r,n){if(r.length<=0)return;const i=this.doc;i!==null?Qe(i,s=>{const o=jf(s,this,e,!n);n||(n={},o.currentAttributes.forEach((a,l)=>{n[l]=a})),vw(s,this,o,r,n)}):this._pending.push(()=>this.insert(e,r,n))}insertEmbed(e,r,n){const i=this.doc;i!==null?Qe(i,s=>{const o=jf(s,this,e,!n);vw(s,this,o,r,n||{})}):this._pending.push(()=>this.insertEmbed(e,r,n||{}))}delete(e,r){if(r===0)return;const n=this.doc;n!==null?Qe(n,i=>{xx(i,jf(i,this,e,!0),r)}):this._pending.push(()=>this.delete(e,r))}format(e,r,n){if(r===0)return;const i=this.doc;i!==null?Qe(i,s=>{const o=jf(s,this,e,!1);o.right!==null&&Ix(s,this,o,r,n)}):this._pending.push(()=>this.format(e,r,n))}removeAttribute(e){this.doc!==null?Qe(this.doc,r=>{sm(r,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,r){this.doc!==null?Qe(this.doc,n=>{$k(n,this,e,r)}):this._pending.push(()=>this.setAttribute(e,r))}getAttribute(e){return zk(this,e)}getAttributes(){return Aj(this)}_write(e){e.writeTypeRef(Pue)}}const yue=t=>new So;class bw{constructor(e,r=()=>!0){this._filter=r,this._root=e,this._currentNode=e._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let e=this._currentNode,r=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(r)))do if(r=e.content.type,!e.deleted&&(r.constructor===yn||r.constructor===za)&&r._start!==null)e=r._start;else for(;e!==null;)if(e.right!==null){e=e.right;break}else e.parent===this._root?e=null:e=e.parent._item;while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class za extends on{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,r){super._integrate(e,r),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new za}clone(){const e=new za;return e.insert(0,this.toArray().map(r=>r instanceof on?r.clone():r)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new bw(this,e)}querySelector(e){e=e.toUpperCase();const n=new bw(this,i=>i.nodeName&&i.nodeName.toUpperCase()===e).next();return n.done?null:n.value}querySelectorAll(e){return e=e.toUpperCase(),$a(new bw(this,r=>r.nodeName&&r.nodeName.toUpperCase()===e))}_callObserver(e,r){xv(this,e,new wue(this,r,e))}toString(){return Mj(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,r={},n){const i=e.createDocumentFragment();return n!==void 0&&n._createAssociation(i,this),Xd(this,s=>{i.insertBefore(s.toDOM(e,r,n),null)}),i}insert(e,r){this.doc!==null?Qe(this.doc,n=>{Ij(n,this,e,r)}):this._prelimContent.splice(e,0,...r)}insertAfter(e,r){if(this.doc!==null)Qe(this.doc,n=>{const i=e&&e instanceof on?e._item:e;im(n,this,i,r)});else{const n=this._prelimContent,i=e===null?0:n.findIndex(s=>s===e)+1;if(i===0&&e!==null)throw ko("Reference item not found");n.splice(i,0,...r)}}delete(e,r=1){this.doc!==null?Qe(this.doc,n=>{xj(n,this,e,r)}):this._prelimContent.splice(e,r)}toArray(){return Dj(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return Sj(this,e)}slice(e=0,r=this.length){return Ej(this,e,r)}forEach(e){Xd(this,e)}_write(e){e.writeTypeRef(Fue)}}const vue=t=>new za;class yn extends za{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,r){super._integrate(e,r),this._prelimAttrs.forEach((n,i)=>{this.setAttribute(i,n)}),this._prelimAttrs=null}_copy(){return new yn(this.nodeName)}clone(){const e=new yn(this.nodeName),r=this.getAttributes();return rce(r,(n,i)=>{typeof n=="string"&&e.setAttribute(i,n)}),e.insert(0,this.toArray().map(n=>n instanceof on?n.clone():n)),e}toString(){const e=this.getAttributes(),r=[],n=[];for(const a in e)n.push(a);n.sort();const i=n.length;for(let a=0;a<i;a++){const l=n[a];r.push(l+'="'+e[l]+'"')}const s=this.nodeName.toLocaleLowerCase(),o=r.length>0?" "+r.join(" "):"";return`<${s}${o}>${super.toString()}</${s}>`}removeAttribute(e){this.doc!==null?Qe(this.doc,r=>{sm(r,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,r){this.doc!==null?Qe(this.doc,n=>{$k(n,this,e,r)}):this._prelimAttrs.set(e,r)}getAttribute(e){return zk(this,e)}hasAttribute(e){return Oj(this,e)}getAttributes(e){return e?lue(this,e):Aj(this)}toDOM(e=document,r={},n){const i=e.createElement(this.nodeName),s=this.getAttributes();for(const o in s){const a=s[o];typeof a=="string"&&i.setAttribute(o,a)}return Xd(this,o=>{i.appendChild(o.toDOM(e,r,n))}),n!==void 0&&n._createAssociation(i,this),i}_write(e){e.writeTypeRef(Lue),e.writeKey(this.nodeName)}}const bue=t=>new yn(t.readKey());class wue extends Tv{constructor(e,r,n){super(e,n),this.childListChanged=!1,this.attributesChanged=new Set,r.forEach(i=>{i===null?this.childListChanged=!0:this.attributesChanged.add(i)})}}class om extends Ic{constructor(e){super(),this.hookName=e}_copy(){return new om(this.hookName)}clone(){const e=new om(this.hookName);return this.forEach((r,n)=>{e.set(n,r)}),e}toDOM(e=document,r={},n){const i=r[this.hookName];let s;return i!==void 0?s=i.createDom(this):s=document.createElement(this.hookName),s.setAttribute("data-yjs-hook",this.hookName),n!==void 0&&n._createAssociation(s,this),s}_write(e){e.writeTypeRef(Bue),e.writeKey(this.hookName)}}const _ue=t=>new om(t.readKey());class Xn extends So{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new Xn}clone(){const e=new Xn;return e.applyDelta(this.toDelta()),e}toDOM(e=document,r,n){const i=e.createTextNode(this.toString());return n!==void 0&&n._createAssociation(i,this),i}toString(){return this.toDelta().map(e=>{const r=[];for(const i in e.attributes){const s=[];for(const o in e.attributes[i])s.push({key:o,value:e.attributes[i][o]});s.sort((o,a)=>o.key<a.key?-1:1),r.push({nodeName:i,attrs:s})}r.sort((i,s)=>i.nodeName<s.nodeName?-1:1);let n="";for(let i=0;i<r.length;i++){const s=r[i];n+=`<${s.nodeName}`;for(let o=0;o<s.attrs.length;o++){const a=s.attrs[o];n+=` ${a.key}="${a.value}"`}n+=">"}n+=e.insert;for(let i=r.length-1;i>=0;i--)n+=`</${r[i].nodeName}>`;return n}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(Vue)}}const Cue=t=>new Xn;class Wk{constructor(e,r){this.id=e,this.length=r}get deleted(){throw Jr()}mergeWith(e){return!1}write(e,r,n){throw Jr()}integrate(e,r){throw Jr()}}const Eue=0;class gr extends Wk{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,r){r>0&&(this.id.clock+=r,this.length-=r),mj(e.doc.store,this)}write(e,r){e.writeInfo(Eue),e.writeLen(this.length-r)}getMissing(e,r){return null}}class Zh{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Zh(this.content)}splice(e){throw Jr()}mergeWith(e){return!1}integrate(e,r){}delete(e){}gc(e){}write(e,r){e.writeBuf(this.content)}getRef(){return 3}}const Due=t=>new Zh(t.readBuf());class Qd{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Qd(this.len)}splice(e){const r=new Qd(this.len-e);return this.len=e,r}mergeWith(e){return this.len+=e.len,!0}integrate(e,r){qd(e.deleteSet,r.id.client,r.id.clock,this.len),r.markDeleted()}delete(e){}gc(e){}write(e,r){e.writeLen(this.len-r)}getRef(){return 1}}const kue=t=>new Qd(t.readLen()),Fj=(t,e)=>new du({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class Yh{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const r={};this.opts=r,e.gc||(r.gc=!1),e.autoLoad&&(r.autoLoad=!0),e.meta!==null&&(r.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Yh(Fj(this.doc.guid,this.opts))}splice(e){throw Jr()}mergeWith(e){return!1}integrate(e,r){this.doc._item=r,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,r){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const Mue=t=>new Yh(Fj(t.readString(),t.readAny()));class ul{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new ul(this.embed)}splice(e){throw Jr()}mergeWith(e){return!1}integrate(e,r){}delete(e){}gc(e){}write(e,r){e.writeJSON(this.embed)}getRef(){return 5}}const Sue=t=>new ul(t.readJSON());class Lt{constructor(e,r){this.key=e,this.value=r}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Lt(this.key,this.value)}splice(e){throw Jr()}mergeWith(e){return!1}integrate(e,r){const n=r.parent;n._searchMarker=null,n._hasFormatting=!0}delete(e){}gc(e){}write(e,r){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const Tue=t=>new Lt(t.readKey(),t.readJSON());class am{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new am(this.arr)}splice(e){const r=new am(this.arr.slice(e));return this.arr=this.arr.slice(0,e),r}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,r){}delete(e){}gc(e){}write(e,r){const n=this.arr.length;e.writeLen(n-r);for(let i=r;i<n;i++){const s=this.arr[i];e.writeString(s===void 0?"undefined":JSON.stringify(s))}}getRef(){return 2}}const Iue=t=>{const e=t.readLen(),r=[];for(let n=0;n<e;n++){const i=t.readString();i==="undefined"?r.push(void 0):r.push(JSON.parse(i))}return new am(r)};class Wa{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Wa(this.arr)}splice(e){const r=new Wa(this.arr.slice(e));return this.arr=this.arr.slice(0,e),r}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,r){}delete(e){}gc(e){}write(e,r){const n=this.arr.length;e.writeLen(n-r);for(let i=r;i<n;i++){const s=this.arr[i];e.writeAny(s)}}getRef(){return 8}}const xue=t=>{const e=t.readLen(),r=[];for(let n=0;n<e;n++)r.push(t.readAny());return new Wa(r)};class ri{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new ri(this.str)}splice(e){const r=new ri(this.str.slice(e));this.str=this.str.slice(0,e);const n=this.str.charCodeAt(e-1);return n>=55296&&n<=56319&&(this.str=this.str.slice(0,e-1)+"�",r.str="�"+r.str.slice(1)),r}mergeWith(e){return this.str+=e.str,!0}integrate(e,r){}delete(e){}gc(e){}write(e,r){e.writeString(r===0?this.str:this.str.slice(r))}getRef(){return 4}}const Aue=t=>new ri(t.readString()),Oue=[uue,hue,yue,bue,vue,_ue,Cue],Rue=0,Nue=1,Pue=2,Lue=3,Fue=4,Bue=5,Vue=6;class fi{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new fi(this.type._copy())}splice(e){throw Jr()}mergeWith(e){return!1}integrate(e,r){this.type._integrate(e.doc,r)}delete(e){let r=this.type._start;for(;r!==null;)r.deleted?r.id.clock<(e.beforeState.get(r.id.client)||0)&&e._mergeStructs.push(r):r.delete(e),r=r.right;this.type._map.forEach(n=>{n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e)}),e.changed.delete(this.type)}gc(e){let r=this.type._start;for(;r!==null;)r.gc(e,!0),r=r.right;this.type._start=null,this.type._map.forEach(n=>{for(;n!==null;)n.gc(e,!0),n=n.left}),this.type._map=new Map}write(e,r){this.type._write(e)}getRef(){return 7}}const Hue=t=>new fi(Oue[t.readTypeRef()](t)),t0=(t,e)=>{let r=e,n=0,i;do n>0&&(r=ve(r.client,r.clock+n)),i=rc(t,r),n=r.clock-i.id.clock,r=i.redone;while(r!==null&&i instanceof st);return{item:i,diff:n}},Gk=(t,e)=>{for(;t!==null&&t.keep!==e;)t.keep=e,t=t.parent._item},lm=(t,e,r)=>{const{client:n,clock:i}=e.id,s=new st(ve(n,i+r),e,ve(n,i+r-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(r));return e.deleted&&s.markDeleted(),e.keep&&(s.keep=!0),e.redone!==null&&(s.redone=ve(e.redone.client,e.redone.clock+r)),e.right=s,s.right!==null&&(s.right.left=s),t._mergeStructs.push(s),s.parentSub!==null&&s.right===null&&s.parent._map.set(s.parentSub,s),e.length=r,s},Ax=(t,e)=>vle(t,r=>uu(r.deletions,e)),Bj=(t,e,r,n,i,s)=>{const o=t.doc,a=o.store,l=o.clientID,c=e.redone;if(c!==null)return On(t,c);let u=e.parent._item,d=null,h;if(u!==null&&u.deleted===!0){if(u.redone===null&&(!r.has(u)||Bj(t,u,r,n,i,s)===null))return null;for(;u.redone!==null;)u=On(t,u.redone)}const f=u===null?e.parent:u.content.type;if(e.parentSub===null){for(d=e.left,h=e;d!==null;){let y=d;for(;y!==null&&y.parent._item!==u;)y=y.redone===null?null:On(t,y.redone);if(y!==null&&y.parent._item===u){d=y;break}d=d.left}for(;h!==null;){let y=h;for(;y!==null&&y.parent._item!==u;)y=y.redone===null?null:On(t,y.redone);if(y!==null&&y.parent._item===u){h=y;break}h=h.right}}else if(h=null,e.right&&!i){for(d=e;d!==null&&d.right!==null&&(d.right.redone||uu(n,d.right.id)||Ax(s.undoStack,d.right.id)||Ax(s.redoStack,d.right.id));)for(d=d.right;d.redone;)d=On(t,d.redone);if(d&&d.right!==null)return null}else d=f._map.get(e.parentSub)||null;const p=Et(a,l),g=ve(l,p),m=new st(g,d,d&&d.lastId,h,h&&h.id,f,e.parentSub,e.content.copy());return e.redone=g,Gk(m,!0),m.integrate(t,0),m};let st=class n0 extends Wk{constructor(e,r,n,i,s,o,a,l){super(e,l.getLength()),this.origin=n,this.left=r,this.right=i,this.rightOrigin=s,this.parent=o,this.parentSub=a,this.redone=null,this.content=l,this.info=this.content.isCountable()?ox:0}set marker(e){(this.info&hw)>0!==e&&(this.info^=hw)}get marker(){return(this.info&hw)>0}get keep(){return(this.info&sx)>0}set keep(e){this.keep!==e&&(this.info^=sx)}get countable(){return(this.info&ox)>0}get deleted(){return(this.info&dw)>0}set deleted(e){this.deleted!==e&&(this.info^=dw)}markDeleted(){this.info|=dw}getMissing(e,r){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Et(r,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Et(r,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===nc&&this.id.client!==this.parent.client&&this.parent.clock>=Et(r,this.parent.client))return this.parent.client;if(this.origin&&(this.left=_x(e,r,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=On(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===gr||this.right&&this.right.constructor===gr)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===n0&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===n0&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===nc){const n=rc(r,this.parent);n.constructor===gr?this.parent=null:this.parent=n.content.type}return null}integrate(e,r){if(r>0&&(this.id.clock+=r,this.left=_x(e,e.doc.store,ve(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(r),this.length-=r),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let n=this.left,i;if(n!==null)i=n.right;else if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start;const s=new Set,o=new Set;for(;i!==null&&i!==this.right;){if(o.add(i),s.add(i),jl(this.origin,i.origin)){if(i.id.client<this.id.client)n=i,s.clear();else if(jl(this.rightOrigin,i.rightOrigin))break}else if(i.origin!==null&&o.has(rc(e.doc.store,i.origin)))s.has(rc(e.doc.store,i.origin))||(n=i,s.clear());else break;i=i.right}this.left=n}if(this.left!==null){const n=this.left.right;this.right=n,this.left.right=this}else{let n;if(this.parentSub!==null)for(n=this.parent._map.get(this.parentSub)||null;n!==null&&n.left!==null;)n=n.left;else n=this.parent._start,this.parent._start=this;this.right=n}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),mj(e.doc.store,this),this.content.integrate(e,this),Ex(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new gr(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:ve(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&jl(e.origin,this.lastId)&&this.right===e&&jl(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const r=this.parent._searchMarker;return r&&r.forEach(n=>{n.p===e&&(n.p=this,!this.deleted&&this.countable&&(n.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const r=this.parent;this.countable&&this.parentSub===null&&(r._length-=this.length),this.markDeleted(),qd(e.deleteSet,this.id.client,this.id.clock,this.length),Ex(e,r,this.parentSub),this.content.delete(e)}}gc(e,r){if(!this.deleted)throw tr();this.content.gc(e),r?Gce(e,this,new gr(this.id,this.length)):this.content=new Qd(this.length)}write(e,r){const n=r>0?ve(this.id.client,this.id.clock+r-1):this.origin,i=this.rightOrigin,s=this.parentSub,o=this.content.getRef()&Cv|(n===null?0:Jn)|(i===null?0:ys)|(s===null?0:$d);if(e.writeInfo(o),n!==null&&e.writeLeftID(n),i!==null&&e.writeRightID(i),n===null&&i===null){const a=this.parent;if(a._item!==void 0){const l=a._item;if(l===null){const c=Kd(a);e.writeParentInfo(!0),e.writeString(c)}else e.writeParentInfo(!1),e.writeLeftID(l.id)}else a.constructor===String?(e.writeParentInfo(!0),e.writeString(a)):a.constructor===nc?(e.writeParentInfo(!1),e.writeLeftID(a)):tr();s!==null&&e.writeString(s)}this.content.write(e,r)}};const Vj=(t,e)=>jue[e&Cv](t),jue=[()=>{tr()},kue,Iue,Due,Aue,Sue,Tue,Hue,xue,Mue,()=>{tr()}],Uue=10;class $r extends Wk{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,r){tr()}write(e,r){e.writeInfo(Uue),Re(e.restEncoder,this.length-r)}getMissing(e,r){return null}}const Hj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},jj="__ $YJS$ __";Hj[jj]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");Hj[jj]=!0;const $ue=()=>{let t=!0;return(e,r)=>{if(t){t=!1;try{e()}finally{t=!0}}else r!==void 0&&r()}},zue=/[\uD800-\uDBFF]/,Wue=/[\uDC00-\uDFFF]/,Gue=(t,e)=>{let r=0,n=0;for(;r<t.length&&r<e.length&&t[r]===e[r];)r++;for(r>0&&zue.test(t[r-1])&&r--;n+r<t.length&&n+r<e.length&&t[t.length-n-1]===e[e.length-n-1];)n++;return n>0&&Wue.test(t[t.length-n])&&n--,{index:r,remove:t.length-r-n,insert:e.slice(r,e.length-n)}},que=Gue,ft=new Je("y-sync"),vs=new Je("y-undo"),Uf=new Je("yjs-cursor"),cm=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&e.sv.get(t.id.client)>t.id.clock&&!uu(e.ds,t.id),Kue=[{light:"#ecd44433",dark:"#ecd444"}],Zue=(t,e,r)=>{if(!t.has(r)){if(t.size<e.length){const n=Ua();t.forEach(i=>n.add(i)),e=e.filter(i=>!n.has(i))}t.set(r,Zle(e))}return t.get(r)},Yue=(t,{colors:e=Kue,colorMapping:r=new Map,permanentUserData:n=null,onFirstRender:i=()=>{},mapping:s}={})=>{let o=!1;const a=new Xue(t,s),l=new Oe({props:{editable:c=>{const u=ft.getState(c);return u.snapshot==null&&u.prevSnapshot==null}},key:ft,state:{init:(c,u)=>({type:t,doc:t.doc,binding:a,snapshot:null,prevSnapshot:null,isChangeOrigin:!1,isUndoRedoOperation:!1,addToHistory:!0,colors:e,colorMapping:r,permanentUserData:n}),apply:(c,u)=>{const d=c.getMeta(ft);if(d!==void 0){u=Object.assign({},u);for(const h in d)u[h]=d[h]}return u.addToHistory=c.getMeta("addToHistory")!==!1,u.isChangeOrigin=d!==void 0&&!!d.isChangeOrigin,u.isUndoRedoOperation=d!==void 0&&!!d.isChangeOrigin&&!!d.isUndoRedoOperation,a.prosemirrorView!==null&&d!==void 0&&(d.snapshot!=null||d.prevSnapshot!=null)&&Lk(0,()=>{a.prosemirrorView!=null&&(d.restore==null?a._renderSnapshot(d.snapshot,d.prevSnapshot,u):(a._renderSnapshot(d.snapshot,d.snapshot,u),delete u.restore,delete u.snapshot,delete u.prevSnapshot,a.mux(()=>{a._prosemirrorChanged(a.prosemirrorView.state.doc)})))}),u}},view:c=>(a.initView(c),s==null&&a._forceRerender(),i(),{update:()=>{const u=l.getState(c.state);if(u.snapshot==null&&u.prevSnapshot==null&&(o||c.state.doc.content.findDiffStart(c.state.doc.type.createAndFill().content)!==null)){if(o=!0,u.addToHistory===!1&&!u.isChangeOrigin){const d=vs.getState(c.state),h=d&&d.undoManager;h&&h.stopCapturing()}a.mux(()=>{u.doc.transact(d=>{d.meta.set("addToHistory",u.addToHistory),a._prosemirrorChanged(c.state.doc)},ft)})}},destroy:()=>{a.destroy()}})});return l},Jue=(t,e,r)=>{if(e!==null&&e.anchor!==null&&e.head!==null){const n=th(r.doc,r.type,e.anchor,r.mapping),i=th(r.doc,r.type,e.head,r.mapping);n!==null&&i!==null&&(t=t.setSelection(te.create(t.doc,n,i)))}},r0=(t,e)=>({anchor:dm(e.selection.anchor,t.type,t.mapping),head:dm(e.selection.head,t.type,t.mapping)});class Xue{constructor(e,r=new Map){this.type=e,this.prosemirrorView=null,this.mux=$ue(),this.mapping=r,this._observeFunction=this._typeChanged.bind(this),this.doc=e.doc,this.beforeTransactionSelection=null,this.beforeAllTransactions=()=>{this.beforeTransactionSelection===null&&this.prosemirrorView!=null&&(this.beforeTransactionSelection=r0(this,this.prosemirrorView.state))},this.afterAllTransactions=()=>{this.beforeTransactionSelection=null},this._domSelectionInView=null}get _tr(){return this.prosemirrorView.state.tr.setMeta("addToHistory",!1)}_isLocalCursorInView(){return this.prosemirrorView.hasFocus()?(cce&&this._domSelectionInView===null&&(Lk(0,()=>{this._domSelectionInView=null}),this._domSelectionInView=this._isDomSelectionInView()),this._domSelectionInView):!1}_isDomSelectionInView(){const e=this.prosemirrorView._root.getSelection(),r=this.prosemirrorView._root.createRange();r.setStart(e.anchorNode,e.anchorOffset),r.setEnd(e.focusNode,e.focusOffset),r.getClientRects().length===0&&r.startContainer&&r.collapsed&&r.selectNodeContents(r.startContainer);const i=r.getBoundingClientRect(),s=pce.documentElement;return i.bottom>=0&&i.right>=0&&i.left<=(window.innerWidth||s.clientWidth||0)&&i.top<=(window.innerHeight||s.clientHeight||0)}renderSnapshot(e,r){r||(r=pj(uj(),new Map)),this.prosemirrorView.dispatch(this._tr.setMeta(ft,{snapshot:e,prevSnapshot:r}))}unrenderSnapshot(){this.mapping.clear(),this.mux(()=>{const e=this.type.toArray().map(n=>Tp(n,this.prosemirrorView.state.schema,this.mapping)).filter(n=>n!==null),r=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new N(S.from(e),0,0));r.setMeta(ft,{snapshot:null,prevSnapshot:null}),this.prosemirrorView.dispatch(r)})}_forceRerender(){this.mapping.clear(),this.mux(()=>{const e=this.beforeTransactionSelection!==null?null:this.prosemirrorView.state.selection,r=this.type.toArray().map(i=>Tp(i,this.prosemirrorView.state.schema,this.mapping)).filter(i=>i!==null),n=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new N(S.from(r),0,0));e&&n.setSelection(te.create(n.doc,e.anchor,e.head)),this.prosemirrorView.dispatch(n.setMeta(ft,{isChangeOrigin:!0,binding:this}))})}_renderSnapshot(e,r,n){let i=this.doc;e||(e=yw(this.doc)),(e instanceof Uint8Array||r instanceof Uint8Array)&&((!(e instanceof Uint8Array)||!(r instanceof Uint8Array))&&tr(),i=new du({gc:!1}),JC(i,r),r=yw(i),JC(i,e),e=yw(i)),this.mapping.clear(),this.mux(()=>{i.transact(s=>{const o=n.permanentUserData;o&&o.dss.forEach(u=>{Mo(s,u,d=>{})});const a=(u,d)=>{const h=u==="added"?o.getUserByClientId(d.client):o.getUserByDeletedId(d);return{user:h,type:u,color:Zue(n.colorMapping,n.colors,h)}},l=kj(this.type,new jk(r.ds,e.sv)).map(u=>!u._item.deleted||cm(u._item,e)||cm(u._item,r)?Tp(u,this.prosemirrorView.state.schema,new Map,e,r,a):null).filter(u=>u!==null),c=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new N(S.from(l),0,0));this.prosemirrorView.dispatch(c.setMeta(ft,{isChangeOrigin:!0}))},ft)})}_typeChanged(e,r){if(this.prosemirrorView==null)return;const n=ft.getState(this.prosemirrorView.state);if(e.length===0||n.snapshot!=null||n.prevSnapshot!=null){this.renderSnapshot(n.snapshot,n.prevSnapshot);return}this.mux(()=>{const i=(a,l)=>this.mapping.delete(l);Mo(r,r.deleteSet,a=>{if(a.constructor===st){const l=a.content.type;l&&this.mapping.delete(l)}}),r.changed.forEach(i),r.changedParentTypes.forEach(i);const s=this.type.toArray().map(a=>Uj(a,this.prosemirrorView.state.schema,this.mapping)).filter(a=>a!==null);let o=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new N(S.from(s),0,0));Jue(o,this.beforeTransactionSelection,this),o=o.setMeta(ft,{isChangeOrigin:!0,isUndoRedoOperation:r.origin instanceof bj}),this.beforeTransactionSelection!==null&&this._isLocalCursorInView()&&o.scrollIntoView(),this.prosemirrorView.dispatch(o)})}_prosemirrorChanged(e){this.doc.transact(()=>{s0(this.doc,this.type,e,this.mapping),this.beforeTransactionSelection=r0(this,this.prosemirrorView.state)},ft)}initView(e){this.prosemirrorView!=null&&this.destroy(),this.prosemirrorView=e,this.doc.on("beforeAllTransactions",this.beforeAllTransactions),this.doc.on("afterAllTransactions",this.afterAllTransactions),this.type.observeDeep(this._observeFunction)}destroy(){this.prosemirrorView!=null&&(this.prosemirrorView=null,this.type.unobserveDeep(this._observeFunction),this.doc.off("beforeAllTransactions",this.beforeAllTransactions),this.doc.off("afterAllTransactions",this.afterAllTransactions))}}const Uj=(t,e,r,n,i,s)=>{const o=r.get(t);if(o===void 0){if(t instanceof yn)return Tp(t,e,r,n,i,s);throw Jr()}return o},Tp=(t,e,r,n,i,s)=>{const o=[],a=l=>{if(l.constructor===yn){const c=Uj(l,e,r,n,i,s);c!==null&&o.push(c)}else{const c=l._item.right?.content.type;c instanceof So&&!c._item.deleted&&c._item.id.client===c.doc.clientID&&(l.applyDelta([{retain:l.length},...c.toDelta()]),c.doc.transact(d=>{c._item.delete(d)}));const u=Que(l,e,r,n,i,s);u!==null&&u.forEach(d=>{d!==null&&o.push(d)})}};n===void 0||i===void 0?t.toArray().forEach(a):kj(t,new jk(i.ds,n.sv)).forEach(a);try{const l=t.getAttributes(n);n!==void 0&&(cm(t._item,n)?cm(t._item,i)||(l.ychange=s?s("added",t._item.id):{type:"added"}):l.ychange=s?s("removed",t._item.id):{type:"removed"});const c=e.node(t.nodeName,l,o);return r.set(t,c),c}catch{return t.doc.transact(c=>{t._item.delete(c)},ft),r.delete(t),null}},Que=(t,e,r,n,i,s)=>{const o=[],a=t.toDelta(n,i,s);try{for(let l=0;l<a.length;l++){const c=a[l],u=[];for(const d in c.attributes)u.push(e.mark(d,c.attributes[d]));o.push(e.text(c.insert,u))}}catch{return t.doc.transact(c=>{t._item.delete(c)},ft),null}return o},ede=(t,e)=>{const r=new Xn,n=t.map(i=>({insert:i.text,attributes:zj(i.marks)}));return r.applyDelta(n),e.set(r,t),r},tde=(t,e)=>{const r=new yn(t.type.name);for(const n in t.attrs){const i=t.attrs[n];i!==null&&n!=="ychange"&&r.setAttribute(n,i)}return r.insert(0,Av(t).map(n=>i0(n,e))),e.set(r,t),r},i0=(t,e)=>t instanceof Array?ede(t,e):tde(t,e),Ox=t=>typeof t=="object"&&t!==null,qk=(t,e)=>{const r=Object.keys(t).filter(i=>t[i]!==null);let n=r.length===Object.keys(e).filter(i=>e[i]!==null).length;for(let i=0;i<r.length&&n;i++){const s=r[i],o=t[s],a=e[s];n=s==="ychange"||o===a||Ox(o)&&Ox(a)&&qk(o,a)}return n},Av=t=>{const e=t.content.content,r=[];for(let n=0;n<e.length;n++){const i=e[n];if(i.isText){const s=[];for(let o=e[n];n<e.length&&o.isText;o=e[++n])s.push(o);n--,r.push(s)}else r.push(i)}return r},$j=(t,e)=>{const r=t.toDelta();return r.length===e.length&&r.every((n,i)=>n.insert===e[i].text&&tj(n.attributes||{}).length===e[i].marks.length&&e[i].marks.every(s=>qk(n.attributes[s.type.name]||{},s.attrs)))},eh=(t,e)=>{if(t instanceof yn&&!(e instanceof Array)&&o0(t,e)){const r=Av(e);return t._length===r.length&&qk(t.getAttributes(),e.attrs)&&t.toArray().every((n,i)=>eh(n,r[i]))}return t instanceof Xn&&e instanceof Array&&$j(t,e)},um=(t,e)=>t===e||t instanceof Array&&e instanceof Array&&t.length===e.length&&t.every((r,n)=>e[n]===r),Rx=(t,e,r)=>{const n=t.toArray(),i=Av(e),s=i.length,o=n.length,a=ya(o,s);let l=0,c=0,u=!1;for(;l<a;l++){const d=n[l],h=i[l];if(um(r.get(d),h))u=!0;else if(!eh(d,h))break}for(;l+c<a;c++){const d=n[o-c-1],h=i[s-c-1];if(um(r.get(d),h))u=!0;else if(!eh(d,h))break}return{equalityFactor:l+c,foundMappedChild:u}},nde=t=>{let e="",r=t._start;const n={};for(;r!==null;)r.deleted||(r.countable&&r.content instanceof ri?e+=r.content.str:r.content instanceof Lt&&(n[r.content.key]=null)),r=r.right;return{str:e,nAttrs:n}},rde=(t,e,r)=>{r.set(t,e);const{nAttrs:n,str:i}=nde(t),s=e.map(c=>({insert:c.text,attributes:Object.assign({},n,zj(c.marks))})),{insert:o,remove:a,index:l}=que(i,s.map(c=>c.insert).join(""));t.delete(l,a),t.insert(l,o),t.applyDelta(s.map(c=>({retain:c.insert.length,attributes:c.attributes})))},zj=t=>{const e={};return t.forEach(r=>{r.type.name!=="ychange"&&(e[r.type.name]=r.attrs)}),e},s0=(t,e,r,n)=>{if(e instanceof yn&&e.nodeName!==r.type.name)throw new Error("node name mismatch!");if(n.set(e,r),e instanceof yn){const d=e.getAttributes(),h=r.attrs;for(const f in h)h[f]!==null?d[f]!==h[f]&&f!=="ychange"&&e.setAttribute(f,h[f]):e.removeAttribute(f);for(const f in d)h[f]===void 0&&e.removeAttribute(f)}const i=Av(r),s=i.length,o=e.toArray(),a=o.length,l=ya(s,a);let c=0,u=0;for(;c<l;c++){const d=o[c],h=i[c];if(!um(n.get(d),h))if(eh(d,h))n.set(d,h);else break}for(;u+c+1<l;u++){const d=o[a-u-1],h=i[s-u-1];if(!um(n.get(d),h))if(eh(d,h))n.set(d,h);else break}t.transact(()=>{for(;a-c-u>0&&s-c-u>0;){const h=o[c],f=i[c],p=o[a-u-1],g=i[s-u-1];if(h instanceof Xn&&f instanceof Array)$j(h,f)||rde(h,f,n),c+=1;else{let m=h instanceof yn&&o0(h,f),y=p instanceof yn&&o0(p,g);if(m&&y){const v=Rx(h,f,n),b=Rx(p,g,n);v.foundMappedChild&&!b.foundMappedChild?y=!1:!v.foundMappedChild&&b.foundMappedChild||v.equalityFactor<b.equalityFactor?m=!1:y=!1}m?(s0(t,h,f,n),c+=1):y?(s0(t,p,g,n),u+=1):(n.delete(e.get(c)),e.delete(c,1),e.insert(c,[i0(f,n)]),c+=1)}}const d=a-c-u;if(a===1&&s===0&&o[0]instanceof Xn?(n.delete(o[0]),o[0].delete(0,o[0].length)):d>0&&(e.slice(c,c+d).forEach(h=>n.delete(h)),e.delete(c,d)),c+u<s){const h=[];for(let f=c;f<s-u;f++)h.push(i0(i[f],n));e.insert(c,h)}},ft)},o0=(t,e)=>!(e instanceof Array)&&t.nodeName===e.type.name;let sd=null;const ide=()=>{const t=sd;sd=null,t.forEach((e,r)=>{const n=r.state.tr,i=ft.getState(r.state);i&&i.binding&&!i.binding.isDestroyed&&(e.forEach((s,o)=>{n.setMeta(o,s)}),r.dispatch(n))})},sde=(t,e,r)=>{sd||(sd=new Map,Lk(0,ide)),Rs(sd,t,Cr).set(e,r)},dm=(t,e,r)=>{if(t===0)return mw(e,0,-1);let n=e._first===null?null:e._first.content.type;for(;n!==null&&e!==n;){if(n instanceof Xn){if(n._length>=t)return mw(n,t,-1);if(t-=n._length,n._item!==null&&n._item.next!==null)n=n._item.next.content.type;else{do n=n._item===null?null:n._item.parent,t--;while(n!==e&&n!==null&&n._item!==null&&n._item.next===null);n!==null&&n!==e&&(n=n._item===null?null:n._item.next.content.type)}}else{const i=(r.get(n)||{nodeSize:0}).nodeSize;if(n._first!==null&&t<i)n=n._first.content.type,t--;else{if(t===1&&n._length===0&&i>1)return new Yd(n._item===null?null:n._item.id,n._item===null?Kd(n):null,null);if(t-=i,n._item!==null&&n._item.next!==null)n=n._item.next.content.type;else{if(t===0)return n=n._item===null?n:n._item.parent,new Yd(n._item===null?null:n._item.id,n._item===null?Kd(n):null,null);do n=n._item.parent,t--;while(n!==e&&n._item.next===null);n!==e&&(n=n._item.next.content.type)}}}if(n===null)throw tr();if(t===0&&n.constructor!==Xn&&n!==e)return ode(n._item.parent,n._item)}return mw(e,e._length,-1)},ode=(t,e)=>{let r=null,n=null;return t._item===null?n=Kd(t):r=ve(t._item.id.client,t._item.id.clock),new Yd(r,n,e.id)},th=(t,e,r,n)=>{const i=zce(r,t);if(i===null||i.type!==e&&!Zd(e,i.type._item))return null;let s=i.type,o=0;if(s.constructor===Xn)o=i.index;else if(s._item===null||!s._item.deleted){let a=s._first,l=0;for(;l<s._length&&l<i.index&&a!==null;){if(!a.deleted){const c=a.content.type;l++,c instanceof Xn?o+=c._length:o+=n.get(c).nodeSize}a=a.right}o+=1}for(;s!==e&&s._item!==null;){const a=s._item.parent;if(a._item===null||!a._item.deleted){o+=1;let l=a._first;for(;l!==null;){const c=l.content.type;if(c===s)break;l.deleted||(c instanceof Xn?o+=c._length:o+=n.get(c).nodeSize),l=l.right}}s=a}return o-1},ade=(t,e,r)=>t!==e,lde=t=>{const e=document.createElement("span");e.classList.add("ProseMirror-yjs-cursor"),e.setAttribute("style",`border-color: ${t.color}`);const r=document.createElement("div");r.setAttribute("style",`background-color: ${t.color}`),r.insertBefore(document.createTextNode(t.name),null);const n=document.createTextNode("⁠"),i=document.createTextNode("⁠");return e.insertBefore(n,null),e.insertBefore(r,null),e.insertBefore(i,null),e},Wj=t=>({style:`background-color: ${t.color}70`,class:"ProseMirror-yjs-selection"}),cde=/^#[0-9a-fA-F]{6}$/,Nx=(t,e,r,n,i)=>{const s=ft.getState(t),o=s.doc,a=[];return s.snapshot!=null||s.prevSnapshot!=null||s.binding.mapping.size===0?ze.create(t.doc,[]):(e.getStates().forEach((l,c)=>{if(r(o.clientID,c,l)&&l.cursor!=null){const u=l.user||{};u.color==null?u.color="#ffa500":cde.test(u.color)||console.warn("A user uses an unsupported color format",u),u.name==null&&(u.name=`User: ${c}`);let d=th(o,s.type,id(l.cursor.anchor),s.binding.mapping),h=th(o,s.type,id(l.cursor.head),s.binding.mapping);if(d!==null&&h!==null){const f=Do(t.doc.content.size-1,0);d=ya(d,f),h=ya(h,f),a.push(vt.widget(h,()=>n(u),{key:c+"",side:10}));const p=ya(d,h),g=Do(d,h);a.push(vt.inline(p,g,i(u),{inclusiveEnd:!0,inclusiveStart:!1}))}}}),ze.create(t.doc,a))},ude=(t,{awarenessStateFilter:e=ade,cursorBuilder:r=lde,selectionBuilder:n=Wj,getSelection:i=o=>o.selection}={},s="cursor")=>new Oe({key:Uf,state:{init(o,a){return Nx(a,t,e,r,n)},apply(o,a,l,c){const u=ft.getState(c),d=o.getMeta(Uf);return u&&u.isChangeOrigin||d&&d.awarenessUpdated?Nx(c,t,e,r,n):a.map(o.mapping,o.doc)}},props:{decorations:o=>Uf.getState(o)},view:o=>{const a=()=>{o.docView&&sde(o,Uf,{awarenessUpdated:!0})},l=()=>{const c=ft.getState(o.state),u=t.getLocalState()||{};if(o.hasFocus()){const d=i(o.state),h=dm(d.anchor,c.type,c.binding.mapping),f=dm(d.head,c.type,c.binding.mapping);(u.cursor==null||!wx(id(u.cursor.anchor),h)||!wx(id(u.cursor.head),f))&&t.setLocalStateField(s,{anchor:h,head:f})}else u.cursor!=null&&th(c.doc,c.type,id(u.cursor.anchor),c.binding.mapping)!==null&&t.setLocalStateField(s,null)};return t.on("change",a),o.dom.addEventListener("focusin",l),o.dom.addEventListener("focusout",l),{update:l,destroy:()=>{o.dom.removeEventListener("focusin",l),o.dom.removeEventListener("focusout",l),t.off("change",a),t.setLocalStateField(s,null)}}}}),dde=t=>{const e=vs.getState(t).undoManager;if(e!=null)return e.undo(),!0},hde=t=>{const e=vs.getState(t).undoManager;if(e!=null)return e.redo(),!0},fde=new Set(["paragraph"]),pde=(t,e)=>!(t instanceof st)||!(t.content instanceof fi)||!(t.content.type instanceof So||t.content.type instanceof yn&&e.has(t.content.type.nodeName))||t.content.type._length===0,gde=({protectedNodes:t=fde,trackedOrigins:e=[],undoManager:r=null}={})=>new Oe({key:vs,state:{init:(n,i)=>{const s=ft.getState(i),o=r||new bj(s.type,{trackedOrigins:new Set([ft].concat(e)),deleteFilter:a=>pde(a,t),captureTransaction:a=>a.meta.get("addToHistory")!==!1});return{undoManager:o,prevSel:null,hasUndoOps:o.undoStack.length>0,hasRedoOps:o.redoStack.length>0}},apply:(n,i,s,o)=>{const a=ft.getState(o).binding,l=i.undoManager,c=l.undoStack.length>0,u=l.redoStack.length>0;return a?{undoManager:l,prevSel:r0(a,s),hasUndoOps:c,hasRedoOps:u}:c!==i.hasUndoOps||u!==i.hasRedoOps?Object.assign({},i,{hasUndoOps:l.undoStack.length>0,hasRedoOps:l.redoStack.length>0}):i}},view:n=>{const i=ft.getState(n.state),s=vs.getState(n.state).undoManager;return s.on("stack-item-added",({stackItem:o})=>{const a=i.binding;a&&o.meta.set(a,vs.getState(n.state).prevSel)}),s.on("stack-item-popped",({stackItem:o})=>{const a=i.binding;a&&(a.beforeTransactionSelection=o.meta.get(a)||a.beforeTransactionSelection)}),{destroy:()=>{s.destroy()}}}}),mde=ct.create({name:"collaboration",priority:1e3,addOptions(){return{document:null,field:"default",fragment:null}},onCreate(){this.editor.extensionManager.extensions.find(t=>t.name==="history")&&console.warn('[tiptap warn]: "@tiptap/extension-collaboration" comes with its own history support and is not compatible with "@tiptap/extension-history".')},addCommands(){return{undo:()=>({tr:t,state:e,dispatch:r})=>(t.setMeta("preventDispatch",!0),vs.getState(e).undoManager.undoStack.length===0?!1:r?dde(e):!0),redo:()=>({tr:t,state:e,dispatch:r})=>(t.setMeta("preventDispatch",!0),vs.getState(e).undoManager.redoStack.length===0?!1:r?hde(e):!0)}},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo()}},addProseMirrorPlugins(){const t=this.options.fragment?this.options.fragment:this.options.document.getXmlFragment(this.options.field),e=gde(),r=e.spec.view;e.spec.view=s=>{const{undoManager:o}=vs.getState(s.state);o.restore&&(o.restore(),o.restore=()=>{});const a=r?r(s):void 0;return{destroy:()=>{const l=o.trackedOrigins.has(o),c=o._observers;o.restore=()=>{l&&o.trackedOrigins.add(o),o.doc.on("afterTransaction",o.afterTransactionHandler),o._observers=c},a?.destroy&&a.destroy()}}};const n={...this.options.ySyncOptions,onFirstRender:this.options.onFirstRender};return[Yue(t,n),e]}}),Px=t=>Array.from(t.entries()).map(([e,r])=>({clientId:e,...r.user})),Lx=()=>null,yde=ct.create({name:"collaborationCursor",priority:999,addOptions(){return{provider:null,user:{name:null,color:null},render:t=>{const e=document.createElement("span");e.classList.add("collaboration-cursor__caret"),e.setAttribute("style",`border-color: ${t.color}`);const r=document.createElement("div");return r.classList.add("collaboration-cursor__label"),r.setAttribute("style",`background-color: ${t.color}`),r.insertBefore(document.createTextNode(t.name),null),e.insertBefore(r,null),e},selectionRender:Wj,onUpdate:Lx}},onCreate(){if(this.options.onUpdate!==Lx&&console.warn('[tiptap warn]: DEPRECATED: The "onUpdate" option is deprecated. Please use `editor.storage.collaborationCursor.users` instead. Read more: https://tiptap.dev/api/extensions/collaboration-cursor'),!this.options.provider)throw new Error('The "provider" option is required for the CollaborationCursor extension')},addStorage(){return{users:[]}},addCommands(){return{updateUser:t=>()=>(this.options.user=t,this.options.provider.awareness.setLocalStateField("user",this.options.user),!0),user:t=>({editor:e})=>(console.warn('[tiptap warn]: DEPRECATED: The "user" command is deprecated. Please use "updateUser" instead. Read more: https://tiptap.dev/api/extensions/collaboration-cursor'),e.commands.updateUser(t))}},addProseMirrorPlugins(){return[ude((this.options.provider.awareness.setLocalStateField("user",this.options.user),this.storage.users=Px(this.options.provider.awareness.states),this.options.provider.awareness.on("update",()=>{this.storage.users=Px(this.options.provider.awareness.states)}),this.options.provider.awareness),{cursorBuilder:this.options.render,selectionBuilder:this.options.selectionRender})]}});function vde(t={}){return new Oe({view(e){return new bde(e,t)}})}class bde{constructor(e,r){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:r})=>this.editorView.dom.removeEventListener(e,r))}update(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),r=!e.parent.inlineContent,n;if(r){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let u=c.getBoundingClientRect(),d=a?u.bottom:u.top;a&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:u.left,right:u.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!n){let a=this.editorView.coordsAtPos(this.cursorPos);n={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let s,o;if(!i||i==document.body&&getComputedStyle(i).position=="static")s=-pageXOffset,o=-pageYOffset;else{let a=i.getBoundingClientRect();s=a.left-i.scrollLeft,o=a.top-i.scrollTop}this.element.style.left=n.left-s+"px",this.element.style.top=n.top-o+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),i=n&&n.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,r,e):i;if(r&&!s){let o=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=kV(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const wde=ct.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[vde(this.options)]}});class yt extends se{constructor(e){super(e,e)}map(e,r){let n=e.resolve(r.map(this.head));return yt.valid(n)?new yt(n):se.near(n)}content(){return N.empty}eq(e){return e instanceof yt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new yt(e.resolve(r.pos))}getBookmark(){return new Kk(this.anchor)}static valid(e){let r=e.parent;if(r.isTextblock||!_de(e)||!Cde(e))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let i=r.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,r,n=!1){e:for(;;){if(!n&&yt.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(r>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(r>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=r;let l=e.doc.resolve(i);if(yt.valid(l))return l}for(;;){let o=r>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!X.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*r),n=!1;continue e}break}s=o,i+=r;let a=e.doc.resolve(i);if(yt.valid(a))return a}return null}}}yt.prototype.visible=!1;yt.findFrom=yt.findGapCursorFrom;se.jsonID("gapcursor",yt);class Kk{constructor(e){this.pos=e}map(e){return new Kk(e.map(this.pos))}resolve(e){let r=e.resolve(this.pos);return yt.valid(r)?new yt(r):se.near(r)}}function _de(t){for(let e=t.depth;e>=0;e--){let r=t.index(e),n=t.node(e);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let i=n.child(r-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function Cde(t){for(let e=t.depth;e>=0;e--){let r=t.indexAfter(e),n=t.node(e);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let i=n.child(r);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function Ede(){return new Oe({props:{decorations:Sde,createSelectionBetween(t,e,r){return e.pos==r.pos&&yt.valid(r)?new yt(r):null},handleClick:kde,handleKeyDown:Dde,handleDOMEvents:{beforeinput:Mde}}})}const Dde=wk({ArrowLeft:$f("horiz",-1),ArrowRight:$f("horiz",1),ArrowUp:$f("vert",-1),ArrowDown:$f("vert",1)});function $f(t,e){const r=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,i,s){let o=n.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof te){if(!s.endOfTextblock(r)||a.depth==0)return!1;l=!1,a=n.doc.resolve(e>0?a.after():a.before())}let c=yt.findGapCursorFrom(a,e,l);return c?(i&&i(n.tr.setSelection(new yt(c))),!0):!1}}function kde(t,e,r){if(!t||!t.editable)return!1;let n=t.state.doc.resolve(e);if(!yt.valid(n))return!1;let i=t.posAtCoords({left:r.clientX,top:r.clientY});return i&&i.inside>-1&&X.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new yt(n))),!0)}function Mde(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof yt))return!1;let{$from:r}=t.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(t.state.schema.nodes.text);if(!n)return!1;let i=S.empty;for(let o=n.length-1;o>=0;o--)i=S.from(n[o].createAndFill(null,i));let s=t.state.tr.replace(r.pos,r.pos,new N(i,0,0));return s.setSelection(te.near(s.doc.resolve(r.pos+1))),t.dispatch(s),!1}function Sde(t){if(!(t.selection instanceof yt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",ze.create(t.doc,[vt.widget(t.selection.head,e,{key:"gapcursor"})])}const Tde=ct.create({name:"gapCursor",addProseMirrorPlugins(){return[Ede()]},extendNodeSchema(t){var e;const r={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Ie(Z(t,"allowGapCursor",r)))!==null&&e!==void 0?e:null}}}),Ide=hi.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",er(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:r,editor:n})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=r;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=n.extensionManager,l=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&o){const d=l.filter(h=>a.includes(h.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}});var hm=200,Kt=function(){};Kt.prototype.append=function(e){return e.length?(e=Kt.from(e),!this.length&&e||e.length<hm&&this.leafAppend(e)||this.length<hm&&e.leafPrepend(this)||this.appendInner(e)):this};Kt.prototype.prepend=function(e){return e.length?Kt.from(e).append(this):this};Kt.prototype.appendInner=function(e){return new xde(this,e)};Kt.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?Kt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};Kt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Kt.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};Kt.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},r,n),i};Kt.from=function(e){return e instanceof Kt?e:e&&e.length?new Gj(e):Kt.empty};var Gj=function(t){function e(n){t.call(this),this.values=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=hm)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=hm)return new e(i.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e}(Kt);Kt.empty=new Gj([]);var xde=function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(n,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(n,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(n,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(n,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(n,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(n,i):n>=s?this.right.slice(n-s,i-s):this.left.slice(n,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new e(i,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(Kt);const Ade=500;class zr{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let i,s;r&&(i=this.remapping(n,this.items.length),s=i.maps.length);let o=e.tr,a,l,c=[],u=[];return this.items.forEach((d,h)=>{if(!d.step){i||(i=this.remapping(n,h+1),s=i.maps.length),s--,u.push(d);return}if(i){u.push(new bi(d.map));let f=d.step.map(i.slice(s)),p;f&&o.maybeStep(f).doc&&(p=o.mapping.maps[o.mapping.maps.length-1],c.push(new bi(p,void 0,void 0,c.length+u.length))),s--,p&&i.appendMap(p,s)}else o.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(s)):d.selection,l=new zr(this.items.slice(0,n).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,r,n,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),h=new bi(e.mapping.maps[u],d,r),f;(f=l&&l.merge(h))&&(h=f,u?s.pop():a=a.slice(0,a.length-1)),s.push(h),r&&(o++,r=void 0),i||(l=h)}let c=o-n.depth;return c>Rde&&(a=Ode(a,c),o-=c),new zr(a.append(s),o)}remapping(e,r){let n=new Jl;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?n.maps.length-i.mirrorOffset:void 0;n.appendMap(i.map,o)},e,r),n}addMaps(e){return this.eventCount==0?this:new zr(this.items.append(e.map(r=>new bi(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-r),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(h=>{h.selection&&a--},i);let l=r;this.items.forEach(h=>{let f=s.getMirror(--l);if(f==null)return;o=Math.min(o,f);let p=s.maps[f];if(h.step){let g=e.steps[f].invert(e.docs[f]),m=h.selection&&h.selection.map(s.slice(l+1,f));m&&a++,n.push(new bi(p,g,m))}else n.push(new bi(p))},i);let c=[];for(let h=r;h<o;h++)c.push(new bi(s.maps[h]));let u=this.items.slice(0,i).append(c).append(n),d=new zr(u,a);return d.emptyItemCount()>Ade&&(d=d.compress(this.items.length-n.length)),d}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(r.slice(n)),c=l&&l.getMap();if(n--,c&&r.appendMap(c,n),l){let u=o.selection&&o.selection.map(r.slice(n));u&&s++;let d=new bi(c.invert(),l,u),h,f=i.length-1;(h=i.length&&i[f].merge(d))?i[f]=h:i.push(d)}}else o.map&&n--},this.items.length,0),new zr(Kt.from(i.reverse()),s)}}zr.empty=new zr(Kt.empty,0);function Ode(t,e){let r;return t.forEach((n,i)=>{if(n.selection&&e--==0)return r=i,!1}),t.slice(r)}class bi{constructor(e,r,n,i){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new bi(r.getMap().invert(),r,this.selection)}}}class $s{constructor(e,r,n,i,s){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=i,this.prevComposition=s}}const Rde=20;function Nde(t,e,r,n){let i=r.getMeta(ba),s;if(i)return i.historyState;r.getMeta(Fde)&&(t=new $s(t.done,t.undone,null,0,-1));let o=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(o&&o.getMeta(ba))return o.getMeta(ba).redo?new $s(t.done.addTransform(r,void 0,n,Ip(e)),t.undone,Fx(r.mapping.maps),t.prevTime,t.prevComposition):new $s(t.done,t.undone.addTransform(r,void 0,n,Ip(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=r.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(r.time||0)-n.newGroupDelay||!Pde(r,t.prevRanges)),c=o?ww(t.prevRanges,r.mapping):Fx(r.mapping.maps);return new $s(t.done.addTransform(r,l?e.selection.getBookmark():void 0,n,Ip(e)),zr.empty,c,r.time,a??t.prevComposition)}else return(s=r.getMeta("rebased"))?new $s(t.done.rebased(r,s),t.undone.rebased(r,s),ww(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new $s(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),ww(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function Pde(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,i)=>{for(let s=0;s<e.length;s+=2)n<=e[s+1]&&i>=e[s]&&(r=!0)}),r}function Fx(t){let e=[];for(let r=t.length-1;r>=0&&e.length==0;r--)t[r].forEach((n,i,s,o)=>e.push(s,o));return e}function ww(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let i=e.map(t[n],1),s=e.map(t[n+1],-1);i<=s&&r.push(i,s)}return r}function Lde(t,e,r){let n=Ip(e),i=ba.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,n);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,n),l=new $s(r?a:s.remaining,r?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(ba,{redo:r,historyState:l})}let _w=!1,Bx=null;function Ip(t){let e=t.plugins;if(Bx!=e){_w=!1,Bx=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){_w=!0;break}}return _w}const ba=new Je("history"),Fde=new Je("closeHistory");function Bde(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Oe({key:ba,state:{init(){return new $s(zr.empty,zr.empty,null,0,-1)},apply(e,r,n){return Nde(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,i=n=="historyUndo"?Kj:n=="historyRedo"?Zj:null;return i?(r.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function qj(t,e){return(r,n)=>{let i=ba.getState(r);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(n){let s=Lde(i,r,t);s&&n(e?s.scrollIntoView():s)}return!0}}const Kj=qj(!1,!0),Zj=qj(!0,!0),Vde=ct.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Kj(t,e),redo:()=>({state:t,dispatch:e})=>Zj(t,e)}},addProseMirrorPlugins(){return[Bde(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),Hde="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",jde="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",xc=(t,e)=>{for(const r in e)t[r]=e[r];return t},a0="numeric",l0="ascii",c0="alpha",xp="asciinumeric",zf="alphanumeric",u0="domain",Yj="emoji",Ude="scheme",$de="slashscheme",Vx="whitespace";function zde(t,e){return t in e||(e[t]=[]),e[t]}function la(t,e,r){e[a0]&&(e[xp]=!0,e[zf]=!0),e[l0]&&(e[xp]=!0,e[c0]=!0),e[xp]&&(e[zf]=!0),e[c0]&&(e[zf]=!0),e[zf]&&(e[u0]=!0),e[Yj]&&(e[u0]=!0);for(const n in e){const i=zde(n,r);i.indexOf(t)<0&&i.push(t)}}function Wde(t,e){const r={};for(const n in e)e[n].indexOf(t)>=0&&(r[n]=!0);return r}function In(t){t===void 0&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}In.groups={};In.prototype={accepts(){return!!this.t},go(t){const e=this,r=e.j[t];if(r)return r;for(let n=0;n<e.jr.length;n++){const i=e.jr[n][0],s=e.jr[n][1];if(s&&i.test(t))return s}return e.jd},has(t,e){return e===void 0&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,r,n){for(let i=0;i<t.length;i++)this.tt(t[i],e,r,n)},tr(t,e,r,n){n=n||In.groups;let i;return e&&e.j?i=e:(i=new In(e),r&&n&&la(e,r,n)),this.jr.push([t,i]),i},ts(t,e,r,n){let i=this;const s=t.length;if(!s)return i;for(let o=0;o<s-1;o++)i=i.tt(t[o]);return i.tt(t[s-1],e,r,n)},tt(t,e,r,n){n=n||In.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let o,a=i.go(t);if(a?(o=new In,xc(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new In,s){if(n)if(o.t&&typeof o.t=="string"){const l=xc(Wde(o.t,n),r);la(s,l,n)}else r&&la(s,r,n);o.t=s}return i.j[t]=o,o}};const we=(t,e,r,n,i)=>t.ta(e,r,n,i),sr=(t,e,r,n,i)=>t.tr(e,r,n,i),Hx=(t,e,r,n,i)=>t.ts(e,r,n,i),U=(t,e,r,n,i)=>t.tt(e,r,n,i),is="WORD",d0="UWORD",nh="LOCALHOST",h0="TLD",f0="UTLD",Ap="SCHEME",xl="SLASH_SCHEME",Zk="NUM",Jj="WS",Yk="NL",od="OPENBRACE",ad="CLOSEBRACE",fm="OPENBRACKET",pm="CLOSEBRACKET",gm="OPENPAREN",mm="CLOSEPAREN",ym="OPENANGLEBRACKET",vm="CLOSEANGLEBRACKET",bm="FULLWIDTHLEFTPAREN",wm="FULLWIDTHRIGHTPAREN",_m="LEFTCORNERBRACKET",Cm="RIGHTCORNERBRACKET",Em="LEFTWHITECORNERBRACKET",Dm="RIGHTWHITECORNERBRACKET",km="FULLWIDTHLESSTHAN",Mm="FULLWIDTHGREATERTHAN",Sm="AMPERSAND",Tm="APOSTROPHE",Im="ASTERISK",zs="AT",xm="BACKSLASH",Am="BACKTICK",Om="CARET",qs="COLON",Jk="COMMA",Rm="DOLLAR",wi="DOT",Nm="EQUALS",Xk="EXCLAMATION",_i="HYPHEN",Pm="PERCENT",Lm="PIPE",Fm="PLUS",Bm="POUND",Vm="QUERY",Qk="QUOTE",eM="SEMI",Ci="SLASH",ld="TILDE",Hm="UNDERSCORE",Xj="EMOJI",jm="SYM";var Qj=Object.freeze({__proto__:null,WORD:is,UWORD:d0,LOCALHOST:nh,TLD:h0,UTLD:f0,SCHEME:Ap,SLASH_SCHEME:xl,NUM:Zk,WS:Jj,NL:Yk,OPENBRACE:od,CLOSEBRACE:ad,OPENBRACKET:fm,CLOSEBRACKET:pm,OPENPAREN:gm,CLOSEPAREN:mm,OPENANGLEBRACKET:ym,CLOSEANGLEBRACKET:vm,FULLWIDTHLEFTPAREN:bm,FULLWIDTHRIGHTPAREN:wm,LEFTCORNERBRACKET:_m,RIGHTCORNERBRACKET:Cm,LEFTWHITECORNERBRACKET:Em,RIGHTWHITECORNERBRACKET:Dm,FULLWIDTHLESSTHAN:km,FULLWIDTHGREATERTHAN:Mm,AMPERSAND:Sm,APOSTROPHE:Tm,ASTERISK:Im,AT:zs,BACKSLASH:xm,BACKTICK:Am,CARET:Om,COLON:qs,COMMA:Jk,DOLLAR:Rm,DOT:wi,EQUALS:Nm,EXCLAMATION:Xk,HYPHEN:_i,PERCENT:Pm,PIPE:Lm,PLUS:Fm,POUND:Bm,QUERY:Vm,QUOTE:Qk,SEMI:eM,SLASH:Ci,TILDE:ld,UNDERSCORE:Hm,EMOJI:Xj,SYM:jm});const Dl=/[a-z]/,Cw=/\p{L}/u,Ew=/\p{Emoji}/u,Dw=/\d/,jx=/\s/,Ux=`
`,Gde="️",qde="‍";let Wf=null,Gf=null;function Kde(t){t===void 0&&(t=[]);const e={};In.groups=e;const r=new In;Wf==null&&(Wf=$x(Hde)),Gf==null&&(Gf=$x(jde)),U(r,"'",Tm),U(r,"{",od),U(r,"}",ad),U(r,"[",fm),U(r,"]",pm),U(r,"(",gm),U(r,")",mm),U(r,"<",ym),U(r,">",vm),U(r,"（",bm),U(r,"）",wm),U(r,"「",_m),U(r,"」",Cm),U(r,"『",Em),U(r,"』",Dm),U(r,"＜",km),U(r,"＞",Mm),U(r,"&",Sm),U(r,"*",Im),U(r,"@",zs),U(r,"`",Am),U(r,"^",Om),U(r,":",qs),U(r,",",Jk),U(r,"$",Rm),U(r,".",wi),U(r,"=",Nm),U(r,"!",Xk),U(r,"-",_i),U(r,"%",Pm),U(r,"|",Lm),U(r,"+",Fm),U(r,"#",Bm),U(r,"?",Vm),U(r,'"',Qk),U(r,"/",Ci),U(r,";",eM),U(r,"~",ld),U(r,"_",Hm),U(r,"\\",xm);const n=sr(r,Dw,Zk,{[a0]:!0});sr(n,Dw,n);const i=sr(r,Dl,is,{[l0]:!0});sr(i,Dl,i);const s=sr(r,Cw,d0,{[c0]:!0});sr(s,Dl),sr(s,Cw,s);const o=sr(r,jx,Jj,{[Vx]:!0});U(r,Ux,Yk,{[Vx]:!0}),U(o,Ux),sr(o,jx,o);const a=sr(r,Ew,Xj,{[Yj]:!0});sr(a,Ew,a),U(a,Gde,a);const l=U(a,qde);sr(l,Ew,a);const c=[[Dl,i]],u=[[Dl,null],[Cw,s]];for(let d=0;d<Wf.length;d++)Vs(r,Wf[d],h0,is,c);for(let d=0;d<Gf.length;d++)Vs(r,Gf[d],f0,d0,u);la(h0,{tld:!0,ascii:!0},e),la(f0,{utld:!0,alpha:!0},e),Vs(r,"file",Ap,is,c),Vs(r,"mailto",Ap,is,c),Vs(r,"http",xl,is,c),Vs(r,"https",xl,is,c),Vs(r,"ftp",xl,is,c),Vs(r,"ftps",xl,is,c),la(Ap,{scheme:!0,ascii:!0},e),la(xl,{slashscheme:!0,ascii:!0},e),t=t.sort((d,h)=>d[0]>h[0]?1:-1);for(let d=0;d<t.length;d++){const h=t[d][0],p=t[d][1]?{[Ude]:!0}:{[$de]:!0};h.indexOf("-")>=0?p[u0]=!0:Dl.test(h)?Dw.test(h)?p[xp]=!0:p[l0]=!0:p[a0]=!0,Hx(r,h,h,p)}return Hx(r,"localhost",nh,{ascii:!0}),r.jd=new In(jm),{start:r,tokens:xc({groups:e},Qj)}}function Zde(t,e){const r=Yde(e.replace(/[A-Z]/g,a=>a.toLowerCase())),n=r.length,i=[];let s=0,o=0;for(;o<n;){let a=t,l=null,c=0,u=null,d=-1,h=-1;for(;o<n&&(l=a.go(r[o]));)a=l,a.accepts()?(d=0,h=0,u=a):d>=0&&(d+=r[o].length,h++),c+=r[o].length,s+=r[o].length,o++;s-=d,o-=h,c-=d,i.push({t:u.t,v:e.slice(s-c,s),s:s-c,e:s})}return i}function Yde(t){const e=[],r=t.length;let n=0;for(;n<r;){let i=t.charCodeAt(n),s,o=i<55296||i>56319||n+1===r||(s=t.charCodeAt(n+1))<56320||s>57343?t[n]:t.slice(n,n+2);e.push(o),n+=o.length}return e}function Vs(t,e,r,n,i){let s;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];t.j[l]?s=t.j[l]:(s=new In(n),s.jr=i.slice(),t.j[l]=s),t=s}return s=new In(r),s.jr=i.slice(),t.j[e[o-1]]=s,s}function $x(t){const e=[],r=[];let n=0,i="0123456789";for(;n<t.length;){let s=0;for(;i.indexOf(t[n+s])>=0;)s++;if(s>0){e.push(r.join(""));for(let o=parseInt(t.substring(n,n+s),10);o>0;o--)r.pop();n+=s}else r.push(t[n]),n++}return e}const rh={defaultProtocol:"http",events:null,format:zx,formatHref:zx,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function tM(t,e){e===void 0&&(e=null);let r=xc({},rh);t&&(r=xc(r,t instanceof tM?t.o:t));const n=r.ignoreTags,i=[];for(let s=0;s<n.length;s++)i.push(n[s].toUpperCase());this.o=r,e&&(this.defaultRender=e),this.ignoreTags=i}tM.prototype={o:rh,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,r){const n=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=r.t in i?i[r.t]:rh[t],typeof i=="function"&&n&&(i=i(e,r))):typeof i=="function"&&n&&(i=i(e,r.t,r)),i)},getObj(t,e,r){let n=this.o[t];return typeof n=="function"&&e!=null&&(n=n(e,r.t,r)),n},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function zx(t){return t}function eU(t,e){this.t="token",this.v=t,this.tk=e}eU.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),r=t.get("truncate",e,this),n=t.get("format",e,this);return r&&n.length>r?n.substring(0,r)+"…":n},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return t===void 0&&(t=rh.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,r=this.toHref(t.get("defaultProtocol")),n=t.get("formatHref",r,this),i=t.get("tagName",r,e),s=this.toFormattedString(t),o={},a=t.get("className",r,e),l=t.get("target",r,e),c=t.get("rel",r,e),u=t.getObj("attributes",r,e),d=t.getObj("events",r,e);return o.href=n,a&&(o.class=a),l&&(o.target=l),c&&(o.rel=c),u&&xc(o,u),{tagName:i,attributes:o,content:s,eventListeners:d}}};function Ov(t,e){class r extends eU{constructor(i,s){super(i,s),this.t=t}}for(const n in e)r.prototype[n]=e[n];return r.t=t,r}const Wx=Ov("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Gx=Ov("text"),Jde=Ov("nl"),qf=Ov("url",{isLink:!0,toHref(t){return t===void 0&&(t=rh.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==nh&&t[1].t===qs}}),or=t=>new In(t);function Xde(t){let{groups:e}=t;const r=e.domain.concat([Sm,Im,zs,xm,Am,Om,Rm,Nm,_i,Zk,Pm,Lm,Fm,Bm,Ci,jm,ld,Hm]),n=[Tm,qs,Jk,wi,Xk,Vm,Qk,eM,ym,vm,od,ad,pm,fm,gm,mm,bm,wm,_m,Cm,Em,Dm,km,Mm],i=[Sm,Tm,Im,xm,Am,Om,Rm,Nm,_i,od,ad,Pm,Lm,Fm,Bm,Vm,Ci,jm,ld,Hm],s=or(),o=U(s,ld);we(o,i,o),we(o,e.domain,o);const a=or(),l=or(),c=or();we(s,e.domain,a),we(s,e.scheme,l),we(s,e.slashscheme,c),we(a,i,o),we(a,e.domain,a);const u=U(a,zs);U(o,zs,u),U(l,zs,u),U(c,zs,u);const d=U(o,wi);we(d,i,o),we(d,e.domain,o);const h=or();we(u,e.domain,h),we(h,e.domain,h);const f=U(h,wi);we(f,e.domain,h);const p=or(Wx);we(f,e.tld,p),we(f,e.utld,p),U(u,nh,p);const g=U(h,_i);we(g,e.domain,h),we(p,e.domain,h),U(p,wi,f),U(p,_i,g);const m=U(p,qs);we(m,e.numeric,Wx);const y=U(a,_i),v=U(a,wi);we(y,e.domain,a),we(v,i,o),we(v,e.domain,a);const b=or(qf);we(v,e.tld,b),we(v,e.utld,b),we(b,e.domain,a),we(b,i,o),U(b,wi,v),U(b,_i,y),U(b,zs,u);const C=U(b,qs),M=or(qf);we(C,e.numeric,M);const T=or(qf),F=or();we(T,r,T),we(T,n,F),we(F,r,T),we(F,n,F),U(b,Ci,T),U(M,Ci,T);const R=U(l,qs),$=U(c,qs),q=U($,Ci),K=U(q,Ci);we(l,e.domain,a),U(l,wi,v),U(l,_i,y),we(c,e.domain,a),U(c,wi,v),U(c,_i,y),we(R,e.domain,T),U(R,Ci,T),we(K,e.domain,T),we(K,r,T),U(K,Ci,T);const H=[[od,ad],[fm,pm],[gm,mm],[ym,vm],[bm,wm],[_m,Cm],[Em,Dm],[km,Mm]];for(let ne=0;ne<H.length;ne++){const[He,Le]=H[ne],Q=U(T,He);U(F,He,Q),U(Q,Le,T);const j=or(qf);we(Q,r,j);const x=or();we(Q,n),we(j,r,j),we(j,n,x),we(x,r,j),we(x,n,x),U(j,Le,T),U(x,Le,T)}return U(s,nh,b),U(s,Yk,Jde),{start:s,tokens:Qj}}function Qde(t,e,r){let n=r.length,i=0,s=[],o=[];for(;i<n;){let a=t,l=null,c=null,u=0,d=null,h=-1;for(;i<n&&!(l=a.go(r[i].t));)o.push(r[i++]);for(;i<n&&(c=l||a.go(r[i].t));)l=null,a=c,a.accepts()?(h=0,d=a):h>=0&&h++,i++,u++;if(h<0)i-=u,i<n&&(o.push(r[i]),i++);else{o.length>0&&(s.push(kw(Gx,e,o)),o=[]),i-=h,u-=h;const f=d.t,p=r.slice(i-u,i);s.push(kw(f,e,p))}}return o.length>0&&s.push(kw(Gx,e,o)),s}function kw(t,e,r){const n=r[0].s,i=r[r.length-1].e,s=e.slice(n,i);return new t(s,r)}const ehe=typeof console<"u"&&console&&console.warn||(()=>{}),the="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",ht={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function nhe(){In.groups={},ht.scanner=null,ht.parser=null,ht.tokenQueue=[],ht.pluginQueue=[],ht.customSchemes=[],ht.initialized=!1}function qx(t,e){if(e===void 0&&(e=!1),ht.initialized&&ehe(`linkifyjs: already initialized - will not register custom scheme "${t}" ${the}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);ht.customSchemes.push([t,e])}function rhe(){ht.scanner=Kde(ht.customSchemes);for(let t=0;t<ht.tokenQueue.length;t++)ht.tokenQueue[t][1]({scanner:ht.scanner});ht.parser=Xde(ht.scanner.tokens);for(let t=0;t<ht.pluginQueue.length;t++)ht.pluginQueue[t][1]({scanner:ht.scanner,parser:ht.parser});ht.initialized=!0}function tU(t){return ht.initialized||rhe(),Qde(ht.parser.start,t,Zde(ht.scanner.start,t))}function nU(t,e,r){if(e===void 0&&(e=null),r===void 0&&(r=null),e&&typeof e=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);r=e,e=null}const n=new tM(r),i=tU(t),s=[];for(let o=0;o<i.length;o++){const a=i[o];a.isLink&&(!e||a.t===e)&&n.check(a)&&s.push(a.toFormattedObject(n))}return s}function ihe(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function she(t){return new Oe({key:new Je("autolink"),appendTransaction:(e,r,n)=>{const i=e.some(c=>c.docChanged)&&!r.doc.eq(n.doc),s=e.some(c=>c.getMeta("preventAutolink"));if(!i||s)return;const{tr:o}=n,a=AH(r.doc,[...e]);if(NH(a).forEach(({newRange:c})=>{const u=OH(n.doc,c,f=>f.isTextblock);let d,h;if(u.length>1?(d=u[0],h=n.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ")):u.length&&n.doc.textBetween(c.from,c.to," "," ").endsWith(" ")&&(d=u[0],h=n.doc.textBetween(d.pos,c.to,void 0," ")),d&&h){const f=h.split(" ").filter(y=>y!=="");if(f.length<=0)return!1;const p=f[f.length-1],g=d.pos+h.lastIndexOf(p);if(!p)return!1;const m=tU(p).map(y=>y.toObject(t.defaultProtocol));if(!ihe(m))return!1;m.filter(y=>y.isLink).map(y=>({...y,from:g+y.start+1,to:g+y.end+1})).filter(y=>n.schema.marks.code?!n.doc.rangeHasMark(y.from,y.to,n.schema.marks.code):!0).filter(y=>t.validate(y.value)).forEach(y=>{Mk(y.from,y.to,n.doc).some(v=>v.mark.type===t.type)||o.addMark(y.from,y.to,t.type.create({href:y.href}))})}}),!!o.steps.length)return o}})}function ohe(t){return new Oe({key:new Je("handleClickLink"),props:{handleClick:(e,r,n)=>{var i,s;if(n.button!==0||!e.editable)return!1;let o=n.target;const a=[];for(;o.nodeName!=="DIV";)a.push(o),o=o.parentNode;if(!a.find(h=>h.nodeName==="A"))return!1;const l=RH(e.state,t.type.name),c=n.target,u=(i=c?.href)!==null&&i!==void 0?i:l.href,d=(s=c?.target)!==null&&s!==void 0?s:l.target;return c&&u?(window.open(u,d),!0):!1}}})}function ahe(t){return new Oe({key:new Je("handlePasteLink"),props:{handlePaste:(e,r,n)=>{const{state:i}=e,{selection:s}=i,{empty:o}=s;if(o)return!1;let a="";n.content.forEach(c=>{a+=c.textContent});const l=nU(a,{defaultProtocol:t.defaultProtocol}).find(c=>c.isLink&&c.value===a);return!a||!l?!1:(t.editor.commands.setMark(t.type,{href:l.href}),!0)}}})}const lhe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function Kx(t,e){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(n=>{const i=typeof n=="string"?n:n.scheme;i&&r.push(i)}),!t||t.replace(lhe,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z+.-]+(?:[^a-z+.-:]|$))`,"i"))}const che=Ar.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.protocols.forEach(t=>{if(typeof t=="string"){qx(t);return}qx(t.scheme,t.optionalSlashes)})},onDestroy(){nhe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!Kx(e,this.options.protocols)?!1:null}}]},renderHTML({HTMLAttributes:t}){return Kx(t.href,this.options.protocols)?["a",er(this.options.HTMLAttributes,t),0]:["a",er(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>e().setMark(this.name,t).setMeta("preventAutolink",!0).run(),toggleLink:t=>({chain:e})=>e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ja({find:t=>{const e=[];if(t){const{validate:r}=this.options,n=nU(t).filter(i=>i.isLink&&r(i.value));n.length&&n.forEach(i=>e.push({text:i.value,data:{href:i.href},index:i.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[];return this.options.autolink&&t.push(she({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:this.options.validate})),this.options.openOnClick===!0&&t.push(ohe({type:this.type})),this.options.linkOnPaste&&t.push(ahe({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),uhe=hi.create({name:"text",group:"inline"});var dhe=Object.defineProperty,hhe=(t,e,r)=>e in t?dhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,D=(t,e,r)=>hhe(t,typeof e!="symbol"?e+"":e,r);const fhe={slash_menu:{heading:{title:"Heading 1",subtext:"Top-level heading",aliases:["h","heading1","h1"],group:"Headings"},heading_2:{title:"Heading 2",subtext:"Key section heading",aliases:["h2","heading2","subheading"],group:"Headings"},heading_3:{title:"Heading 3",subtext:"Subsection and group heading",aliases:["h3","heading3","subheading"],group:"Headings"},numbered_list:{title:"Numbered List",subtext:"List with ordered items",aliases:["ol","li","list","numberedlist","numbered list"],group:"Basic blocks"},bullet_list:{title:"Bullet List",subtext:"List with unordered items",aliases:["ul","li","list","bulletlist","bullet list"],group:"Basic blocks"},check_list:{title:"Check List",subtext:"List with checkboxes",aliases:["ul","li","list","checklist","check list","checked list","checkbox"],group:"Basic blocks"},paragraph:{title:"Paragraph",subtext:"The body of your document",aliases:["p","paragraph"],group:"Basic blocks"},table:{title:"Table",subtext:"Table with editable cells",aliases:["table"],group:"Advanced"},image:{title:"Image",subtext:"Resizable image with caption",aliases:["image","imageUpload","upload","img","picture","media","url"],group:"Media"},video:{title:"Video",subtext:"Resizable video with caption",aliases:["video","videoUpload","upload","mp4","film","media","url"],group:"Media"},audio:{title:"Audio",subtext:"Embedded audio with caption",aliases:["audio","audioUpload","upload","mp3","sound","media","url"],group:"Media"},file:{title:"File",subtext:"Embedded file",aliases:["file","upload","embed","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Search for and insert an emoji",aliases:["emoji","emote","emotion","face"],group:"Others"}},placeholders:{default:"Enter text or type '/' for commands",heading:"Heading",bulletListItem:"List",numberedListItem:"List",checkListItem:"List"},file_blocks:{image:{add_button_text:"Add image"},video:{add_button_text:"Add video"},audio:{add_button_text:"Add audio"},file:{add_button_text:"Add file"}},side_menu:{add_block_label:"Add block",drag_handle_label:"Open block menu"},drag_handle:{delete_menuitem:"Delete",colors_menuitem:"Colors"},table_handle:{delete_column_menuitem:"Delete column",delete_row_menuitem:"Delete row",add_left_menuitem:"Add column left",add_right_menuitem:"Add column right",add_above_menuitem:"Add row above",add_below_menuitem:"Add row below"},suggestion_menu:{no_items_title:"No items found",loading:"Loading…"},color_picker:{text_title:"Text",background_title:"Background",colors:{default:"Default",gray:"Gray",brown:"Brown",red:"Red",orange:"Orange",yellow:"Yellow",green:"Green",blue:"Blue",purple:"Purple",pink:"Pink"}},formatting_toolbar:{bold:{tooltip:"Bold",secondary_tooltip:"Mod+B"},italic:{tooltip:"Italic",secondary_tooltip:"Mod+I"},underline:{tooltip:"Underline",secondary_tooltip:"Mod+U"},strike:{tooltip:"Strike",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Colors"},link:{tooltip:"Create link",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Edit caption",input_placeholder:"Edit caption"},file_replace:{tooltip:{image:"Replace image",video:"Replace video",audio:"Replace audio",file:"Replace file"}},file_rename:{tooltip:{image:"Rename image",video:"Rename video",audio:"Rename audio",file:"Rename file"},input_placeholder:{image:"Rename image",video:"Rename video",audio:"Rename audio",file:"Rename file"}},file_download:{tooltip:{image:"Download image",video:"Download video",audio:"Download audio",file:"Download file"}},file_delete:{tooltip:{image:"Delete image",video:"Delete video",audio:"Delete audio",file:"Delete file"}},file_preview_toggle:{tooltip:"Toggle preview"},nest:{tooltip:"Nest block",secondary_tooltip:"Tab"},unnest:{tooltip:"Unnest block",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Align text left"},align_center:{tooltip:"Align text center"},align_right:{tooltip:"Align text right"},align_justify:{tooltip:"Justify text"}},file_panel:{upload:{title:"Upload",file_placeholder:{image:"Upload image",video:"Upload video",audio:"Upload audio",file:"Upload file"},upload_error:"Error: Upload failed"},embed:{title:"Embed",embed_button:{image:"Embed image",video:"Embed video",audio:"Embed audio",file:"Embed file"},url_placeholder:"Enter URL"}},link_toolbar:{delete:{tooltip:"Remove link"},edit:{text:"Edit link",tooltip:"Edit"},open:{tooltip:"Open in new tab"},form:{title_placeholder:"Edit title",url_placeholder:"Edit URL"}},generic:{ctrl_shortcut:"Ctrl"}};let to;async function Jh(){if(to)return to;const t=await Promise.all([mi(()=>import("./index-DStS94NO.js"),__vite__mapDeps([0,1,2,3])),mi(()=>import("./index-BUG1B8v1.js"),__vite__mapDeps([4,2,5,6])),mi(()=>import("./index-z_TnAjhb.js"),__vite__mapDeps([7,1,8,9])),mi(()=>import("./index-Cfkf-ciZ.js"),__vite__mapDeps([10,3,2])),mi(()=>import("./index-DL-UHulA.js"),__vite__mapDeps([11,8,1,12,13,14])),mi(()=>import("./index-BHMClKH2.js"),__vite__mapDeps([15,16,17,6,18,19])),mi(()=>import("./index-DJ9TW23k.js"),__vite__mapDeps([20,5,18,19,13,14,12])),mi(()=>import("./index-D0Zq5UJG.js"),__vite__mapDeps([21,16,17,19,9,14])),mi(()=>import("./index-BJQJQbXe.js"),__vite__mapDeps([22,17,13])),mi(()=>import("./index-LU8j6Jgc.js"),[])]);return to={rehypeParse:t[0],rehypeStringify:t[1],unified:t[2],hastUtilFromDom:t[3],rehypeRemark:t[4],remarkGfm:t[5],remarkStringify:t[6],remarkParse:t[7],remarkRehype:t[8],rehypeFormat:t[9]},to}function phe(t,e=JSON.stringify){const r={};return t.filter(n=>{const i=e(n);return Object.prototype.hasOwnProperty.call(r,i)?!1:r[i]=!0})}function ghe(t){const e=t.filter((r,n)=>t.indexOf(r)!==n);return phe(e)}const Rv=ct.create({name:"uniqueID",priority:1e4,addOptions(){return{attributeName:"id",types:[],generateID:()=>{if(typeof window<"u"&&window.__TEST_OPTIONS){const t=window.__TEST_OPTIONS;return t.mockID===void 0?t.mockID=0:t.mockID++,t.mockID.toString()}return fae()},filterTransaction:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{[this.options.attributeName]:{default:null,parseHTML:t=>t.getAttribute(`data-${this.options.attributeName}`),renderHTML:t=>({[`data-${this.options.attributeName}`]:t[this.options.attributeName]})}}}]},addProseMirrorPlugins(){let t=null,e=!1;return[new Oe({key:new Je("uniqueID"),appendTransaction:(r,n,i)=>{const s=r.some(f=>f.docChanged)&&!n.doc.eq(i.doc),o=this.options.filterTransaction&&r.some(f=>{let p,g;return!(!((g=(p=this.options).filterTransaction)===null||g===void 0)&&g.call(p,f))});if(!s||o)return;const{tr:a}=i,{types:l,attributeName:c,generateID:u}=this.options,d=AH(n.doc,r),{mapping:h}=d;if(NH(d).forEach(({newRange:f})=>{const p=OH(i.doc,f,y=>l.includes(y.type.name)),g=p.map(({node:y})=>y.attrs[c]).filter(y=>y!==null),m=ghe(g);p.forEach(({node:y,pos:v})=>{let b;const C=(b=a.doc.nodeAt(v))===null||b===void 0?void 0:b.attrs[c];if(C===null){const T=n.doc.type.createAndFill().content;if(n.doc.content.findDiffStart(T)===null){const F=JSON.parse(JSON.stringify(i.doc.toJSON()));if(F.content[0].content[0].attrs.id="initialBlockId",JSON.stringify(F.content)===JSON.stringify(T.toJSON())){a.setNodeMarkup(v,void 0,{...y.attrs,[c]:"initialBlockId"});return}}a.setNodeMarkup(v,void 0,{...y.attrs,[c]:u()});return}const{deleted:M}=h.invert().mapResult(v);M&&m.includes(C)&&a.setNodeMarkup(v,void 0,{...y.attrs,[c]:u()})})}),!!a.steps.length)return a},view(r){const n=i=>{let s;t=!((s=r.dom.parentElement)===null||s===void 0)&&s.contains(i.target)?r.dom.parentElement:null};return window.addEventListener("dragstart",n),{destroy(){window.removeEventListener("dragstart",n)}}},props:{handleDOMEvents:{drop:(r,n)=>{let i;return(t!==r.dom.parentElement||((i=n.dataTransfer)===null||i===void 0?void 0:i.effectAllowed)==="copy")&&(t=null,e=!0),!1},paste:()=>(e=!0,!1)},transformPasted:r=>{if(!e)return r;const{types:n,attributeName:i}=this.options,s=o=>{const a=[];return o.forEach(l=>{if(l.isText){a.push(l);return}if(!n.includes(l.type.name)){a.push(l.copy(s(l.content)));return}const c=l.type.create({...l.attrs,[i]:null},s(l.content),l.marks);a.push(c)}),S.from(a)};return e=!1,new N(s(r.content),r.openStart,r.openEnd)}}})]}});function rU(t){const e=t.attrs.id,r=t.firstChild,n=r.type,i=t.childCount===2?t.lastChild.childCount:0;return{id:e,node:t,contentNode:r,contentType:n,numChildBlocks:i}}function mt(t,e){const r=t.nodeSize-2;if(e<=1)for(e=2;t.resolve(e).parent.type.name!=="blockContainer"&&e<r;)e++;else if(e>=r)for(e=r-1;t.resolve(e).parent.type.name!=="blockContainer"&&e>1;)e--;t.resolve(e).parent.type.name==="blockGroup"&&e++;const n=t.resolve(e),i=n.depth;let s=n.node(i),o=i;for(;;){if(o<0)throw new Error("Could not find blockContainer node. This can only happen if the underlying BlockNote schema has been edited.");if(s.type.name==="blockContainer")break;o-=1,s=n.node(o)}const{id:a,contentNode:l,contentType:c,numChildBlocks:u}=rU(s),d=n.start(o),h=n.end(o);return{id:a,node:s,contentNode:l,contentType:c,numChildBlocks:u,startPos:d,endPos:h,depth:o}}function Zx(t){return t.type==="link"}function mhe(t){return typeof t!="string"&&t.type==="link"}function Um(t){return typeof t!="string"&&t.type==="text"}class po extends Error{constructor(e){super(`Unreachable case: ${e}`)}}function Yx(t,e,r){const n=[];for(const[i,s]of Object.entries(t.styles)){const o=r[i];if(!o)throw new Error(`style ${i} not found in styleSchema`);if(o.propSchema==="boolean")n.push(e.mark(i));else if(o.propSchema==="string")n.push(e.mark(i,{stringValue:s}));else throw new po(o.propSchema)}return t.text.split(/(\n)/g).filter(i=>i.length>0).map(i=>i===`
`?e.nodes.hardBreak.create():e.text(i,n))}function yhe(t,e,r){const n=e.marks.link.create({href:t.href});return p0(t.content,e,r).map(i=>{if(i.type.name==="text")return i.mark([...i.marks,n]);if(i.type.name==="hardBreak")return i;throw new Error("unexpected node type")})}function p0(t,e,r){const n=[];if(typeof t=="string")return n.push(...Yx({type:"text",text:t,styles:{}},e,r)),n;for(const i of t)n.push(...Yx(i,e,r));return n}function Ac(t,e,r){const n=[];for(const i of t)typeof i=="string"?n.push(...p0(i,e,r)):mhe(i)?n.push(...yhe(i,e,r)):Um(i)?n.push(...p0([i],e,r)):n.push(sU(i,e,r));return n}function iU(t,e,r){const n=[];for(const i of t.rows){const s=[];for(const a of i.cells){let l;if(!a)l=e.nodes.tableParagraph.create({});else if(typeof a=="string")l=e.nodes.tableParagraph.create({},e.text(a));else{const u=Ac(a,e,r);l=e.nodes.tableParagraph.create({},u)}const c=e.nodes.tableCell.create({},l);s.push(c)}const o=e.nodes.tableRow.create({},s);n.push(o)}return n}function sU(t,e,r){let n,i=t.type;if(i===void 0&&(i="paragraph"),!e.nodes[i])throw new Error(`node type ${i} not found in schema`);if(!t.content)n=e.nodes[i].create(t.props);else if(typeof t.content=="string"){const s=Ac([t.content],e,r);n=e.nodes[i].create(t.props,s)}else if(Array.isArray(t.content)){const s=Ac(t.content,e,r);n=e.nodes[i].create(t.props,s)}else if(t.content.type==="tableContent"){const s=iU(t.content,e,r);n=e.nodes[i].create(t.props,s)}else throw new po(t.content.type);return n}function Wo(t,e,r){let n=t.id;n===void 0&&(n=Rv.options.generateID());const i=sU(t,e,r),s=[];if(t.children)for(const a of t.children)s.push(Wo(a,e,r));const o=e.nodes.blockGroup.create({},s);return e.nodes.blockContainer.create({id:n,...t.props},s.length>0?[i,o]:i)}function vhe(t,e,r){const n={type:"tableContent",rows:[]};return t.content.forEach(i=>{const s={cells:[]};i.content.forEach(o=>{s.cells.push(nM(o.firstChild,e,r))}),n.rows.push(s)}),n}function nM(t,e,r){const n=[];let i;return t.content.forEach(s=>{if(s.type.name==="hardBreak"){if(i)if(Um(i))i.text+=`
`;else if(Zx(i))i.content[i.content.length-1].text+=`
`;else throw new Error("unexpected");else i={type:"text",text:`
`,styles:{}};return}if(s.type.name!=="link"&&s.type.name!=="text"&&e[s.type.name]){i&&(n.push(i),i=void 0),n.push(oU(s,e,r));return}const o={};let a;for(const l of s.marks)if(l.type.name==="link")a=l;else{const c=r[l.type.name];if(!c)throw new Error(`style ${l.type.name} not found in styleSchema`);if(c.propSchema==="boolean")o[c.type]=!0;else if(c.propSchema==="string")o[c.type]=l.attrs.stringValue;else throw new po(c.propSchema)}i?Um(i)?a?(n.push(i),i={type:"link",href:a.attrs.href,content:[{type:"text",text:s.textContent,styles:o}]}):JSON.stringify(i.styles)===JSON.stringify(o)?i.text+=s.textContent:(n.push(i),i={type:"text",text:s.textContent,styles:o}):Zx(i)&&(a?i.href===a.attrs.href?JSON.stringify(i.content[i.content.length-1].styles)===JSON.stringify(o)?i.content[i.content.length-1].text+=s.textContent:i.content.push({type:"text",text:s.textContent,styles:o}):(n.push(i),i={type:"link",href:a.attrs.href,content:[{type:"text",text:s.textContent,styles:o}]}):(n.push(i),i={type:"text",text:s.textContent,styles:o})):a?i={type:"link",href:a.attrs.href,content:[{type:"text",text:s.textContent,styles:o}]}:i={type:"text",text:s.textContent,styles:o}}),i&&n.push(i),n}function oU(t,e,r){if(t.type.name==="text"||t.type.name==="link")throw new Error("unexpected");const n={},i=e[t.type.name];for(const[o,a]of Object.entries(t.attrs)){if(!i)throw Error("ic node is of an unrecognized type: "+t.type.name);const l=i.propSchema;o in l&&(n[o]=a)}let s;return i.content==="styled"?s=nM(t,e,r):s=void 0,{type:t.type.name,props:n,content:s}}function xn(t,e,r,n,i){if(t.type.name!=="blockContainer")throw Error("Node must be of type blockContainer, but is of type"+t.type.name+".");const s=i?.get(t);if(s)return s;const o=rU(t);let a=o.id;a===null&&(a=Rv.options.generateID());const l={};for(const[f,p]of Object.entries({...t.attrs,...o.contentNode.attrs})){const g=e[o.contentType.name];if(!g)throw Error("Block is of an unrecognized type: "+o.contentType.name);const m=g.propSchema;f in m&&(l[f]=p)}const c=e[o.contentType.name],u=[];for(let f=0;f<o.numChildBlocks;f++)u.push(xn(t.lastChild.child(f),e,r,n,i));let d;if(c.content==="inline")d=nM(o.contentNode,r,n);else if(c.content==="table")d=vhe(o.contentNode,r,n);else if(c.content==="none")d=void 0;else throw new po(c.content);const h={id:a,type:c.type,props:l,content:d,children:u};return i?.set(t,h),h}function bhe(t){return t.document||window.document}const aU=(t,e,r,n,i)=>{if(!r.nodes[t.type.name])throw new Error("Serializer is missing a node type: "+t.type.name);const{dom:s,contentDOM:o}=Ji.renderSpec(bhe(e),r.nodes[t.type.name](t));if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");if(t.type.name==="blockContainer"){const a=t.childCount>0&&t.firstChild.type.spec.group==="blockContent"?t.firstChild:void 0,l=t.childCount>0&&t.lastChild.type.spec.group==="blockGroup"?t.lastChild:void 0;if(a!==void 0){const c=n.blockImplementations[a.type.name].implementation,u=(i?c.toExternalHTML:c.toInternalHTML)(xn(t,n.schema.blockSchema,n.schema.inlineContentSchema,n.schema.styleSchema,n.blockCache),n);if(u.contentDOM!==void 0){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");u.contentDOM.appendChild(r.serializeFragment(a.content,e))}o.appendChild(u.dom)}l!==void 0&&r.serializeFragment(S.from(l),e,o)}else r.serializeFragment(t.content,e,o)}return s},lU=(t,e,r)=>{const n=e.serializeFragment(t,r),i=document.createElement("div");return i.appendChild(n),i.innerHTML};function whe(t){const e=to;if(!e)throw new Error("simplifyBlocks requires ESM dependencies to be initialized");const r=new Set([...t.orderedListItemBlockTypes,...t.unorderedListItemBlockTypes]),n=i=>{var s;if(i.children.length===1&&((s=i.children[0].properties)==null?void 0:s.dataNodeType)==="blockGroup"){const l=i.children[0];i.children.pop(),i.children.push(...l.children)}let o=i.children.length,a;for(let l=0;l<o;l++){const c=i.children[l].children[0],u=c.children.find(p=>{const g=p.properties,m=g?.className;return m?.includes("bn-block-content")}),d=c.children.find(p=>{const g=p.properties,m=g?.className;return m?.includes("bn-block-group")});if(!u){i.children.splice(l,1,...d.children),n(i);return}const h=r.has(u.properties.dataContentType),f=h?t.orderedListItemBlockTypes.has(u.properties.dataContentType)?"ol":"ul":null;if(d&&n(d),a&&a.tagName!==f){i.children.splice(l-a.children.length,a.children.length,a);const p=a.children.length-1;l-=p,o-=p,a=void 0}if(h){a||(a=e.hastUtilFromDom.fromDom(document.createElement(f)));const p=e.hastUtilFromDom.fromDom(document.createElement("li"));p.children.push(...u.children),d&&p.children.push(...d.children),a.children.push(p)}else if(d){i.children.splice(l+1,0,...d.children),i.children[l]=u.children[0];const p=d.children.length;l+=p,o+=p}else i.children[l]=u.children[0]}a&&i.children.splice(o-a.children.length,a.children.length,a)};return n}const Nv=(t,e)=>{const r=to;if(!r)throw new Error("External HTML exporter requires ESM dependencies to be initialized");const n=Ji.fromSchema(t);return n.serializeNodeInner=(i,s)=>aU(i,s,n,e,!0),n.exportProseMirrorFragment=(i,s)=>r.unified.unified().use(r.rehypeParse.default,{fragment:!0}).use(whe,{orderedListItemBlockTypes:new Set(["numberedListItem"]),unorderedListItemBlockTypes:new Set(["bulletListItem","checkListItem"])}).use(r.rehypeStringify.default).processSync(lU(i,n,s)).value,n.exportBlocks=(i,s)=>{const o=i.map(l=>Wo(l,t,e.schema.styleSchema)),a=t.nodes.blockGroup.create(null,o);return n.exportProseMirrorFragment(S.from(a),s)},n},rM=(t,e)=>{const r=Ji.fromSchema(t);return r.serializeNodeInner=(n,i)=>aU(n,i,r,e,!1),r.serializeProseMirrorFragment=(n,i)=>lU(n,r,i),r.serializeBlocks=(n,i)=>{const s=n.map(a=>Wo(a,t,e.schema.styleSchema)),o=t.nodes.blockGroup.create(null,s);return r.serializeProseMirrorFragment(S.from(o),i)},r},yr=t=>{const{contentType:e}=mt(t.state.doc,t.state.selection.from);return e.spec.content},_he=()=>typeof navigator<"u"&&(/Mac/.test(navigator.platform)||/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent));function Jo(t,e="Ctrl"){return _he()?t.replace("Mod","⌘"):t.replace("Mod",e)}function Ga(...t){return t.filter(e=>e).join(" ")}function qa(t,e,r,n){const i=document.createElement("div");i.className=Ga("bn-block-content",r.class),i.setAttribute("data-content-type",t);for(const[o,a]of Object.entries(r))o!=="class"&&i.setAttribute(o,a);const s=document.createElement(e);s.className=Ga("bn-inline-content",n.class);for(const[o,a]of Object.entries(n))o!=="class"&&s.setAttribute(o,a);return i.appendChild(s),{dom:i,contentDOM:s}}const Jx=(t,e)=>{const r=Wo(t,e.pmSchema,e.schema.styleSchema).firstChild,n=e.pmSchema.nodes[r.type.name].spec.toDOM;if(n===void 0)throw new Error("This block has no default HTML serialization as its corresponding TipTap node doesn't implement `renderHTML`.");const i=n(r);if(typeof i!="object"||!("dom"in i))throw new Error("Cannot use this block's default HTML serialization as its corresponding TipTap node's `renderHTML` function does not return an object with the `dom` property.");return i},jt={backgroundColor:{default:"default"},textColor:{default:"default"},textAlignment:{default:"left",values:["left","center","right","justify"]}},cU=["backgroundColor","textColor"];function $m(t){return"data-"+t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function uU(t){const e={};return Object.entries(t).filter(([r,n])=>!cU.includes(r)).forEach(([r,n])=>{e[r]={default:n.default,keepOnSplit:!0,parseHTML:i=>{const s=i.getAttribute($m(r));if(s===null)return null;if(typeof n.default=="boolean")return s==="true"?!0:s==="false"?!1:null;if(typeof n.default=="number"){const o=parseFloat(s);return!Number.isNaN(o)&&Number.isFinite(o)?o:null}return s},renderHTML:i=>i[r]!==n.default?{[$m(r)]:i[r]}:{}}}),e}function Che(t,e,r,n){if(typeof t=="boolean")throw new Error("Cannot find node position as getPos is a boolean, not a function.");const i=t(),s=r.state.doc.resolve(i).node().attrs.id;if(!s)throw new Error("Block doesn't have id");const o=e.getBlock(s);if(o.type!==n)throw new Error("Block type does not match");return o}function Mw(t,e,r,n,i=!1,s){const o=document.createElement("div");if(s!==void 0)for(const[a,l]of Object.entries(s))a!=="class"&&o.setAttribute(a,l);o.className=Ga("bn-block-content",s?.class||""),o.setAttribute("data-content-type",e);for(const[a,l]of Object.entries(r))!cU.includes(a)&&l!==n[a].default&&o.setAttribute($m(a),l);return i&&o.setAttribute("data-file-block",""),o.appendChild(t.dom),t.contentDOM!==void 0&&(t.contentDOM.className=Ga("bn-inline-content",t.contentDOM.className),t.contentDOM.setAttribute("data-editable","")),{...t,dom:o}}function dl(t){return hi.create(t)}function dU(t,e){return{config:t,implementation:e}}function fu(t,e,r){return dU({type:t.name,content:t.config.content==="inline*"?"inline":t.config.content==="tableRow+"?"table":"none",propSchema:e},{node:t,requiredExtensions:r,toInternalHTML:Jx,toExternalHTML:Jx})}function hU(t){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,r.config]))}function Ehe(t,e){const r=[{tag:"[data-content-type="+t.type+"]",contentElement:"[data-editable]"}];return e&&r.push({tag:"*",getAttrs(n){if(typeof n=="string")return!1;const i=e?.(n);return i===void 0?!1:i}}),r}function Pv(t,e){const r=dl({name:t.type,content:t.content==="inline"?"inline*":"",group:"blockContent",selectable:!0,addAttributes(){return uU(t.propSchema)},parseHTML(){return Ehe(t,e.parse)},renderHTML(){const n=document.createElement("div");return n.setAttribute("data-tmp-placeholder","true"),{dom:n}},addNodeView(){return({getPos:n})=>{var i;const s=this.options.editor,o=Che(n,s,this.editor,t.type),a=((i=this.options.domAttributes)==null?void 0:i.blockContent)||{},l=e.render(o,s);return Mw(l,o.type,o.props,t.propSchema,a)}}});if(r.name!==t.type)throw new Error("Node name does not match block type. This is a bug in BlockNote.");return dU(t,{node:r,toInternalHTML:(n,i)=>{var s;const o=((s=r.options.domAttributes)==null?void 0:s.blockContent)||{},a=e.render(n,i);return Mw(a,n.type,n.props,t.propSchema,t.isFileBlock,o)},toExternalHTML:(n,i)=>{var s,o;const a=((s=r.options.domAttributes)==null?void 0:s.blockContent)||{};let l=(o=e.toExternalHTML)==null?void 0:o.call(e,n,i);return l===void 0&&(l=e.render(n,i)),Mw(l,n.type,n.props,t.propSchema,a)}})}function Dhe(t,e,r,n){return t.dom.setAttribute("data-inline-content-type",e),Object.entries(r).filter(([i,s])=>s!==n[i].default).map(([i,s])=>[$m(i),s]).forEach(([i,s])=>t.dom.setAttribute(i,s)),t.contentDOM!==void 0&&t.contentDOM.setAttribute("data-editable",""),t}function khe(t){return{Backspace:({editor:e})=>{const r=e.state.selection.$from;return e.state.selection.empty&&r.node().type.name===t.type&&r.parentOffset===0}}}function Mhe(t,e){return{config:t,implementation:e}}function She(t,e){return Mhe({type:t.name,propSchema:e,content:t.config.content==="inline*"?"styled":"none"},{node:t})}function fU(t){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,r.config]))}function The(t){return[{tag:`[data-inline-content-type="${t.type}"]`,contentElement:e=>{const r=e;return r.matches("[data-editable]")?r:r.querySelector("[data-editable]")||r}}]}function Ome(t,e){const r=hi.create({name:t.type,inline:!0,group:"inline",selectable:t.content==="styled",atom:t.content==="none",content:t.content==="styled"?"inline*":"",addAttributes(){return uU(t.propSchema)},addKeyboardShortcuts(){return khe(t)},parseHTML(){return The(t)},renderHTML({node:n}){const i=this.options.editor,s=e.render(oU(n,i.schema.inlineContentSchema,i.schema.styleSchema));return Dhe(s,t.type,n.attrs,t.propSchema)}});return She(r,t.propSchema)}function Ihe(t,e){return{config:t,implementation:e}}function ta(t,e){return Ihe({type:t.name,propSchema:e},{mark:t})}function pU(t){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,r.config]))}const Lv=t=>{const e=document.createElement("div");e.className="bn-file-default-preview";const r=document.createElement("div");r.className="bn-file-default-preview-icon",r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"></path></svg>';const n=document.createElement("p");return n.className="bn-file-default-preview-name",n.textContent=t.props.name||"",e.appendChild(r),e.appendChild(n),{dom:e}},Ka=(t,e)=>{const r=document.createElement("div");r.className="bn-file-and-caption-wrapper";const n=document.createElement("p");return n.className="bn-file-caption",n.textContent=t.props.caption,r.appendChild(e),r.appendChild(n),{dom:r}},Fv=(t,e,r,n)=>{const i=document.createElement("div");i.className="bn-add-file-button";const s=document.createElement("div");s.className="bn-add-file-button-icon",n?s.appendChild(n):s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"></path></svg>';const o=document.createElement("p");o.className="bn-add-file-button-text",o.innerHTML=r||e.dictionary.file_blocks.file.add_button_text;const a=c=>{c.preventDefault()},l=()=>{e.dispatch(e._tiptapEditor.state.tr.setMeta(e.filePanel.plugin,{block:t}))};return i.appendChild(s),i.appendChild(o),i.addEventListener("mousedown",a,!0),i.addEventListener("click",l,!0),{dom:i,destroy:()=>{i.removeEventListener("mousedown",a,!0),i.removeEventListener("click",l,!0)}}},Xx=t=>({url:t.src||void 0}),Bv=(t,e)=>{const r=t.querySelector(e);if(!r)return;const n=t.querySelector("figcaption"),i=n?.textContent??void 0;return{targetElement:r,caption:i}},Vv=(t,e)=>{const r=document.createElement("div"),n=document.createElement("p");return n.textContent=e,r.appendChild(t),r.appendChild(n),{dom:r}},iM=(t,e)=>{const r=document.createElement("figure"),n=document.createElement("figcaption");return n.textContent=e,r.appendChild(t),r.appendChild(n),{dom:r}},gU=(t,e,r,n,i)=>{if(!t.props.previewWidth)throw new Error("Block must have a `previewWidth` prop.");const s=document.createElement("div");s.className="bn-visual-media-wrapper";const o=document.createElement("div");o.className="bn-visual-media-resize-handle",o.style.left="4px";const a=document.createElement("div");a.className="bn-visual-media-resize-handle",a.style.right="4px";let l;const c=g=>{if(!l){!e.isEditable&&s.contains(o)&&s.contains(a)&&(s.removeChild(o),s.removeChild(a));return}let m;t.props.textAlignment==="center"?l.handleUsed==="left"?m=l.initialWidth+(l.initialClientX-g.clientX)*2:m=l.initialWidth+(g.clientX-l.initialClientX)*2:l.handleUsed==="left"?m=l.initialWidth+l.initialClientX-g.clientX:m=l.initialWidth+g.clientX-l.initialClientX;const y=64;m<y?i(y):m>e.domElement.firstElementChild.clientWidth?i(e.domElement.firstElementChild.clientWidth):i(m)},u=g=>{(!g.target||!s.contains(g.target)||!e.isEditable)&&s.contains(o)&&s.contains(a)&&(s.removeChild(o),s.removeChild(a)),l&&(l=void 0,e.updateBlock(t,{props:{previewWidth:n()}}))},d=()=>{e.isEditable&&(s.appendChild(o),s.appendChild(a))},h=g=>{g.relatedTarget===o||g.relatedTarget===a||l||e.isEditable&&s.contains(o)&&s.contains(a)&&(s.removeChild(o),s.removeChild(a))},f=g=>{g.preventDefault(),s.appendChild(o),s.appendChild(a),l={handleUsed:"left",initialWidth:t.props.previewWidth,initialClientX:g.clientX}},p=g=>{g.preventDefault(),s.appendChild(o),s.appendChild(a),l={handleUsed:"right",initialWidth:t.props.previewWidth,initialClientX:g.clientX}};return s.appendChild(r),window.addEventListener("mousemove",c),window.addEventListener("mouseup",u),r.addEventListener("mouseenter",d),r.addEventListener("mouseleave",h),o.addEventListener("mousedown",f),a.addEventListener("mousedown",p),{dom:s,destroy:()=>{window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",u),r.removeEventListener("mouseenter",d),r.removeEventListener("mouseleave",h),o.removeEventListener("mousedown",f),a.removeEventListener("mousedown",p)}}},Qx=t=>({url:t.src||void 0}),xhe={backgroundColor:jt.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0}},Ahe={type:"audio",propSchema:xhe,content:"none",isFileBlock:!0,fileBlockAcceptMimeTypes:["audio/*"]},Ohe=(t,e)=>{const r=document.createElement("div");if(r.className="bn-file-block-content-wrapper",t.props.url===""){const n=document.createElement("div");n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2 16.0001H5.88889L11.1834 20.3319C11.2727 20.405 11.3846 20.4449 11.5 20.4449C11.7761 20.4449 12 20.2211 12 19.9449V4.05519C12 3.93977 11.9601 3.8279 11.887 3.73857C11.7121 3.52485 11.3971 3.49335 11.1834 3.66821L5.88889 8.00007H2C1.44772 8.00007 1 8.44778 1 9.00007V15.0001C1 15.5524 1.44772 16.0001 2 16.0001ZM23 12C23 15.292 21.5539 18.2463 19.2622 20.2622L17.8445 18.8444C19.7758 17.1937 21 14.7398 21 12C21 9.26016 19.7758 6.80629 17.8445 5.15557L19.2622 3.73779C21.5539 5.75368 23 8.70795 23 12ZM18 12C18 10.0883 17.106 8.38548 15.7133 7.28673L14.2842 8.71584C15.3213 9.43855 16 10.64 16 12C16 13.36 15.3213 14.5614 14.2842 15.2841L15.7133 16.7132C17.106 15.6145 18 13.9116 18 12Z"></path></svg>';const i=Fv(t,e,e.dictionary.file_blocks.audio.add_button_text,n.firstElementChild);return r.appendChild(i.dom),{dom:r,destroy:()=>{var s;(s=i?.destroy)==null||s.call(i)}}}else if(t.props.showPreview){const n=document.createElement("audio");n.className="bn-audio",e.resolveFileUrl(t.props.url).then(s=>{n.src=s}),n.controls=!0,n.contentEditable="false",n.draggable=!1;const i=Ka(t,n);return r.appendChild(i.dom),{dom:r}}else{const n=Lv(t).dom;return{dom:Ka(t,n).dom}}},Rhe=t=>{if(t.tagName==="AUDIO")return Qx(t);if(t.tagName==="FIGURE"){const e=Bv(t,"audio");if(!e)return;const{targetElement:r,caption:n}=e;return{...Qx(r),caption:n}}},Nhe=t=>{if(!t.props.url){const r=document.createElement("p");return r.textContent="Add audio",{dom:r}}let e;return t.props.showPreview?(e=document.createElement("audio"),e.src=t.props.url):(e=document.createElement("a"),e.href=t.props.url,e.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?iM(e,t.props.caption):Vv(e,t.props.caption):{dom:e}},Phe=Pv(Ahe,{render:Ohe,parse:Rhe,toExternalHTML:Nhe}),Lhe={backgroundColor:jt.backgroundColor,name:{default:""},url:{default:""},caption:{default:""}},Fhe={type:"file",propSchema:Lhe,content:"none",isFileBlock:!0},Bhe=(t,e)=>{const r=document.createElement("div");if(r.className="bn-file-block-content-wrapper",t.props.url===""){const n=Fv(t,e);return r.appendChild(n.dom),{dom:r,destroy:n.destroy}}else{const n=Lv(t).dom,i=Ka(t,n);return r.appendChild(i.dom),{dom:r}}},Vhe=t=>{if(t.tagName==="EMBED")return Xx(t);if(t.tagName==="FIGURE"){const e=Bv(t,"embed");if(!e)return;const{targetElement:r,caption:n}=e;return{...Xx(r),caption:n}}},Hhe=t=>{if(!t.props.url){const r=document.createElement("p");return r.textContent="Add file",{dom:r}}const e=document.createElement("a");return e.href=t.props.url,e.textContent=t.props.name||t.props.url,t.props.caption?Vv(e,t.props.caption):{dom:e}},jhe=Pv(Fhe,{render:Bhe,parse:Vhe,toExternalHTML:Hhe}),eA=t=>{const e=t.src||void 0,r=t.width||void 0;return{url:e,previewWidth:r}},Uhe={textAlignment:jt.textAlignment,backgroundColor:jt.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0},previewWidth:{default:512}},$he={type:"image",propSchema:Uhe,content:"none",isFileBlock:!0,fileBlockAcceptMimeTypes:["image/*"]},zhe=(t,e)=>{const r=document.createElement("div");if(r.className="bn-file-block-content-wrapper",t.props.url===""){const n=document.createElement("div");n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z"></path></svg>';const i=Fv(t,e,e.dictionary.file_blocks.image.add_button_text,n.firstElementChild);return r.appendChild(i.dom),{dom:r,destroy:()=>{var s;(s=i?.destroy)==null||s.call(i)}}}else if(t.props.showPreview){const n=document.createElement("img");n.className="bn-visual-media",e.resolveFileUrl(t.props.url).then(o=>{n.src=o}),n.alt=t.props.name||t.props.caption||"BlockNote image",n.contentEditable="false",n.draggable=!1,n.width=Math.min(t.props.previewWidth,e.domElement.firstElementChild.clientWidth);const i=gU(t,e,n,()=>n.width,o=>n.width=o),s=Ka(t,i.dom);return r.appendChild(s.dom),{dom:r,destroy:i.destroy}}else{const n=Lv(t).dom;return{dom:Ka(t,n).dom}}},Whe=t=>{if(t.tagName==="IMG")return eA(t);if(t.tagName==="FIGURE"){const e=Bv(t,"img");if(!e)return;const{targetElement:r,caption:n}=e;return{...eA(r),caption:n}}},Ghe=t=>{if(!t.props.url){const r=document.createElement("p");return r.textContent="Add image",{dom:r}}let e;return t.props.showPreview?(e=document.createElement("img"),e.src=t.props.url,e.alt=t.props.name||t.props.caption||"BlockNote image",e.width=t.props.previewWidth):(e=document.createElement("a"),e.href=t.props.url,e.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?iM(e,t.props.caption):Vv(e,t.props.caption):{dom:e}},qhe=Pv($he,{render:zhe,parse:Whe,toExternalHTML:Ghe}),tA=t=>{const e=t.src||void 0,r=t.width||void 0;return{url:e,previewWidth:r}},Khe={textAlignment:jt.textAlignment,backgroundColor:jt.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0},previewWidth:{default:512}},Zhe={type:"video",propSchema:Khe,content:"none",isFileBlock:!0,fileBlockAcceptMimeTypes:["video/*"]},Yhe=(t,e)=>{const r=document.createElement("div");if(r.className="bn-file-block-content-wrapper",t.props.url===""){const n=document.createElement("div");n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 5V19H16V5H8ZM4 5V7H6V5H4ZM18 5V7H20V5H18ZM4 9V11H6V9H4ZM18 9V11H20V9H18ZM4 13V15H6V13H4ZM18 13V15H20V13H18ZM4 17V19H6V17H4ZM18 17V19H20V17H18Z"></path></svg>';const i=Fv(t,e,e.dictionary.file_blocks.video.add_button_text,n.firstElementChild);return r.appendChild(i.dom),{dom:r,destroy:()=>{var s;(s=i?.destroy)==null||s.call(i)}}}else if(t.props.showPreview){const n=document.createElement("video");n.className="bn-visual-media",n.src=t.props.url,n.controls=!0,n.contentEditable="false",n.draggable=!1,n.width=Math.min(t.props.previewWidth,e.domElement.firstElementChild.clientWidth);const i=gU(t,e,n,()=>n.width,o=>n.width=o),s=Ka(t,i.dom);return r.appendChild(s.dom),{dom:r,destroy:i.destroy}}else{const n=Lv(t).dom;return{dom:Ka(t,n).dom}}},Jhe=t=>{if(t.tagName==="VIDEO")return tA(t);if(t.tagName==="FIGURE"){const e=Bv(t,"video");if(!e)return;const{targetElement:r,caption:n}=e;return{...tA(r),caption:n}}},Xhe=t=>{if(!t.props.url){const r=document.createElement("p");return r.textContent="Add video",{dom:r}}let e;return t.props.showPreview?(e=document.createElement("video"),e.src=t.props.url,e.width=t.props.previewWidth):(e=document.createElement("a"),e.href=t.props.url,e.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?iM(e,t.props.caption):Vv(e,t.props.caption):{dom:e}},Qhe=Pv(Zhe,{render:Yhe,parse:Jhe,toExternalHTML:Xhe}),efe=Ar.create({name:"backgroundColor",addAttributes(){return{stringValue:{default:void 0,parseHTML:t=>t.getAttribute("data-background-color"),renderHTML:t=>({"data-background-color":t.stringValue})}}},parseHTML(){return[{tag:"span",getAttrs:t=>typeof t=="string"?!1:t.hasAttribute("data-background-color")?{stringValue:t.getAttribute("data-background-color")}:!1}]},renderHTML({HTMLAttributes:t}){return["span",t,0]}}),tfe=ta(efe,"string"),nfe=Ar.create({name:"textColor",addAttributes(){return{stringValue:{default:void 0,parseHTML:t=>t.getAttribute("data-text-color"),renderHTML:t=>({"data-text-color":t.stringValue})}}},parseHTML(){return[{tag:"span",getAttrs:t=>typeof t=="string"?!1:t.hasAttribute("data-text-color")?{stringValue:t.getAttribute("data-text-color")}:!1}]},renderHTML({HTMLAttributes:t}){return["span",t,0]}}),rfe=ta(nfe,"string"),ife={...jt,level:{default:1,values:[1,2,3]}},sfe=dl({name:"heading",content:"inline*",group:"blockContent",addAttributes(){return{level:{default:1,parseHTML:t=>{const e=t.getAttribute("data-level"),r=parseInt(e);if(isFinite(r))return r},renderHTML:t=>({"data-level":t.level.toString()})}}},addInputRules(){return[...[1,2,3].map(t=>new kc({find:new RegExp(`^(#{${t}})\\s$`),handler:({state:e,chain:r,range:n})=>{yr(this.editor)==="inline*"&&r().BNUpdateBlock(e.selection.from,{type:"heading",props:{level:t}}).deleteRange({from:n.from,to:n.to})}}))]},addKeyboardShortcuts(){return{"Mod-Alt-1":()=>yr(this.editor)!=="inline*"?!0:this.editor.commands.BNUpdateBlock(this.editor.state.selection.anchor,{type:"heading",props:{level:1}}),"Mod-Alt-2":()=>yr(this.editor)!=="inline*"?!0:this.editor.commands.BNUpdateBlock(this.editor.state.selection.anchor,{type:"heading",props:{level:2}}),"Mod-Alt-3":()=>yr(this.editor)!=="inline*"?!0:this.editor.commands.BNUpdateBlock(this.editor.state.selection.anchor,{type:"heading",props:{level:3}})}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]",getAttrs:t=>typeof t=="string"?!1:{level:t.getAttribute("data-level")}},{tag:"h1",attrs:{level:1},node:"heading"},{tag:"h2",attrs:{level:2},node:"heading"},{tag:"h3",attrs:{level:3},node:"heading"}]},renderHTML({node:t,HTMLAttributes:e}){var r,n;return qa(this.name,`h${t.attrs.level}`,{...((r=this.options.domAttributes)==null?void 0:r.blockContent)||{},...e},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})}}),ofe=fu(sfe,ife),sM=t=>{const{contentNode:e,contentType:r}=mt(t.state.doc,t.state.selection.from),n=t.state.selection.anchor===t.state.selection.head;return!(r.name==="bulletListItem"||r.name==="numberedListItem"||r.name==="checkListItem")||!n?!1:t.commands.first(({state:i,chain:s,commands:o})=>[()=>o.command(()=>e.childCount===0?o.BNUpdateBlock(i.selection.from,{type:"paragraph",props:{}}):!1),()=>o.command(()=>e.childCount>0?(s().deleteSelection().BNSplitBlock(i.selection.from,!0).run(),!0):!1)])},afe={...jt},lfe=dl({name:"bulletListItem",content:"inline*",group:"blockContent",priority:90,addInputRules(){return[new kc({find:new RegExp("^[-+*]\\s$"),handler:({state:t,chain:e,range:r})=>{yr(this.editor)==="inline*"&&e().BNUpdateBlock(t.selection.from,{type:"bulletListItem",props:{}}).deleteRange({from:r.from,to:r.to})}})]},addKeyboardShortcuts(){return{Enter:()=>sM(this.editor),"Mod-Shift-8":()=>yr(this.editor)!=="inline*"?!0:this.editor.commands.BNUpdateBlock(this.editor.state.selection.anchor,{type:"bulletListItem",props:{}})}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"li",getAttrs:t=>{if(typeof t=="string")return!1;const e=t.parentElement;return e===null?!1:e.tagName==="UL"||e.tagName==="DIV"&&e.parentElement.tagName==="UL"?{}:!1},node:"bulletListItem"},{tag:"p",getAttrs:t=>{if(typeof t=="string")return!1;const e=t.parentElement;return e===null?!1:e.getAttribute("data-content-type")==="bulletListItem"?{}:!1},priority:300,node:"bulletListItem"}]},renderHTML({HTMLAttributes:t}){var e,r;return qa(this.name,"p",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((r=this.options.domAttributes)==null?void 0:r.inlineContent)||{})}}),cfe=fu(lfe,afe),ufe=new Je("numbered-list-indexing"),dfe=()=>new Oe({key:ufe,appendTransaction:(t,e,r)=>{const n=r.tr;n.setMeta("numberedListIndexing",!0);let i=!1;return r.doc.descendants((s,o)=>{if(s.type.name==="blockContainer"&&s.firstChild.type.name==="numberedListItem"){let a="1";const l=o===1,c=mt(n.doc,o+1);if(c===void 0)return;if(!l){const u=mt(n.doc,o-2);if(u===void 0)return;if(c.depth===u.depth){const d=u.contentNode;if(u.contentType.name==="numberedListItem"){const h=d.attrs.index;a=(parseInt(h)+1).toString()}}}c.contentNode.attrs.index!==a&&(i=!0,n.setNodeMarkup(o+1,void 0,{index:a}))}}),i?n:null}}),hfe={...jt},ffe=dl({name:"numberedListItem",content:"inline*",group:"blockContent",priority:90,addAttributes(){return{index:{default:null,parseHTML:t=>t.getAttribute("data-index"),renderHTML:t=>({"data-index":t.index})}}},addInputRules(){return[new kc({find:new RegExp("^1\\.\\s$"),handler:({state:t,chain:e,range:r})=>{yr(this.editor)==="inline*"&&e().BNUpdateBlock(t.selection.from,{type:"numberedListItem",props:{}}).deleteRange({from:r.from,to:r.to})}})]},addKeyboardShortcuts(){return{Enter:()=>sM(this.editor),"Mod-Shift-7":()=>yr(this.editor)!=="inline*"?!0:this.editor.commands.BNUpdateBlock(this.editor.state.selection.anchor,{type:"numberedListItem",props:{}})}},addProseMirrorPlugins(){return[dfe()]},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"li",getAttrs:t=>{if(typeof t=="string")return!1;const e=t.parentElement;return e===null?!1:e.tagName==="OL"||e.tagName==="DIV"&&e.parentElement.tagName==="OL"?{}:!1},node:"numberedListItem"},{tag:"p",getAttrs:t=>{if(typeof t=="string")return!1;const e=t.parentElement;return e===null?!1:e.getAttribute("data-content-type")==="numberedListItem"?{}:!1},priority:300,node:"numberedListItem"}]},renderHTML({HTMLAttributes:t}){var e,r;return qa(this.name,"p",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((r=this.options.domAttributes)==null?void 0:r.inlineContent)||{})}}),pfe=fu(ffe,hfe),gfe={...jt,checked:{default:!1}},mfe=dl({name:"checkListItem",content:"inline*",group:"blockContent",addAttributes(){return{checked:{default:!1,parseHTML:t=>t.getAttribute("data-checked")==="true"||void 0,renderHTML:t=>t.checked?{"data-checked":t.checked.toString()}:{}}}},addInputRules(){return[new kc({find:new RegExp("\\[\\s*\\]\\s$"),handler:({state:t,chain:e,range:r})=>{yr(this.editor)==="inline*"&&e().BNUpdateBlock(t.selection.from,{type:"checkListItem",props:{checked:!1}}).deleteRange({from:r.from,to:r.to})}}),new kc({find:new RegExp("\\[[Xx]\\]\\s$"),handler:({state:t,chain:e,range:r})=>{yr(this.editor)==="inline*"&&e().BNUpdateBlock(t.selection.from,{type:"checkListItem",props:{checked:!0}}).deleteRange({from:r.from,to:r.to})}})]},addKeyboardShortcuts(){return{Enter:()=>sM(this.editor),"Mod-Shift-9":()=>yr(this.editor)!=="inline*"?!0:this.editor.commands.BNUpdateBlock(this.editor.state.selection.anchor,{type:"checkListItem",props:{}})}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"input",getAttrs:t=>typeof t=="string"?!1:t.type==="checkbox"?{checked:t.checked}:!1,node:"checkListItem"},{tag:"li",getAttrs:t=>{if(typeof t=="string")return!1;const e=t.parentElement;if(e===null)return!1;if(e.tagName==="UL"||e.tagName==="DIV"&&e.parentElement.tagName==="UL"){const r=t.querySelector("input[type=checkbox]")||null;return r===null?!1:{checked:r.checked}}return!1},node:"checkListItem"}]},renderHTML({node:t,HTMLAttributes:e}){var r,n;const i=document.createElement("input");i.type="checkbox",i.checked=t.attrs.checked,t.attrs.checked&&i.setAttribute("checked","");const{dom:s,contentDOM:o}=qa(this.name,"p",{...((r=this.options.domAttributes)==null?void 0:r.blockContent)||{},...e},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{});return s.insertBefore(i,o),{dom:s,contentDOM:o}},addNodeView(){return({node:t,getPos:e,editor:r,HTMLAttributes:n})=>{var i,s;const o=document.createElement("div"),a=document.createElement("div");a.contentEditable="false";const l=document.createElement("input");l.type="checkbox",l.checked=t.attrs.checked,t.attrs.checked&&l.setAttribute("checked","");const c=()=>{if(!r.isEditable){l.checked=!l.checked;return}typeof e!="boolean"&&this.editor.commands.BNUpdateBlock(e(),{type:"checkListItem",props:{checked:l.checked}})};l.addEventListener("change",c);const{dom:u,contentDOM:d}=qa(this.name,"p",{...((i=this.options.domAttributes)==null?void 0:i.blockContent)||{},...n},((s=this.options.domAttributes)==null?void 0:s.inlineContent)||{});if(typeof e!="boolean"){const h="label-"+this.editor.state.doc.resolve(e()).node().attrs.id;l.setAttribute("aria-labelledby",h),d.id=h}return u.removeChild(d),u.appendChild(o),o.appendChild(a),o.appendChild(d),a.appendChild(l),{dom:u,contentDOM:d,destroy:()=>{l.removeEventListener("change",c)}}}}}),yfe=fu(mfe,gfe),vfe={...jt},bfe=dl({name:"paragraph",content:"inline*",group:"blockContent",addKeyboardShortcuts(){return{"Mod-Alt-0":()=>yr(this.editor)!=="inline*"?!0:this.editor.commands.BNUpdateBlock(this.editor.state.selection.anchor,{type:"paragraph",props:{}})}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"p",priority:200,getAttrs:t=>{var e;return typeof t=="string"||!((e=t.textContent)!=null&&e.trim())?!1:{}},node:"paragraph"}]},renderHTML({HTMLAttributes:t}){var e,r;return qa(this.name,"p",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((r=this.options.domAttributes)==null?void 0:r.inlineContent)||{})}}),wfe=fu(bfe,vfe),_fe=ct.create({name:"BlockNoteTableExtension",addProseMirrorPlugins:()=>[nle({cellMinWidth:100}),ple()],addKeyboardShortcuts(){return{Enter:()=>this.editor.state.selection.empty&&this.editor.state.selection.$head.parent.type.name==="tableParagraph"?(this.editor.commands.setHardBreak(),!0):!1,Backspace:()=>{const t=this.editor.state.selection,e=t.empty,r=t.$head.parentOffset===0,n=t.$head.node().type.name==="tableParagraph";return e&&r&&n}}},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:Ie(Z(t,"tableRole",e))}}}),Cfe={...jt},Efe=dl({name:"table",content:"tableRow+",group:"blockContent",tableRole:"table",isolating:!0,parseHTML(){return[{tag:"table"}]},renderHTML({HTMLAttributes:t}){var e,r;return qa(this.name,"table",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((r=this.options.domAttributes)==null?void 0:r.inlineContent)||{})}}),Dfe=hi.create({name:"tableParagraph",group:"tableContent",content:"inline*",parseHTML(){return[{tag:"td"},{tag:"p",getAttrs:t=>{if(typeof t=="string"||!t.textContent)return!1;const e=t.parentElement;return e===null?!1:e.tagName==="TD"?{}:!1}}]},renderHTML({HTMLAttributes:t}){return["p",er(this.options.HTMLAttributes,t),0]}}),kfe=fu(Efe,Cfe,[_fe,Dfe,Oae.extend({content:"tableContent"}),Aae.extend({content:"tableContent"}),Rae]),mU={paragraph:wfe,heading:ofe,bulletListItem:cfe,numberedListItem:pfe,checkListItem:yfe,table:kfe,file:jhe,image:qhe,video:Qhe,audio:Phe},Mfe=hU(mU),yU={bold:ta(vae,"boolean"),italic:ta(Mae,"boolean"),underline:ta(xae,"boolean"),strike:ta(Iae,"boolean"),code:ta(_ae,"boolean"),textColor:rfe,backgroundColor:tfe};pU(yU);const vU={text:{config:"text",implementation:{}},link:{config:"link",implementation:{}}};fU(vU);function lr(t,e){return t in e.schema.blockSchema&&e.schema.blockSchema[t]===Mfe[t]}function Sfe(t,e,r){return e.type===t&&e.type in r.schema.blockSchema&&lr(e.type,r)}function Rme(t,e){return t.type in e.schema.blockSchema&&e.schema.blockSchema[t.type].isFileBlock||!1}function Nme(t,e){return e.schema.blockSchema[t.type].isFileBlock&&!t.props.url}function Tfe(t,e,r){return e in r.schema.blockSchema&&t in r.schema.blockSchema[e].propSchema&&r.schema.blockSchema[e].propSchema[t]===jt[t]}function Pme(t,e,r){return Tfe(t,e.type,r)}function oM(t,e){let r,n;if(e.firstChild.descendants((i,s)=>r?!1:i.type.name!=="blockContainer"||i.attrs.id!==t?!0:(r=i,n=s+1,!1)),r===void 0||n===void 0)throw Error("Could not find block in the editor with matching ID.");return{node:r,posBeforeNode:n}}function Ife(t,e,r="before",n){const i=typeof e=="string"?e:e.id,s=[];for(const c of t)s.push(Wo(c,n.pmSchema,n.schema.styleSchema));const{node:o,posBeforeNode:a}=oM(i,n._tiptapEditor.state.doc);if(r==="before"&&n.dispatch(n._tiptapEditor.state.tr.insert(a,s)),r==="after"&&n.dispatch(n._tiptapEditor.state.tr.insert(a+o.nodeSize,s)),r==="nested"&&o.childCount<2){const c=n._tiptapEditor.state.schema.nodes.blockGroup.create({},s);n.dispatch(n._tiptapEditor.state.tr.insert(a+o.firstChild.nodeSize+1,c))}const l=[];for(const c of s)l.push(xn(c,n.schema.blockSchema,n.schema.inlineContentSchema,n.schema.styleSchema,n.blockCache));return l}function xfe(t,e,r){const n=r._tiptapEditor,i=typeof t=="string"?t:t.id,{posBeforeNode:s}=oM(i,n.state.doc);n.commands.BNUpdateBlock(s+1,e);const o=n.state.doc.resolve(s+1).node();return xn(o,r.schema.blockSchema,r.schema.inlineContentSchema,r.schema.styleSchema,r.blockCache)}function bU(t,e,r){const n=e._tiptapEditor,i=n.state.tr,s=new Set(t.map(l=>typeof l=="string"?l:l.id)),o=[];let a=0;if(n.state.doc.descendants((l,c)=>{if(s.size===0)return!1;if(l.type.name!=="blockContainer"||!s.has(l.attrs.id))return!0;o.push(xn(l,e.schema.blockSchema,e.schema.inlineContentSchema,e.schema.styleSchema,e.blockCache)),s.delete(l.attrs.id),a=r?.(l,c,i,a)||a;const u=i.doc.nodeSize;i.delete(c-a-1,c-a+l.nodeSize+1);const d=i.doc.nodeSize;return a+=u-d,!1}),s.size>0){const l=[...s].join(`
`);throw Error("Blocks with the following IDs could not be found in the editor: "+l)}return e.dispatch(i),o}function Afe(t,e){return bU(t,e)}function Ofe(t,e,r){const n=[];for(const a of e)n.push(Wo(a,r.pmSchema,r.schema.styleSchema));const i=typeof t[0]=="string"?t[0]:t[0].id,s=bU(t,r,(a,l,c,u)=>{if(a.attrs.id===i){const d=c.doc.nodeSize;c.insert(l,n);const h=c.doc.nodeSize;return u+d-h}return u}),o=[];for(const a of n)o.push(xn(a,r.schema.blockSchema,r.schema.inlineContentSchema,r.schema.styleSchema,r.blockCache));return{insertedBlocks:o,removedBlocks:s}}function Rfe(t,e,r,n={updateSelection:!0}){const i=r._tiptapEditor.state.tr;let{from:s,to:o}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},a=!0,l=!0,c="";if(e.forEach(u=>{u.check(),a&&u.isText&&u.marks.length===0?c+=u.text:a=!1,l=l?u.isBlock:!1}),s===o&&l){const{parent:u}=i.doc.resolve(s);u.isTextblock&&!u.type.spec.code&&!u.childCount&&(s-=1,o+=1)}return a?i.insertText(c,s,o):i.replaceWith(s,o,e),n.updateSelection&&TH(i,i.steps.length-1,-1),r.dispatch(i),!0}function Nfe(){const t=e=>{let r=e.children.length;for(let n=0;n<r;n++){const i=e.children[n];if(i.type==="element"&&(t(i),i.tagName==="u"))if(i.children.length>0){e.children.splice(n,1,...i.children);const s=i.children.length-1;r+=s,n+=s}else e.children.splice(n,1),r--,n--}};return t}function Pfe(){const t=to;if(!t)throw new Error("simplifyBlocks requires ESM dependencies to be initialized");const e=r=>{var n;if(r.children&&"length"in r.children&&r.children.length)for(let i=r.children.length-1;i>=0;i--){const s=r.children[i],o=i+1<r.children.length?r.children[i+1]:void 0;s.type==="element"&&s.tagName==="input"&&((n=s.properties)==null?void 0:n.type)==="checkbox"&&o?.type==="element"&&o.tagName==="p"?(o.tagName="span",o.children.splice(0,0,t.hastUtilFromDom.fromDom(document.createTextNode(" ")))):e(s)}};return e}function aM(t){const e=to;if(!e)throw new Error("cleanHTMLToMarkdown requires ESM dependencies to be initialized");return e.unified.unified().use(e.rehypeParse.default,{fragment:!0}).use(Nfe).use(Pfe).use(e.rehypeRemark.default).use(e.remarkGfm.default).use(e.remarkStringify.default,{handlers:{text:r=>r.value}}).processSync(t).value}async function Lfe(t,e,r,n){await Jh();const i=Nv(e,r).exportBlocks(t,n);return aM(i)}function Ffe(t){return Array.prototype.indexOf.call(t.parentElement.childNodes,t)}function Bfe(t){return t.nodeType===3&&!/\S/.test(t.nodeValue||"")}function Vfe(t){t.querySelectorAll("li > ul, li > ol").forEach(e=>{const r=Ffe(e),n=e.parentElement,i=Array.from(n.childNodes).slice(r+1);e.remove(),i.forEach(s=>{s.remove()}),n.insertAdjacentElement("afterend",e),i.reverse().forEach(s=>{if(Bfe(s))return;const o=document.createElement("li");o.append(s),e.insertAdjacentElement("afterend",o)}),n.childNodes.length===0&&n.remove()})}function Hfe(t){t.querySelectorAll("li + ul, li + ol").forEach(e=>{var r,n;const i=e.previousElementSibling,s=document.createElement("div");i.insertAdjacentElement("afterend",s),s.append(i);const o=document.createElement("div");for(o.setAttribute("data-node-type","blockGroup"),s.append(o);((r=s.nextElementSibling)==null?void 0:r.nodeName)==="UL"||((n=s.nextElementSibling)==null?void 0:n.nodeName)==="OL";)o.append(s.nextElementSibling)})}let nA=null;function jfe(){return nA||(nA=document.implementation.createHTMLDocument("title"))}function wU(t){if(typeof t=="string"){const e=jfe().createElement("div");e.innerHTML=t,t=e}return Vfe(t),Hfe(t),t}async function _U(t,e,r,n,i){const s=wU(t),o=Yl.fromSchema(i).parse(s,{topNode:i.nodes.blockGroup.create()}),a=[];for(let l=0;l<o.childCount;l++)a.push(xn(o.child(l),e,r,n));return a}function Ufe(t,e){const r=e.value?e.value+`
`:"",n={};e.lang&&(n["data-language"]=e.lang);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}async function $fe(t,e,r,n,i){const s=await Jh(),o=s.unified.unified().use(s.remarkParse.default).use(s.remarkGfm.default).use(s.remarkRehype.default,{handlers:{...s.remarkRehype.defaultHandlers,code:Ufe}}).use(s.rehypeStringify.default).processSync(t);return _U(o.value,e,r,n,i)}class pu{constructor(){D(this,"callbacks",{})}on(e,r){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(r),()=>this.off(e,r)}emit(e,...r){const n=this.callbacks[e];n&&n.forEach(i=>i.apply(this,r))}off(e,r){const n=this.callbacks[e];n&&(r?this.callbacks[e]=n.filter(i=>i!==r):delete this.callbacks[e])}removeAllListeners(){this.callbacks={}}}class zfe{constructor(e,r,n,i){D(this,"state"),D(this,"emitUpdate"),D(this,"mouseDownHandler",()=>{var s;(s=this.state)!=null&&s.show&&(this.state.show=!1,this.emitUpdate())}),D(this,"dragstartHandler",()=>{var s;(s=this.state)!=null&&s.show&&(this.state.show=!1,this.emitUpdate())}),D(this,"scrollHandler",()=>{var s;if((s=this.state)!=null&&s.show){const o=this.pmView.root.querySelector(`[data-node-type="blockContainer"][data-id="${this.state.block.id}"]`);this.state.referencePos=o.getBoundingClientRect(),this.emitUpdate()}}),D(this,"closeMenu",()=>{var s;(s=this.state)!=null&&s.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=e,this.pluginKey=r,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized file panel");i(this.state)},n.dom.addEventListener("mousedown",this.mouseDownHandler),n.dom.addEventListener("dragstart",this.dragstartHandler),n.root.addEventListener("scroll",this.scrollHandler,!0)}update(e,r){var n,i;const s=this.pluginKey.getState(e.state);if(!((n=this.state)!=null&&n.show)&&s.block&&this.editor.isEditable){const o=this.pmView.root.querySelector(`[data-node-type="blockContainer"][data-id="${s.block.id}"]`);this.state={show:!0,referencePos:o.getBoundingClientRect(),block:s.block},this.emitUpdate();return}(!e.state.selection.eq(r.selection)||!e.state.doc.eq(r.doc)||!this.editor.isEditable)&&(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}destroy(){this.pmView.dom.removeEventListener("mousedown",this.mouseDownHandler),this.pmView.dom.removeEventListener("dragstart",this.dragstartHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0)}}const Sw=new Je("FilePanelPlugin");class Wfe extends pu{constructor(e){super(),D(this,"view"),D(this,"plugin"),D(this,"closeMenu",()=>this.view.closeMenu()),this.plugin=new Oe({key:Sw,view:r=>(this.view=new zfe(e,Sw,r,n=>{this.emit("update",n)}),this.view),props:{handleKeyDown:(r,n)=>n.key==="Escape"&&this.shown?(this.view.closeMenu(),!0):!1},state:{init:()=>({block:void 0}),apply:r=>{var n;return{block:(n=r.getMeta(Sw))==null?void 0:n.block}}}})}get shown(){var e,r;return((r=(e=this.view)==null?void 0:e.state)==null?void 0:r.show)||!1}onUpdate(e){return this.on("update",e)}}class Gfe{constructor(e,r,n){D(this,"state"),D(this,"emitUpdate"),D(this,"preventHide",!1),D(this,"preventShow",!1),D(this,"shouldShow",({state:i,from:s,to:o,view:a})=>{const{doc:l,selection:c}=i,{empty:u}=c,d=!l.textBetween(s,o).length&&Dk(i.selection);return!(!a.hasFocus()||u||d)}),D(this,"blurHandler",i=>{var s;if(this.preventHide){this.preventHide=!1;return}const o=this.pmView.dom.parentElement;i&&i.relatedTarget&&(o===i.relatedTarget||o.contains(i.relatedTarget)||i.relatedTarget.matches(".bn-ui-container, .bn-ui-container *"))||(s=this.state)!=null&&s.show&&(this.state.show=!1,this.emitUpdate())}),D(this,"viewMousedownHandler",()=>{this.preventShow=!0}),D(this,"viewMouseupHandler",()=>{this.preventShow=!1,setTimeout(()=>this.update(this.pmView))}),D(this,"dragHandler",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),D(this,"scrollHandler",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.referencePos=this.getSelectionBoundingBox(),this.emitUpdate())}),D(this,"closeMenu",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=e,this.pmView=r,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized formatting toolbar");n(this.state)},r.dom.addEventListener("mousedown",this.viewMousedownHandler),r.dom.addEventListener("mouseup",this.viewMouseupHandler),r.dom.addEventListener("dragstart",this.dragHandler),r.dom.addEventListener("dragover",this.dragHandler),r.dom.addEventListener("blur",this.blurHandler),r.root.addEventListener("scroll",this.scrollHandler,!0)}update(e,r){var n,i;const{state:s,composing:o}=e,{doc:a,selection:l}=s,c=r&&r.doc.eq(a)&&r.selection.eq(l);if(o||c)return;const{ranges:u}=l,d=Math.min(...u.map(p=>p.$from.pos)),h=Math.max(...u.map(p=>p.$to.pos)),f=(n=this.shouldShow)==null?void 0:n.call(this,{view:e,state:s,from:d,to:h});if(!this.preventShow&&(f||this.preventHide)){this.state={show:!0,referencePos:this.getSelectionBoundingBox()},this.emitUpdate();return}if((i=this.state)!=null&&i.show&&!this.preventHide&&(!f||this.preventShow||!this.editor.isEditable)){this.state.show=!1,this.emitUpdate();return}}destroy(){this.pmView.dom.removeEventListener("mousedown",this.viewMousedownHandler),this.pmView.dom.removeEventListener("mouseup",this.viewMouseupHandler),this.pmView.dom.removeEventListener("dragstart",this.dragHandler),this.pmView.dom.removeEventListener("dragover",this.dragHandler),this.pmView.dom.removeEventListener("blur",this.blurHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0)}getSelectionBoundingBox(){const{state:e}=this.pmView,{selection:r}=e,{ranges:n}=r,i=Math.min(...n.map(o=>o.$from.pos)),s=Math.max(...n.map(o=>o.$to.pos));if(Boe(r)){const o=this.pmView.nodeDOM(i);if(o)return o.getBoundingClientRect()}return PC(this.pmView,i,s)}}const qfe=new Je("FormattingToolbarPlugin");class Kfe extends pu{constructor(e){super(),D(this,"view"),D(this,"plugin"),D(this,"closeMenu",()=>this.view.closeMenu()),this.plugin=new Oe({key:qfe,view:r=>(this.view=new Gfe(e,r,n=>{this.emit("update",n)}),this.view),props:{handleKeyDown:(r,n)=>n.key==="Escape"&&this.shown?(this.view.closeMenu(),!0):!1}})}get shown(){var e,r;return((r=(e=this.view)==null?void 0:e.state)==null?void 0:r.show)||!1}onUpdate(e){return this.on("update",e)}}class Zfe{constructor(e,r,n){D(this,"state"),D(this,"emitUpdate"),D(this,"menuUpdateTimer"),D(this,"startMenuUpdateTimer"),D(this,"stopMenuUpdateTimer"),D(this,"mouseHoveredLinkMark"),D(this,"mouseHoveredLinkMarkRange"),D(this,"keyboardHoveredLinkMark"),D(this,"keyboardHoveredLinkMarkRange"),D(this,"linkMark"),D(this,"linkMarkRange"),D(this,"mouseOverHandler",i=>{if(this.mouseHoveredLinkMark=void 0,this.mouseHoveredLinkMarkRange=void 0,this.stopMenuUpdateTimer(),i.target instanceof HTMLAnchorElement&&i.target.nodeName==="A"){const s=i.target,o=this.pmView.posAtDOM(s,0)+1,a=this.pmView.state.doc.resolve(o),l=a.marks();for(const c of l)if(c.type.name===this.pmView.state.schema.mark("link").type.name){this.mouseHoveredLinkMark=c,this.mouseHoveredLinkMarkRange=jd(a,c.type,c.attrs)||void 0;break}}return this.startMenuUpdateTimer(),!1}),D(this,"clickHandler",i=>{var s;const o=this.pmView.dom.parentElement;this.linkMark&&i&&i.target&&!(o===i.target||o.contains(i.target))&&(s=this.state)!=null&&s.show&&(this.state.show=!1,this.emitUpdate())}),D(this,"scrollHandler",()=>{var i;this.linkMark!==void 0&&(i=this.state)!=null&&i.show&&(this.state.referencePos=PC(this.pmView,this.linkMarkRange.from,this.linkMarkRange.to),this.emitUpdate())}),D(this,"closeMenu",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=e,this.pmView=r,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized link toolbar");n(this.state)},this.startMenuUpdateTimer=()=>{this.menuUpdateTimer=setTimeout(()=>{this.update()},250)},this.stopMenuUpdateTimer=()=>(this.menuUpdateTimer&&(clearTimeout(this.menuUpdateTimer),this.menuUpdateTimer=void 0),!1),this.pmView.dom.addEventListener("mouseover",this.mouseOverHandler),this.pmView.root.addEventListener("click",this.clickHandler,!0),this.pmView.root.addEventListener("scroll",this.scrollHandler,!0)}editLink(e,r){var n;const i=this.pmView.state.tr.insertText(r,this.linkMarkRange.from,this.linkMarkRange.to);i.addMark(this.linkMarkRange.from,this.linkMarkRange.from+r.length,this.pmView.state.schema.mark("link",{href:e})),this.editor.dispatch(i),this.pmView.focus(),(n=this.state)!=null&&n.show&&(this.state.show=!1,this.emitUpdate())}deleteLink(){var e;this.editor.dispatch(this.pmView.state.tr.removeMark(this.linkMarkRange.from,this.linkMarkRange.to,this.linkMark.type).setMeta("preventAutolink",!0)),this.pmView.focus(),(e=this.state)!=null&&e.show&&(this.state.show=!1,this.emitUpdate())}update(){var e;if(!this.pmView.hasFocus())return;const r=this.linkMark;if(this.linkMark=void 0,this.linkMarkRange=void 0,this.keyboardHoveredLinkMark=void 0,this.keyboardHoveredLinkMarkRange=void 0,this.pmView.state.selection.empty){const n=this.pmView.state.selection.$from.marks();for(const i of n)if(i.type.name===this.pmView.state.schema.mark("link").type.name){this.keyboardHoveredLinkMark=i,this.keyboardHoveredLinkMarkRange=jd(this.pmView.state.selection.$from,i.type,i.attrs)||void 0;break}}if(this.mouseHoveredLinkMark&&(this.linkMark=this.mouseHoveredLinkMark,this.linkMarkRange=this.mouseHoveredLinkMarkRange),this.keyboardHoveredLinkMark&&(this.linkMark=this.keyboardHoveredLinkMark,this.linkMarkRange=this.keyboardHoveredLinkMarkRange),this.linkMark&&this.editor.isEditable){this.state={show:!0,referencePos:PC(this.pmView,this.linkMarkRange.from,this.linkMarkRange.to),url:this.linkMark.attrs.href,text:this.pmView.state.doc.textBetween(this.linkMarkRange.from,this.linkMarkRange.to)},this.emitUpdate();return}if((e=this.state)!=null&&e.show&&r&&(!this.linkMark||!this.editor.isEditable)){this.state.show=!1,this.emitUpdate();return}}destroy(){this.pmView.dom.removeEventListener("mouseover",this.mouseOverHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0),this.pmView.root.removeEventListener("click",this.clickHandler,!0)}}const Yfe=new Je("LinkToolbarPlugin");class Jfe extends pu{constructor(e){super(),D(this,"view"),D(this,"plugin"),D(this,"editLink",(r,n)=>{this.view.editLink(r,n)}),D(this,"deleteLink",()=>{this.view.deleteLink()}),D(this,"startHideTimer",()=>{this.view.startMenuUpdateTimer()}),D(this,"stopHideTimer",()=>{this.view.stopMenuUpdateTimer()}),D(this,"closeMenu",()=>this.view.closeMenu()),this.plugin=new Oe({key:Yfe,view:r=>(this.view=new Zfe(e,r,n=>{this.emit("update",n)}),this.view),props:{handleKeyDown:(r,n)=>n.key==="Escape"&&this.shown?(this.view.closeMenu(),!0):!1}})}onUpdate(e){return this.on("update",e)}get shown(){var e,r;return((r=(e=this.view)==null?void 0:e.state)==null?void 0:r.show)||!1}}class sc extends se{constructor(e,r){super(e,r),D(this,"nodes");const n=e.node();this.nodes=[],e.doc.nodesBetween(e.pos,r.pos,(i,s,o)=>{if(o!==null&&o.eq(n))return this.nodes.push(i),!1})}static create(e,r,n=r){return new sc(e.resolve(r),e.resolve(n))}content(){return new N(S.from(this.nodes),0,0)}eq(e){if(!(e instanceof sc)||this.nodes.length!==e.nodes.length||this.from!==e.from||this.to!==e.to)return!1;for(let r=0;r<this.nodes.length;r++)if(!this.nodes[r].eq(e.nodes[r]))return!1;return!0}map(e,r){const n=r.mapResult(this.from),i=r.mapResult(this.to);return i.deleted?se.near(e.resolve(n.pos)):n.deleted?se.near(e.resolve(i.pos)):new sc(e.resolve(n.pos),e.resolve(i.pos))}toJSON(){return{type:"node",anchor:this.anchor,head:this.head}}}let Si;function Hv(t,e){for(var r,n;t&&t.parentElement&&t.parentElement!==e.dom&&((r=t.getAttribute)==null?void 0:r.call(t,"data-node-type"))!=="blockContainer";)t=t.parentElement;if(((n=t.getAttribute)==null?void 0:n.call(t,"data-node-type"))==="blockContainer")return{node:t,id:t.getAttribute("data-id")}}function Xfe(t,e){const r=Hv(t,e);if(r&&r.node.nodeType===1){const n=e.docView,i=n.nearestDesc(r.node,!0);return!i||i===n?null:i.posBefore}return null}function Qfe(t,e){let r,n;const i=e.resolve(t.from).node().type.spec.group==="blockContent",s=e.resolve(t.to).node().type.spec.group==="blockContent",o=Math.min(t.$anchor.depth,t.$head.depth);if(i&&s){const a=t.$from.start(o-1),l=t.$to.end(o-1);r=e.resolve(a-1).pos,n=e.resolve(l+1).pos}else r=t.from,n=t.to;return{from:r,to:n}}function rA(t,e,r=e){e===r&&(r+=t.state.doc.resolve(e+1).node().nodeSize);const n=t.domAtPos(e).node.cloneNode(!0),i=t.domAtPos(e).node,s=(c,u)=>Array.prototype.indexOf.call(c.children,u),o=s(i,t.domAtPos(e+1).node.parentElement),a=s(i,t.domAtPos(r-1).node.parentElement);for(let c=i.childElementCount-1;c>=0;c--)(c>a||c<o)&&n.removeChild(n.children[c]);CU(t.root),Si=n;const l=t.dom.className.split(" ").filter(c=>c!=="ProseMirror"&&c!=="bn-root"&&c!=="bn-editor").join(" ");Si.className=Si.className+" bn-drag-preview "+l,t.root instanceof ShadowRoot?t.root.appendChild(Si):t.root.body.appendChild(Si)}function CU(t){Si!==void 0&&(t instanceof ShadowRoot?t.removeChild(Si):t.body.removeChild(Si),Si=void 0)}function epe(t,e){if(!t.dataTransfer)return;const r=e.prosemirrorView,n=r.dom.getBoundingClientRect(),i={left:n.left+n.width/2,top:t.clientY},s=r.root.elementsFromPoint(i.left,i.top);let o;for(const l of s)if(r.dom.contains(l)){o=Hv(l,r);break}if(!o)return;const a=Xfe(o.node,r);if(a!=null){const l=r.state.selection,c=r.state.doc,{from:u,to:d}=Qfe(l,c),h=u<=a&&a<d,f=l.$anchor.node()!==l.$head.node()||l instanceof sc;h&&f?(r.dispatch(r.state.tr.setSelection(sc.create(c,u,d))),rA(r,u,d)):(r.dispatch(r.state.tr.setSelection(X.create(r.state.doc,a))),rA(r,a));const p=r.state.selection.content(),g=e.pmSchema,m=rM(g,e).serializeProseMirrorFragment(p.content,{}),y=Nv(g,e).exportProseMirrorFragment(p.content,{}),v=aM(y);t.dataTransfer.clearData(),t.dataTransfer.setData("blocknote/html",m),t.dataTransfer.setData("text/html",y),t.dataTransfer.setData("text/plain",v),t.dataTransfer.effectAllowed="move",t.dataTransfer.setDragImage(Si,0,0),r.dragging={slice:p,move:!0}}}class tpe{constructor(e,r,n){D(this,"state"),D(this,"emitUpdate"),D(this,"needUpdate",!1),D(this,"mousePos"),D(this,"horizontalPosAnchoredAtRoot"),D(this,"horizontalPosAnchor"),D(this,"hoveredBlock"),D(this,"isDragging",!1),D(this,"menuFrozen",!1),D(this,"updateState",()=>{var i,s,o,a;if(this.menuFrozen||!this.mousePos)return;const l=this.pmView.dom.firstChild.getBoundingClientRect();this.horizontalPosAnchor=l.x;const c={left:l.left+l.width/2,top:this.mousePos.y},u=this.pmView.root.elementsFromPoint(c.left,c.top);let d;for(const f of u)if(this.pmView.dom.contains(f)){d=Hv(f,this.pmView);break}if(!d||!this.editor.isEditable){(i=this.state)!=null&&i.show&&(this.state.show=!1,this.needUpdate=!0);return}if((s=this.state)!=null&&s.show&&(o=this.hoveredBlock)!=null&&o.hasAttribute("data-id")&&((a=this.hoveredBlock)==null?void 0:a.getAttribute("data-id"))===d.id)return;this.hoveredBlock=d.node;const h=d.node.firstChild;if(h&&this.editor.isEditable){const f=h.getBoundingClientRect();this.state={show:!0,referencePos:new DOMRect(this.horizontalPosAnchoredAtRoot?this.horizontalPosAnchor:f.x,f.y,f.width,f.height),block:this.editor.getBlock(this.hoveredBlock.getAttribute("data-id"))},this.needUpdate=!0}}),D(this,"onDragStart",()=>{this.isDragging=!0}),D(this,"onDrop",i=>{if(this.editor._tiptapEditor.commands.blur(),i.synthetic||!this.isDragging)return;const s=this.pmView.posAtCoords({left:i.clientX,top:i.clientY});if(this.isDragging=!1,!s||s.inside===-1){const o=new Event("drop",i),a=this.pmView.dom.firstChild.getBoundingClientRect();o.clientX=i.clientX<a.left||i.clientX>a.left+a.width?a.left+a.width/2:i.clientX,o.clientY=Math.min(Math.max(i.clientY,a.top),a.top+a.height),o.dataTransfer=i.dataTransfer,o.preventDefault=()=>i.preventDefault(),o.synthetic=!0,this.pmView.dom.dispatchEvent(o)}}),D(this,"onDragOver",i=>{if(i.synthetic||!this.isDragging)return;const s=this.pmView.posAtCoords({left:i.clientX,top:i.clientY});if(!s||s.inside===-1){const o=new Event("dragover",i),a=this.pmView.dom.firstChild.getBoundingClientRect();o.clientX=a.left+a.width/2,o.clientY=i.clientY,o.dataTransfer=i.dataTransfer,o.preventDefault=()=>i.preventDefault(),o.synthetic=!0,this.pmView.dom.dispatchEvent(o)}}),D(this,"onKeyDown",i=>{var s;(s=this.state)!=null&&s.show&&this.editor.isFocused()&&(this.state.show=!1,this.emitUpdate(this.state),this.menuFrozen=!1)}),D(this,"onMouseDown",()=>{this.state&&this.state.show&&this.menuFrozen&&(this.menuFrozen=!1,this.state.show=!1,this.emitUpdate(this.state))}),D(this,"onMouseMove",i=>{var s;if(this.menuFrozen)return;this.mousePos={x:i.clientX,y:i.clientY};const o=this.pmView.dom.getBoundingClientRect(),a=this.mousePos.x>o.left&&this.mousePos.x<o.right&&this.mousePos.y>o.top&&this.mousePos.y<o.bottom,l=this.pmView.dom.parentElement;if(a&&i&&i.target&&!(l===i.target||l.contains(i.target))){(s=this.state)!=null&&s.show&&(this.state.show=!1,this.emitUpdate(this.state));return}this.updateState(),this.needUpdate&&(this.emitUpdate(this.state),this.needUpdate=!1)}),D(this,"onScroll",()=>{var i;if((i=this.state)!=null&&i.show){const s=this.hoveredBlock.firstChild.getBoundingClientRect();this.state.referencePos=new DOMRect(this.horizontalPosAnchoredAtRoot?this.horizontalPosAnchor:s.x,s.y,s.width,s.height),this.emitUpdate(this.state)}}),this.editor=e,this.pmView=r,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized side menu");n(this.state)},this.horizontalPosAnchoredAtRoot=!0,this.horizontalPosAnchor=this.pmView.dom.firstChild.getBoundingClientRect().x,this.pmView.root.addEventListener("drop",this.onDrop,!0),this.pmView.root.addEventListener("dragover",this.onDragOver),Jh(),this.pmView.dom.addEventListener("dragstart",this.onDragStart),this.pmView.root.addEventListener("mousemove",this.onMouseMove,!0),this.pmView.dom.addEventListener("mousedown",this.onMouseDown),this.pmView.root.addEventListener("keydown",this.onKeyDown,!0),this.pmView.root.addEventListener("scroll",this.onScroll,!0)}update(){var e;const r=(e=this.state)==null?void 0:e.block.id;this.updateState(),this.needUpdate&&this.state&&r!==this.state.block.id&&(this.emitUpdate(this.state),this.needUpdate=!1)}destroy(){var e;(e=this.state)!=null&&e.show&&(this.state.show=!1,this.emitUpdate(this.state)),this.pmView.root.removeEventListener("mousemove",this.onMouseMove,!0),this.pmView.root.removeEventListener("dragover",this.onDragOver),this.pmView.dom.removeEventListener("dragstart",this.onDragStart),this.pmView.root.removeEventListener("drop",this.onDrop,!0),this.pmView.root.removeEventListener("scroll",this.onScroll,!0),this.pmView.dom.removeEventListener("mousedown",this.onMouseDown),this.pmView.root.removeEventListener("keydown",this.onKeyDown,!0)}addBlock(){var e;(e=this.state)!=null&&e.show&&(this.state.show=!1,this.emitUpdate(this.state));const r=this.hoveredBlock.firstChild.getBoundingClientRect(),n=this.pmView.posAtCoords({left:r.left+r.width/2,top:r.top+r.height/2});if(!n)return;const i=mt(this.editor._tiptapEditor.state.doc,n.pos);if(i===void 0)return;const{contentNode:s,startPos:o,endPos:a}=i;if(s.type.spec.content!=="inline*"||s.textContent.length!==0){const l=a+1,c=l+2;this.editor._tiptapEditor.chain().BNCreateBlock(l).setTextSelection(c).run()}else this.editor._tiptapEditor.commands.setTextSelection(o+1);this.editor.openSelectionMenu("/")}}const npe=new Je("SideMenuPlugin");class rpe extends pu{constructor(e){super(),D(this,"view"),D(this,"plugin"),D(this,"addBlock",()=>this.view.addBlock()),D(this,"blockDragStart",r=>{this.view.isDragging=!0,epe(r,this.editor)}),D(this,"blockDragEnd",()=>CU(this.editor.prosemirrorView.root)),D(this,"freezeMenu",()=>this.view.menuFrozen=!0),D(this,"unfreezeMenu",()=>{this.view.menuFrozen=!1,this.view.state.show=!1,this.view.emitUpdate(this.view.state)}),this.editor=e,this.plugin=new Oe({key:npe,view:r=>(this.view=new tpe(e,r,n=>{this.emit("update",n)}),this.view)})}onUpdate(e){return this.on("update",e)}}const ipe=_v(t=>t.type.name==="blockContainer");class spe{constructor(e,r){D(this,"state"),D(this,"emitUpdate"),D(this,"rootEl"),D(this,"pluginState"),D(this,"handleScroll",()=>{var n,i;if((n=this.state)!=null&&n.show){const s=(i=this.rootEl)==null?void 0:i.querySelector(`[data-decoration-id="${this.pluginState.decorationId}"]`);this.state.referencePos=s.getBoundingClientRect(),this.emitUpdate(this.pluginState.triggerCharacter)}}),D(this,"closeMenu",()=>{this.editor.dispatch(this.editor._tiptapEditor.view.state.tr.setMeta(oc,null))}),D(this,"clearQuery",()=>{this.pluginState!==void 0&&this.editor._tiptapEditor.chain().focus().deleteRange({from:this.pluginState.queryStartPos-(this.pluginState.fromUserInput?this.pluginState.triggerCharacter.length:0),to:this.editor._tiptapEditor.state.selection.from}).run()}),this.editor=e,this.pluginState=void 0,this.emitUpdate=n=>{if(!this.state)throw new Error("Attempting to update uninitialized suggestions menu");r(n,this.state)},this.rootEl=this.editor._tiptapEditor.view.root,this.rootEl.addEventListener("scroll",this.handleScroll,!0)}update(e,r){var n;const i=oc.getState(r),s=oc.getState(e.state),o=i===void 0&&s!==void 0,a=i!==void 0&&s===void 0;if(!o&&!(i!==void 0&&s!==void 0)&&!a)return;if(this.pluginState=a?i:s,a||!this.editor.isEditable){this.state.show=!1,this.emitUpdate(this.pluginState.triggerCharacter);return}const l=(n=this.rootEl)==null?void 0:n.querySelector(`[data-decoration-id="${this.pluginState.decorationId}"]`);this.editor.isEditable&&(this.state={show:!0,referencePos:l.getBoundingClientRect(),query:this.pluginState.query},this.emitUpdate(this.pluginState.triggerCharacter))}destroy(){var e;(e=this.rootEl)==null||e.removeEventListener("scroll",this.handleScroll,!0)}}const oc=new Je("SuggestionMenuPlugin");class ope extends pu{constructor(e){super(),D(this,"view"),D(this,"plugin"),D(this,"triggerCharacters",[]),D(this,"addTriggerCharacter",n=>{this.triggerCharacters.push(n)}),D(this,"removeTriggerCharacter",n=>{this.triggerCharacters=this.triggerCharacters.filter(i=>i!==n)}),D(this,"closeMenu",()=>this.view.closeMenu()),D(this,"clearQuery",()=>this.view.clearQuery());const r=this.triggerCharacters;this.plugin=new Oe({key:oc,view:()=>(this.view=new spe(e,(n,i)=>{this.emit(`update ${n}`,i)}),this.view),state:{init(){},apply(n,i,s,o){if(n.getMeta("orderedListIndexing")!==void 0)return i;const a=n.getMeta(oc);if(typeof a=="object"&&a!==null&&i===void 0)return{triggerCharacter:a.triggerCharacter,fromUserInput:a.fromUserInput!==!1,queryStartPos:o.selection.from,query:"",decorationId:`id_${Math.floor(Math.random()*4294967295)}`};if(i===void 0)return i;if(o.selection.from!==o.selection.to||a===null||n.getMeta("focus")||n.getMeta("blur")||n.getMeta("pointer")||i.triggerCharacter!==void 0&&o.selection.from<i.queryStartPos)return;const l={...i};return l.query=o.doc.textBetween(i.queryStartPos,o.selection.from),l}},props:{handleTextInput(n,i,s,o){const a=this.getState(n.state);return r.includes(o)&&a===void 0?(n.dispatch(n.state.tr.insertText(o).scrollIntoView().setMeta(oc,{triggerCharacter:o})),!0):!1},decorations(n){const i=this.getState(n);if(i===void 0)return null;if(!i.fromUserInput){const s=ipe(n.selection);if(s)return ze.create(n.doc,[vt.node(s.pos,s.pos+s.node.nodeSize,{nodeName:"span",class:"bn-suggestion-decorator","data-decoration-id":i.decorationId})])}return ze.create(n.doc,[vt.inline(i.queryStartPos-i.triggerCharacter.length,i.queryStartPos,{nodeName:"span",class:"bn-suggestion-decorator","data-decoration-id":i.decorationId})])}}})}onUpdate(e,r){return this.triggerCharacters.includes(e)||this.addTriggerCharacter(e),this.on(`update ${e}`,r)}get shown(){var e,r;return((r=(e=this.view)==null?void 0:e.state)==null?void 0:r.show)||!1}}let Mn;function iA(t){Mn||(Mn=document.createElement("div"),Mn.innerHTML="_",Mn.style.opacity="0",Mn.style.height="1px",Mn.style.width="1px",t instanceof Document?t.body.appendChild(Mn):t.appendChild(Mn))}function ape(t){Mn&&(t instanceof Document?t.body.removeChild(Mn):t.removeChild(Mn),Mn=void 0)}function Kf(t){return Array.prototype.indexOf.call(t.parentElement.childNodes,t)}function lpe(t){for(;t&&t.nodeName!=="TD"&&t.nodeName!=="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function cpe(t,e){t.forEach(r=>{const n=e.querySelectorAll(r);for(let i=0;i<n.length;i++)n[i].style.visibility="hidden"})}class upe{constructor(e,r,n){D(this,"state"),D(this,"emitUpdate"),D(this,"tableId"),D(this,"tablePos"),D(this,"menuFrozen",!1),D(this,"prevWasEditable",null),D(this,"mouseMoveHandler",i=>{var s;if(this.menuFrozen)return;const o=lpe(i.target);if(!o||!this.editor.isEditable){(s=this.state)!=null&&s.show&&(this.state.show=!1,this.emitUpdate());return}const a=Kf(o),l=Kf(o.parentElement),c=o.getBoundingClientRect(),u=o.parentElement.parentElement.getBoundingClientRect(),d=Hv(o,this.pmView);if(!d)return;let h;if(this.editor._tiptapEditor.state.doc.descendants((f,p)=>{if(typeof h<"u")return!1;if(f.type.name!=="blockContainer"||f.attrs.id!==d.id)return!0;const g=xn(f,this.editor.schema.blockSchema,this.editor.schema.inlineContentSchema,this.editor.schema.styleSchema,this.editor.blockCache);return Sfe("table",g,this.editor)&&(this.tablePos=p+1,h=g),!1}),!!h&&(this.tableId=d.id,!(this.state!==void 0&&this.state.show&&this.tableId===d.id&&this.state.rowIndex===l&&this.state.colIndex===a)))return this.state={show:!0,referencePosCell:c,referencePosTable:u,block:h,colIndex:a,rowIndex:l,draggingState:void 0},this.emitUpdate(),!1}),D(this,"dragOverHandler",i=>{var s;if(((s=this.state)==null?void 0:s.draggingState)===void 0)return;i.preventDefault(),i.dataTransfer.dropEffect="move",cpe(["column-resize-handle","prosemirror-dropcursor-block","prosemirror-dropcursor-inline"],this.pmView.root);const o={left:Math.min(Math.max(i.clientX,this.state.referencePosTable.left+1),this.state.referencePosTable.right-1),top:Math.min(Math.max(i.clientY,this.state.referencePosTable.top+1),this.state.referencePosTable.bottom-1)},a=this.pmView.root.elementsFromPoint(o.left,o.top).filter(g=>g.tagName==="TD"||g.tagName==="TH");if(a.length===0)throw new Error("Could not find table cell element that the mouse cursor is hovering over.");const l=a[0];let c=!1;const u=Kf(l.parentElement),d=Kf(l),h=this.state.draggingState.draggedCellOrientation==="row"?this.state.rowIndex:this.state.colIndex,f=(this.state.draggingState.draggedCellOrientation==="row"?u:d)!==h;(this.state.rowIndex!==u||this.state.colIndex!==d)&&(this.state.rowIndex=u,this.state.colIndex=d,this.state.referencePosCell=l.getBoundingClientRect(),c=!0);const p=this.state.draggingState.draggedCellOrientation==="row"?o.top:o.left;this.state.draggingState.mousePos!==p&&(this.state.draggingState.mousePos=p,c=!0),c&&this.emitUpdate(),f&&this.editor.dispatch(this.pmView.state.tr.setMeta(Fu,!0))}),D(this,"dropHandler",i=>{if(this.state===void 0||this.state.draggingState===void 0)return;i.preventDefault();const s=this.state.block.content.rows;if(this.state.draggingState.draggedCellOrientation==="row"){const o=s[this.state.draggingState.originalIndex];s.splice(this.state.draggingState.originalIndex,1),s.splice(this.state.rowIndex,0,o)}else{const o=s.map(a=>a.cells[this.state.draggingState.originalIndex]);s.forEach((a,l)=>{a.cells.splice(this.state.draggingState.originalIndex,1),a.cells.splice(this.state.colIndex,0,o[l])})}this.editor.updateBlock(this.state.block,{type:"table",content:{type:"tableContent",rows:s}})}),D(this,"scrollHandler",()=>{var i;if((i=this.state)!=null&&i.show){const s=this.pmView.root.querySelector(`[data-node-type="blockContainer"][data-id="${this.tableId}"] table`),o=s.querySelector(`tr:nth-child(${this.state.rowIndex+1}) > td:nth-child(${this.state.colIndex+1})`);this.state.referencePosTable=s.getBoundingClientRect(),this.state.referencePosCell=o.getBoundingClientRect(),this.emitUpdate()}}),this.editor=e,this.pmView=r,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized image toolbar");n(this.state)},r.dom.addEventListener("mousemove",this.mouseMoveHandler),r.root.addEventListener("dragover",this.dragOverHandler),r.root.addEventListener("drop",this.dropHandler),r.root.addEventListener("scroll",this.scrollHandler,!0)}destroy(){this.pmView.dom.removeEventListener("mousemove",this.mouseMoveHandler),this.pmView.root.removeEventListener("dragover",this.dragOverHandler),this.pmView.root.removeEventListener("drop",this.dropHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0)}}const Fu=new Je("TableHandlesPlugin");class dpe extends pu{constructor(e){super(),D(this,"view"),D(this,"plugin"),D(this,"colDragStart",r=>{if(this.view.state===void 0)throw new Error("Attempted to drag table column, but no table block was hovered prior.");this.view.state.draggingState={draggedCellOrientation:"col",originalIndex:this.view.state.colIndex,mousePos:r.clientX},this.view.emitUpdate(),this.editor.dispatch(this.editor._tiptapEditor.state.tr.setMeta(Fu,{draggedCellOrientation:this.view.state.draggingState.draggedCellOrientation,originalIndex:this.view.state.colIndex,newIndex:this.view.state.colIndex,tablePos:this.view.tablePos})),iA(this.editor._tiptapEditor.view.root),r.dataTransfer.setDragImage(Mn,0,0),r.dataTransfer.effectAllowed="move"}),D(this,"rowDragStart",r=>{if(this.view.state===void 0)throw new Error("Attempted to drag table row, but no table block was hovered prior.");this.view.state.draggingState={draggedCellOrientation:"row",originalIndex:this.view.state.rowIndex,mousePos:r.clientY},this.view.emitUpdate(),this.editor.dispatch(this.editor._tiptapEditor.state.tr.setMeta(Fu,{draggedCellOrientation:this.view.state.draggingState.draggedCellOrientation,originalIndex:this.view.state.rowIndex,newIndex:this.view.state.rowIndex,tablePos:this.view.tablePos})),iA(this.editor._tiptapEditor.view.root),r.dataTransfer.setDragImage(Mn,0,0),r.dataTransfer.effectAllowed="copyMove"}),D(this,"dragEnd",()=>{if(this.view.state===void 0)throw new Error("Attempted to drag table row, but no table block was hovered prior.");this.view.state.draggingState=void 0,this.view.emitUpdate(),this.editor.dispatch(this.editor._tiptapEditor.state.tr.setMeta(Fu,null)),ape(this.editor._tiptapEditor.view.root)}),D(this,"freezeHandles",()=>{this.view.menuFrozen=!0}),D(this,"unfreezeHandles",()=>{this.view.menuFrozen=!1}),this.editor=e,this.plugin=new Oe({key:Fu,view:r=>(this.view=new upe(e,r,n=>{this.emit("update",n)}),this.view),props:{decorations:r=>{if(this.view===void 0||this.view.state===void 0||this.view.state.draggingState===void 0||this.view.tablePos===void 0)return;const n=this.view.state.draggingState.draggedCellOrientation==="row"?this.view.state.rowIndex:this.view.state.colIndex,i=[];if(n===this.view.state.draggingState.originalIndex)return ze.create(r.doc,i);const s=r.doc.resolve(this.view.tablePos+1),o=s.node();if(this.view.state.draggingState.draggedCellOrientation==="row"){const a=r.doc.resolve(s.posAtIndex(n)+1),l=a.node();for(let c=0;c<l.childCount;c++){const u=r.doc.resolve(a.posAtIndex(c)+1),d=u.node(),h=u.pos+(n>this.view.state.draggingState.originalIndex?d.nodeSize-2:0);i.push(vt.widget(h,()=>{const f=document.createElement("div");return f.className="bn-table-drop-cursor",f.style.left="0",f.style.right="0",n>this.view.state.draggingState.originalIndex?f.style.bottom="-2px":f.style.top="-3px",f.style.height="4px",f}))}}else for(let a=0;a<o.childCount;a++){const l=r.doc.resolve(s.posAtIndex(a)+1),c=r.doc.resolve(l.posAtIndex(n)+1),u=c.node(),d=c.pos+(n>this.view.state.draggingState.originalIndex?u.nodeSize-2:0);i.push(vt.widget(d,()=>{const h=document.createElement("div");return h.className="bn-table-drop-cursor",h.style.top="0",h.style.bottom="0",n>this.view.state.draggingState.originalIndex?h.style.right="-2px":h.style.left="-3px",h.style.width="4px",h}))}return ze.create(r.doc,i)}}})}onUpdate(e){return this.on("update",e)}}async function sA(t,e){const r=t.state.selection.content().content,n=(await rM(t.state.schema,e)).serializeProseMirrorFragment(r,{});await Jh();const i=Nv(t.state.schema,e).exportProseMirrorFragment(r,{}),s=await aM(i);return{internalHTML:n,externalHTML:i,plainText:s}}const hpe=t=>ct.create({name:"copyToClipboard",addProseMirrorPlugins(){return[new Oe({props:{handleDOMEvents:{copy(e,r){return r.preventDefault(),r.clipboardData.clearData(),"node"in e.state.selection&&e.state.selection.node.type.spec.group==="blockContent"&&t.dispatch(t._tiptapEditor.state.tr.setSelection(new X(e.state.doc.resolve(e.state.selection.from-1)))),(async()=>{const{internalHTML:n,externalHTML:i,plainText:s}=await sA(e,t);r.clipboardData.setData("blocknote/html",n),r.clipboardData.setData("text/html",i),r.clipboardData.setData("text/plain",s)})(),!0},dragstart(e,r){if("node"in e.state.selection&&e.state.selection.node.type.spec.group==="blockContent")return t.dispatch(t._tiptapEditor.state.tr.setSelection(new X(e.state.doc.resolve(e.state.selection.from-1)))),r.preventDefault(),r.dataTransfer.clearData(),(async()=>{const{internalHTML:n,externalHTML:i,plainText:s}=await sA(e,t);r.dataTransfer.setData("blocknote/html",n),r.dataTransfer.setData("text/html",i),r.dataTransfer.setData("text/plain",s)})(),!0}}}})]}});function fpe(t){let e=t.getTextCursorPosition().block,r=t.schema.blockSchema[e.type].content;for(;r==="none";)e=t.getTextCursorPosition().nextBlock,r=t.schema.blockSchema[e.type].content,t.setTextCursorPosition(e,"end")}function $n(t,e){const r=t.getTextCursorPosition().block;if(r.content===void 0)throw new Error("Slash Menu open in a block that doesn't contain content.");Array.isArray(r.content)&&(r.content.length===1&&Um(r.content[0])&&r.content[0].type==="text"&&r.content[0].text==="/"||r.content.length===0)?t.updateBlock(r,e):(t.insertBlocks([e],r,"after"),t.setTextCursorPosition(t.getTextCursorPosition().nextBlock,"end"));const n=t.getTextCursorPosition().block;return fpe(t),n}function Lme(t){const e=[];return lr("heading",t)&&e.push({onItemClick:()=>{$n(t,{type:"heading",props:{level:1}})},badge:Jo("Mod-Alt-1"),key:"heading",...t.dictionary.slash_menu.heading},{onItemClick:()=>{$n(t,{type:"heading",props:{level:2}})},badge:Jo("Mod-Alt-2"),key:"heading_2",...t.dictionary.slash_menu.heading_2},{onItemClick:()=>{$n(t,{type:"heading",props:{level:3}})},badge:Jo("Mod-Alt-3"),key:"heading_3",...t.dictionary.slash_menu.heading_3}),lr("numberedListItem",t)&&e.push({onItemClick:()=>{$n(t,{type:"numberedListItem"})},badge:Jo("Mod-Shift-7"),key:"numbered_list",...t.dictionary.slash_menu.numbered_list}),lr("bulletListItem",t)&&e.push({onItemClick:()=>{$n(t,{type:"bulletListItem"})},badge:Jo("Mod-Shift-8"),key:"bullet_list",...t.dictionary.slash_menu.bullet_list}),lr("checkListItem",t)&&e.push({onItemClick:()=>{$n(t,{type:"checkListItem"})},badge:Jo("Mod-Shift-9"),key:"check_list",...t.dictionary.slash_menu.check_list}),lr("paragraph",t)&&e.push({onItemClick:()=>{$n(t,{type:"paragraph"})},badge:Jo("Mod-Alt-0"),key:"paragraph",...t.dictionary.slash_menu.paragraph}),lr("table",t)&&e.push({onItemClick:()=>{$n(t,{type:"table",content:{type:"tableContent",rows:[{cells:["","",""]},{cells:["","",""]}]}})},badge:void 0,key:"table",...t.dictionary.slash_menu.table}),lr("image",t)&&e.push({onItemClick:()=>{const r=$n(t,{type:"image"});t.dispatch(t._tiptapEditor.state.tr.setMeta(t.filePanel.plugin,{block:r}))},key:"image",...t.dictionary.slash_menu.image}),lr("video",t)&&e.push({onItemClick:()=>{const r=$n(t,{type:"video"});t.dispatch(t._tiptapEditor.state.tr.setMeta(t.filePanel.plugin,{block:r}))},key:"video",...t.dictionary.slash_menu.video}),lr("audio",t)&&e.push({onItemClick:()=>{const r=$n(t,{type:"audio"});t.dispatch(t._tiptapEditor.state.tr.setMeta(t.filePanel.plugin,{block:r}))},key:"audio",...t.dictionary.slash_menu.audio}),lr("file",t)&&e.push({onItemClick:()=>{const r=$n(t,{type:"file"});t.dispatch(t._tiptapEditor.state.tr.setMeta(t.filePanel.plugin,{block:r}))},key:"image",...t.dictionary.slash_menu.file}),e.push({onItemClick:()=>t.openSelectionMenu(":"),key:"emoji",...t.dictionary.slash_menu.emoji}),e}function Fme(t,e){return t.filter(({title:r,aliases:n})=>r.toLowerCase().includes(e.toLowerCase())||n&&n.filter(i=>i.toLowerCase().includes(e.toLowerCase())).length!==0)}const lM=["blocknote/html","Files","text/html","text/plain"];function ppe(t,e){const r=t.split("/"),n=e.split("/");if(r.length!==2)throw new Error(`The string ${t} is not a valid MIME type.`);if(n.length!==2)throw new Error(`The string ${e} is not a valid MIME type.`);return r[1]==="*"||n[1]==="*"?r[0]===n[0]:(r[0]==="*"||n[0]==="*"||r[0]===n[0])&&r[1]===n[1]}async function EU(t,e){if(!e.uploadFile)return;const r="dataTransfer"in t?t.dataTransfer:t.clipboardData;if(r===null)return;let n=null;for(const o of lM)if(r.types.includes(o)){n=o;break}if(n!=="Files")return;const i=r.items;if(!i)return;t.preventDefault();const s=Object.values(e.schema.blockSchema).filter(o=>o.isFileBlock);for(let o=0;o<i.length;o++){let a="file";for(const c of s)for(const u of c.fileBlockAcceptMimeTypes||[])if(ppe(i[o].type,u)){a=c.type;break}const l=i[o].getAsFile();if(l){const c=await e.uploadFile(l);if(typeof c=="string"){const u={type:a,props:{name:l.name,url:c}};$n(e,u)}}}}const gpe=t=>ct.create({name:"pasteFromClipboard",addProseMirrorPlugins(){return[new Oe({props:{handleDOMEvents:{paste(e,r){if(r.preventDefault(),!t.isEditable)return;let n=null;for(const s of lM)if(r.clipboardData.types.includes(s)){n=s;break}if(n===null)return!0;if(n==="Files")return EU(r,t),!0;let i=r.clipboardData.getData(n);return n==="text/html"&&(i=wU(i.trim()).innerHTML),t._tiptapEditor.view.pasteHTML(i),!0}}}})]}}),mpe=t=>ct.create({name:"dropFile",addProseMirrorPlugins(){return[new Oe({props:{handleDOMEvents:{drop(e,r){if(!t.isEditable)return;let n=null;for(const i of lM)if(r.dataTransfer.types.includes(i)){n=i;break}return n===null?!0:n==="Files"?(EU(r,t),!0):!1}}}})]}}),ype=ct.create({name:"blockBackgroundColor",addGlobalAttributes(){return[{types:["blockContainer"],attributes:{backgroundColor:{default:jt.backgroundColor.default,parseHTML:t=>t.hasAttribute("data-background-color")?t.getAttribute("data-background-color"):jt.backgroundColor.default,renderHTML:t=>t.backgroundColor===jt.backgroundColor.default?{}:{"data-background-color":t.backgroundColor}}}}]}}),vpe=ct.create({name:"textAlignment",addGlobalAttributes(){return[{types:["paragraph","heading","bulletListItem","numberedListItem","checkListItem"],attributes:{textAlignment:{default:"left",parseHTML:t=>t.getAttribute("data-text-alignment"),renderHTML:t=>t.textAlignment==="left"?{}:{"data-text-alignment":t.textAlignment}}}}]}}),bpe=ct.create({name:"blockTextColor",addGlobalAttributes(){return[{types:["blockContainer"],attributes:{textColor:{default:jt.textColor.default,parseHTML:t=>t.hasAttribute("data-text-color")?t.getAttribute("data-text-color"):jt.textColor.default,renderHTML:t=>t.textColor===jt.textColor.default?{}:{"data-text-color":t.textColor}}}}]}}),wpe=ct.create({name:"trailingNode",addProseMirrorPlugins(){const t=new Je(this.name);return[new Oe({key:t,appendTransaction:(e,r,n)=>{const{doc:i,tr:s,schema:o}=n,a=t.getState(n),l=i.content.size-2,c=o.nodes.blockContainer,u=o.nodes.paragraph;if(a)return s.insert(l,c.create(void 0,u.create()))},state:{init:(e,r)=>{},apply:(e,r)=>{if(!e.docChanged)return r;let n=e.doc.lastChild;if(!n||n.type.name!=="blockGroup")throw new Error("Expected blockGroup");if(n=n.lastChild,!n||n.type.name!=="blockContainer")throw new Error("Expected blockContainer");const i=n.firstChild;if(!i)throw new Error("Expected blockContent");return n.nodeSize>4||i.type.spec.content!=="inline*"}}})]}}),_pe=new Je("non-editable-block"),Cpe=()=>new Oe({key:_pe,props:{handleKeyDown:(t,e)=>{if("node"in t.state.selection){if(e.ctrlKey||e.metaKey)return!1;if(e.key.length===1)return e.preventDefault(),!0;if(e.key==="Enter"&&!e.shiftKey&&!e.altKey&&!e.ctrlKey&&!e.metaKey){const r=t.state.tr;return t.dispatch(r.insert(t.state.tr.selection.$to.after(),t.state.schema.nodes.paragraph.create()).setSelection(new te(r.doc.resolve(t.state.tr.selection.$to.after()+1)))),!0}}return!1}}}),oA=new Je("previous-blocks"),Epe={index:"index",level:"level",type:"type",depth:"depth","depth-change":"depth-change"},Dpe=()=>{let t;return new Oe({key:oA,view(e){return{update:async(r,n)=>{var i;((i=this.key)==null?void 0:i.getState(r.state).updatedBlocks.size)>0&&(t=setTimeout(()=>{r.dispatch(r.state.tr.setMeta(oA,{clearUpdate:!0}))},0))},destroy:()=>{t&&clearTimeout(t)}}},state:{init(){return{prevTransactionOldBlockAttrs:{},currentTransactionOldBlockAttrs:{},updatedBlocks:new Set}},apply(e,r,n,i){if(r.currentTransactionOldBlockAttrs={},r.updatedBlocks.clear(),!e.docChanged||n.doc.eq(i.doc))return r;const s={},o=ZI(n.doc,c=>c.attrs.id),a=new Map(o.map(c=>[c.node.attrs.id,c])),l=ZI(i.doc,c=>c.attrs.id);for(const c of l){const u=a.get(c.node.attrs.id),d=u?.node.firstChild,h=c.node.firstChild;if(u&&d&&h){const f={index:h.attrs.index,level:h.attrs.level,type:h.type.name,depth:i.doc.resolve(c.pos).depth};let p={index:d.attrs.index,level:d.attrs.level,type:d.type.name,depth:n.doc.resolve(u.pos).depth};s[c.node.attrs.id]=p,e.getMeta("numberedListIndexing")&&(c.node.attrs.id in r.prevTransactionOldBlockAttrs&&(p=r.prevTransactionOldBlockAttrs[c.node.attrs.id]),f.type==="numberedListItem"&&(p.index=f.index)),r.currentTransactionOldBlockAttrs[c.node.attrs.id]=p,JSON.stringify(p)!==JSON.stringify(f)&&(p["depth-change"]=p.depth-f.depth,r.updatedBlocks.add(c.node.attrs.id))}}return r.prevTransactionOldBlockAttrs=s,r}},props:{decorations(e){const r=this.getState(e);if(r.updatedBlocks.size===0)return;const n=[];return e.doc.descendants((i,s)=>{if(!i.attrs.id||!r.updatedBlocks.has(i.attrs.id))return;const o=r.currentTransactionOldBlockAttrs[i.attrs.id],a={};for(const[c,u]of Object.entries(o))a["data-prev-"+Epe[c]]=u||"none";const l=vt.node(s,s+i.nodeSize,{...a});n.push(l)}),ze.create(e.doc,n)}}})},kpe={blockColor:"data-block-color",blockStyle:"data-block-style",id:"data-id",depth:"data-depth",depthChange:"data-depth-change"},Mpe=hi.create({name:"blockContainer",group:"blockContainer",content:"blockContent blockGroup?",priority:50,defining:!0,parseHTML(){return[{tag:"div",getAttrs:t=>{if(typeof t=="string")return!1;const e={};for(const[r,n]of Object.entries(kpe))t.getAttribute(n)&&(e[r]=t.getAttribute(n));return t.getAttribute("data-node-type")==="blockContainer"?e:!1}}]},renderHTML({HTMLAttributes:t}){var e;const r=document.createElement("div");r.className="bn-block-outer",r.setAttribute("data-node-type","blockOuter");for(const[s,o]of Object.entries(t))s!=="class"&&r.setAttribute(s,o);const n={...((e=this.options.domAttributes)==null?void 0:e.block)||{},...t},i=document.createElement("div");i.className=Ga("bn-block",n.class),i.setAttribute("data-node-type",this.name);for(const[s,o]of Object.entries(n))s!=="class"&&i.setAttribute(s,o);return r.appendChild(i),{dom:r,contentDOM:i}},addCommands(){return{BNCreateBlock:t=>({state:e,dispatch:r})=>{const n=e.schema.nodes.blockContainer.createAndFill();return r&&e.tr.insert(t,n).scrollIntoView(),!0},BNDeleteBlock:t=>({state:e,dispatch:r})=>{const n=mt(e.doc,t);if(n===void 0)return!1;const{startPos:i,endPos:s}=n;return r&&e.tr.deleteRange(i,s),!0},BNUpdateBlock:(t,e)=>({state:r,dispatch:n})=>{const i=mt(r.doc,t);if(i===void 0)return!1;const{startPos:s,endPos:o,node:a,contentNode:l}=i;if(n){if(e.children!==void 0){const h=[];for(const f of e.children)h.push(Wo(f,r.schema,this.options.editor.schema.styleSchema));a.childCount===2?r.tr.replace(s+l.nodeSize+1,o-1,new N(S.from(h),0,0)):r.tr.insert(s+l.nodeSize,r.schema.nodes.blockGroup.create({},h))}const c=l.type.name,u=e.type||c;let d="keep";if(e.content)if(typeof e.content=="string")d=Ac([e.content],r.schema,this.options.editor.schema.styleSchema);else if(Array.isArray(e.content))d=Ac(e.content,r.schema,this.options.editor.schema.styleSchema);else if(e.content.type==="tableContent")d=iU(e.content,r.schema,this.options.editor.schema.styleSchema);else throw new po(e.content.type);else{const h=r.schema.nodes[c].spec.content,f=r.schema.nodes[u].spec.content;h===""||f!==h&&(d=[])}d==="keep"?r.tr.setNodeMarkup(s,e.type===void 0?void 0:r.schema.nodes[e.type],{...l.attrs,...e.props}):r.tr.replaceWith(s,o,r.schema.nodes[u].create({...l.attrs,...e.props},d)).setSelection(r.schema.nodes[u].spec.content===""?new X(r.tr.doc.resolve(s)):r.schema.nodes[u].spec.content==="inline*"?new te(r.tr.doc.resolve(s)):new te(r.tr.doc.resolve(s+4))),r.tr.setNodeMarkup(s-1,void 0,{...a.attrs,...e.props})}return!0},BNMergeBlocks:t=>({state:e,dispatch:r})=>{const n=e.doc.resolve(t+1).node().type.name==="blockContainer",i=e.doc.resolve(t-1).node().type.name==="blockContainer";if(!n||!i)return!1;const s=mt(e.doc,t+1),{node:o,contentNode:a,startPos:l,endPos:c,depth:u}=s;if(o.childCount===2){const f=e.doc.resolve(l+a.nodeSize+1),p=e.doc.resolve(c-1),g=f.blockRange(p);r&&e.tr.lift(g,u-1)}let d=t-1,h=mt(e.doc,d);for(;h.numChildBlocks>0;)if(d--,h=mt(e.doc,d),h===void 0)return!1;return r&&(r(e.tr.deleteRange(l,l+a.nodeSize).replace(d-1,l,new N(a.content,0,0)).scrollIntoView()),e.tr.setSelection(new te(e.doc.resolve(d-1)))),!0},BNSplitBlock:(t,e,r)=>({state:n,dispatch:i})=>{const s=mt(n.doc,t);if(s===void 0)return!1;const{contentNode:o,contentType:a,startPos:l,endPos:c,depth:u}=s,d=n.doc.cut(l+1,t),h=n.doc.cut(t,c-1),f=n.schema.nodes.blockContainer.createAndFill(),p=c+1,g=p+2;return i&&(n.tr.insert(p,f),n.tr.replace(g,g+1,h.content.size>0?new N(S.from(h),u+2,u+2):void 0),e&&n.tr.setBlockType(g,g,n.schema.node(a).type,r?o.attrs:void 0),n.tr.setSelection(new te(n.doc.resolve(g))),n.tr.replace(l+1,c-1,d.content.size>0?new N(S.from(d),u+2,u+2):void 0),n.tr.scrollIntoView()),!0}}},addProseMirrorPlugins(){return[Dpe(),Cpe()]},addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.first(({commands:t})=>[()=>t.deleteSelection(),()=>t.undoInputRule(),()=>t.command(({state:e})=>{const{contentType:r,startPos:n}=mt(e.doc,e.selection.from),i=e.selection.from===n+1,s=r.name==="paragraph";return i&&!s?t.BNUpdateBlock(e.selection.from,{type:"paragraph",props:{}}):!1}),()=>t.command(({state:e})=>{const{startPos:r}=mt(e.doc,e.selection.from);return e.selection.from===r+1?t.liftListItem("blockContainer"):!1}),()=>t.command(({state:e})=>{const{depth:r,startPos:n}=mt(e.doc,e.selection.from),i=e.selection.from===n+1,s=e.selection.empty,o=n===2,a=n-1;return!o&&i&&s&&r===2?t.BNMergeBlocks(a):!1})]),Delete:()=>this.editor.commands.first(({commands:t})=>[()=>t.deleteSelection(),()=>t.command(({state:e})=>{const{node:r,depth:n,endPos:i}=mt(e.doc,e.selection.from),s=i===e.doc.nodeSize-4,o=e.selection.from===i-1,a=e.selection.empty,l=r.childCount===2;if(!s&&o&&a&&!l){let c=n,u=i+2,d=e.doc.resolve(u).depth;for(;d<c;)c=d,u+=2,d=e.doc.resolve(u).depth;return t.BNMergeBlocks(u-1)}return!1})]),Enter:()=>this.editor.commands.first(({commands:t})=>[()=>t.command(({state:e})=>{const{contentNode:r,depth:n}=mt(e.doc,e.selection.from),i=e.selection.$anchor.parentOffset===0,s=e.selection.anchor===e.selection.head,o=r.childCount===0,a=n>2;return i&&s&&o&&a?t.liftListItem("blockContainer"):!1}),()=>t.command(({state:e,chain:r})=>{const{contentNode:n,endPos:i}=mt(e.doc,e.selection.from),s=e.selection.$anchor.parentOffset===0,o=e.selection.anchor===e.selection.head,a=n.childCount===0;if(s&&o&&a){const l=i+1,c=l+2;return r().BNCreateBlock(l).setTextSelection(c).run(),!0}return!1}),()=>t.command(({state:e,chain:r})=>{const{contentNode:n}=mt(e.doc,e.selection.from),i=e.selection.$anchor.parentOffset===0;return n.childCount===0?!1:(r().deleteSelection().BNSplitBlock(e.selection.from,i,i).run(),!0)})]),Tab:()=>{var t,e,r;return(t=this.options.editor.formattingToolbar)!=null&&t.shown||(e=this.options.editor.linkToolbar)!=null&&e.shown||(r=this.options.editor.filePanel)!=null&&r.shown?!1:(this.editor.commands.sinkListItem("blockContainer"),!0)},"Shift-Tab":()=>{var t,e,r;return(t=this.options.editor.formattingToolbar)!=null&&t.shown||(e=this.options.editor.linkToolbar)!=null&&e.shown||(r=this.options.editor.filePanel)!=null&&r.shown?!1:(this.editor.commands.liftListItem("blockContainer"),!0)}}}}),Spe=hi.create({name:"blockGroup",group:"blockGroup",content:"blockContainer+",parseHTML(){return[{tag:"div",getAttrs:t=>typeof t=="string"?!1:t.getAttribute("data-node-type")==="blockGroup"?null:!1}]},renderHTML({HTMLAttributes:t}){var e;const r={...((e=this.options.domAttributes)==null?void 0:e.blockGroup)||{},...t},n=document.createElement("div");n.className=Ga("bn-block-group",r.class),n.setAttribute("data-node-type","blockGroup");for(const[i,s]of Object.entries(r))i!=="class"&&n.setAttribute(i,s);return{dom:n,contentDOM:n}}}),Tpe=hi.create({name:"doc",topNode:!0,content:"blockGroup"}),Ipe=t=>{var e;const r=[Eu.ClipboardTextSerializer,Eu.Commands,Eu.Editable,Eu.FocusEvents,Eu.Tabindex,Tde,Rv.configure({types:["blockContainer"]}),Ide.extend({priority:10}),uhe,che.extend({addKeyboardShortcuts(){return{"Mod-k":()=>(this.editor.commands.toggleLink({href:""}),!0)}}}),...Object.values(t.styleSpecs).map(i=>i.implementation.mark),bpe,ype,vpe,ct.create({name:"OverrideEscape",addKeyboardShortcuts(){return{Escape:()=>t.editor.suggestionMenus.shown?!1:this.editor.commands.blur()}}}),Tpe,Mpe.configure({editor:t.editor,domAttributes:t.domAttributes}),Spe.configure({domAttributes:t.domAttributes}),...Object.values(t.inlineContentSpecs).filter(i=>i.config!=="link"&&i.config!=="text").map(i=>i.implementation.node.configure({editor:t.editor})),...Object.values(t.blockSpecs).flatMap(i=>[...(i.implementation.requiredExtensions||[]).map(s=>s.configure({editor:t.editor,domAttributes:t.domAttributes})),i.implementation.node.configure({editor:t.editor,domAttributes:t.domAttributes})]),hpe(t.editor),gpe(t.editor),mpe(t.editor),wde.configure({width:5,color:"#ddeeff"}),...t.trailingBlock===void 0||t.trailingBlock?[wpe]:[]];if(t.collaboration){if(r.push(mde.configure({fragment:t.collaboration.fragment})),(e=t.collaboration.provider)!=null&&e.awareness){const i=s=>{const o=document.createElement("span");o.classList.add("collaboration-cursor__caret"),o.setAttribute("style",`border-color: ${s.color}`);const a=document.createElement("span");a.classList.add("collaboration-cursor__label"),a.setAttribute("style",`background-color: ${s.color}`),a.insertBefore(document.createTextNode(s.name),null);const l=document.createTextNode("⁠"),c=document.createTextNode("⁠");return o.insertBefore(l,null),o.insertBefore(a,null),o.insertBefore(c,null),o};r.push(yde.configure({user:t.collaboration.user,render:t.collaboration.renderCursor||i,provider:t.collaboration.provider}))}}else r.push(Vde);const n=t.disableExtensions||[];return r.filter(i=>!n.includes(i.name))};function xpe(t,e){const r=[];return t.forEach((n,i,s)=>{s!==e&&r.push(n)}),S.from(r)}function Ape(t,e){let r=S.from(t.content);for(let n=0;n<r.childCount;n++)if(r.child(n).type.spec.group==="blockContent"){const i=[r.child(n)];if(n+1<r.childCount&&r.child(n+1).type.spec.group==="blockGroup"){const o=r.child(n+1).child(0).child(0);(o.type.name==="bulletListItem"||o.type.name==="numberedListItem"||o.type.name==="checkListItem")&&(i.push(r.child(n+1)),r=xpe(r,n+1))}const s=e.state.schema.nodes.blockContainer.create(void 0,i);r=r.replaceChild(n,s)}return new N(r,t.openStart,t.openEnd)}function Tw(t){return t&&Object.fromEntries(Object.entries(t).filter(([,e])=>e!==void 0))}class cM{constructor(e){D(this,"blockSpecs"),D(this,"inlineContentSpecs"),D(this,"styleSpecs"),D(this,"blockSchema"),D(this,"inlineContentSchema"),D(this,"styleSchema"),D(this,"BlockNoteEditor","only for types"),D(this,"Block","only for types"),D(this,"PartialBlock","only for types"),this.blockSpecs=Tw(e?.blockSpecs)||mU,this.inlineContentSpecs=Tw(e?.inlineContentSpecs)||vU,this.styleSpecs=Tw(e?.styleSpecs)||yU,this.blockSchema=hU(this.blockSpecs),this.inlineContentSchema=fU(this.inlineContentSpecs),this.styleSchema=pU(this.styleSpecs)}static create(e){return new cM(e)}}class DU extends aae{constructor(e,r){super({...e,content:void 0}),D(this,"_state"),D(this,"mount",a=>{a?(this.options.element=a,this.createViewAlternative()):this.destroy()});const n=this.schema;let i;const s=n.nodes.doc.createAndFill;n.nodes.doc.createAndFill=(...a)=>{if(i)return i;const l=s.apply(n.nodes.doc,a),c=JSON.parse(JSON.stringify(l.toJSON()));return c.content[0].content[0].attrs.id="initialBlockId",i=co.fromJSON(n,c),i};let o;try{const a=e?.content.map(l=>Wo(l,this.schema,r).toJSON());o=tm({type:"doc",content:[{type:"blockGroup",content:a}]},this.schema,this.options.parseOptions)}catch(a){throw console.error("Error creating document from blocks passed as `initialContent`. Caused by exception: ",a),new Error("Error creating document from blocks passed as `initialContent`:\n"+ +JSON.stringify(e.content))}this._state=ia.create({doc:o,schema:this.schema})}get state(){return this.view&&(this._state=this.view.state),this._state}dispatch(e){this.view?this.view.dispatch(e):this._state=this.state.apply(e)}createViewAlternative(){queueMicrotask(()=>{this.view=new fH({mount:this.options.element},{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:this.state});const e=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(e),this.createNodeViews()})}}DU.prototype.createView=()=>{};const Ope=new Je("blocknote-placeholder"),Rpe=(t,e)=>new Oe({key:Ope,view:()=>{const r=document.createElement("style"),n=t._tiptapEditor.options.injectNonce;n&&r.setAttribute("nonce",n),t._tiptapEditor.view.root instanceof ShadowRoot?t._tiptapEditor.view.root.append(r):t._tiptapEditor.view.root.head.appendChild(r);const i=r.sheet,s=(a="")=>`.bn-block-content${a} .bn-inline-content:has(> .ProseMirror-trailingBreak:only-child):before`,o=(a,l=!0)=>{const c=l?"[data-is-empty-and-focused]":"";if(a==="default")return s(c);const u=`[data-content-type="${a}"]`;return s(c+u)};for(const[a,l]of Object.entries(e)){const c=a==="default";i.insertRule(`${o(a,c)}{ content: ${JSON.stringify(l)}; }`),c||i.insertRule(`${o(a,!0)}{ content: ${JSON.stringify(l)}; }`)}return{destroy:()=>{t._tiptapEditor.view.root instanceof ShadowRoot?t._tiptapEditor.view.root.removeChild(r):t._tiptapEditor.view.root.head.removeChild(r)}}},props:{decorations:r=>{const{doc:n,selection:i}=r;if(!t.isEditable||!i.empty)return;const s=i.$anchor,o=s.parent;if(o.content.size>0)return null;const a=s.before(),l=vt.node(a,a+o.nodeSize,{"data-is-empty-and-focused":"true"});return ze.create(n,[l])}}}),Npe={enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!1};class kU{constructor(e){D(this,"_pmSchema"),D(this,"headless",!1),D(this,"_tiptapEditor"),D(this,"elementRenderer",null),D(this,"blockCache",new WeakMap),D(this,"dictionary"),D(this,"schema"),D(this,"blockImplementations"),D(this,"inlineContentImplementations"),D(this,"styleImplementations"),D(this,"formattingToolbar"),D(this,"linkToolbar"),D(this,"sideMenu"),D(this,"suggestionMenus"),D(this,"filePanel"),D(this,"tableHandles"),D(this,"uploadFile"),D(this,"resolveFileUrl"),D(this,"mount",g=>{this._tiptapEditor.mount(g)});var r,n,i,s,o,a,l;this.options=e;const c=e;if(c.onEditorContentChange)throw new Error("onEditorContentChange initialization option is deprecated, use <BlockNoteView onChange={...} />, the useEditorChange(...) hook, or editor.onChange(...)");if(c.onTextCursorPositionChange)throw new Error("onTextCursorPositionChange initialization option is deprecated, use <BlockNoteView onSelectionChange={...} />, the useEditorSelectionChange(...) hook, or editor.onSelectionChange(...)");if(c.onEditorReady)throw new Error("onEditorReady is deprecated. Editor is immediately ready for use after creation.");if(c.editable)throw new Error("editable initialization option is deprecated, use <BlockNoteView editable={true/false} />, or alternatively editor.isEditable = true/false");this.dictionary=e.dictionary||fhe;const u={defaultStyles:!0,schema:e.schema||cM.create(),_headless:!1,...e,placeholders:{...this.dictionary.placeholders,...e.placeholders}};this.schema=u.schema,this.blockImplementations=u.schema.blockSpecs,this.inlineContentImplementations=u.schema.inlineContentSpecs,this.styleImplementations=u.schema.styleSpecs,this.formattingToolbar=new Kfe(this),this.linkToolbar=new Jfe(this),this.sideMenu=new rpe(this),this.suggestionMenus=new ope(this),this.filePanel=new Wfe(this),lr("table",this)&&(this.tableHandles=new dpe(this));const d=Ipe({editor:this,domAttributes:u.domAttributes||{},blockSpecs:this.schema.blockSpecs,styleSpecs:this.schema.styleSpecs,inlineContentSpecs:this.schema.inlineContentSpecs,collaboration:u.collaboration,trailingBlock:u.trailingBlock,disableExtensions:u.disableExtensions}),h=ct.create({name:"BlockNoteUIExtension",addProseMirrorPlugins:()=>[this.formattingToolbar.plugin,this.linkToolbar.plugin,this.sideMenu.plugin,this.suggestionMenus.plugin,...this.filePanel?[this.filePanel.plugin]:[],...this.tableHandles?[this.tableHandles.plugin]:[],Rpe(this,u.placeholders)]});d.push(h),this.uploadFile=u.uploadFile,this.resolveFileUrl=u.resolveFileUrl||(async g=>g),this.headless=u._headless,u.collaboration&&u.initialContent&&console.warn("When using Collaboration, initialContent might cause conflicts, because changes should come from the collaboration provider");const f=u.initialContent||(e.collaboration?[{type:"paragraph",id:"initialBlockId"}]:[{type:"paragraph",id:Rv.options.generateID()}]);if(!Array.isArray(f)||f.length===0)throw new Error("initialContent must be a non-empty array of blocks, received: "+f);const p={...Npe,...u._tiptapOptions,content:f,extensions:[...((r=u._tiptapOptions)==null?void 0:r.extensions)||[],...d],editorProps:{...(n=u._tiptapOptions)==null?void 0:n.editorProps,attributes:{tabIndex:"0",...(s=(i=u._tiptapOptions)==null?void 0:i.editorProps)==null?void 0:s.attributes,...(o=u.domAttributes)==null?void 0:o.editor,class:Ga("bn-editor",u.defaultStyles?"bn-default-styles":"",((l=(a=u.domAttributes)==null?void 0:a.editor)==null?void 0:l.class)||"")},transformPasted:Ape}};this.headless?this._pmSchema=Ooe(p.extensions):(this._tiptapEditor=new DU(p,this.schema.styleSchema),this._pmSchema=this._tiptapEditor.schema)}get pmSchema(){return this._pmSchema}static create(e={}){return new kU(e)}dispatch(e){this._tiptapEditor.dispatch(e)}get prosemirrorView(){return this._tiptapEditor.view}get domElement(){return this._tiptapEditor.view.dom}isFocused(){return this._tiptapEditor.view.hasFocus()}focus(){this._tiptapEditor.view.focus()}get topLevelBlocks(){return this.document}get document(){const e=[];return this._tiptapEditor.state.doc.firstChild.descendants(r=>(e.push(xn(r,this.schema.blockSchema,this.schema.inlineContentSchema,this.schema.styleSchema,this.blockCache)),!1)),e}getBlock(e){const r=typeof e=="string"?e:e.id;let n;return this._tiptapEditor.state.doc.firstChild.descendants(i=>typeof n<"u"?!1:i.type.name!=="blockContainer"||i.attrs.id!==r?!0:(n=xn(i,this.schema.blockSchema,this.schema.inlineContentSchema,this.schema.styleSchema,this.blockCache),!1)),n}forEachBlock(e,r=!1){const n=this.document.slice();r&&n.reverse();function i(s){for(const o of s){if(!e(o))return!1;const a=r?o.children.slice().reverse():o.children;if(!i(a))return!1}return!0}i(n)}onEditorContentChange(e){this._tiptapEditor.on("update",e)}onEditorSelectionChange(e){this._tiptapEditor.on("selectionUpdate",e)}getTextCursorPosition(){const{node:e,depth:r,startPos:n,endPos:i}=mt(this._tiptapEditor.state.doc,this._tiptapEditor.state.selection.from),s=this._tiptapEditor.state.doc.resolve(i).index(r-1),o=this._tiptapEditor.state.doc.resolve(i+1).node().childCount;let a;s>0&&(a=this._tiptapEditor.state.doc.resolve(n-2).node());let l;return s<o-1&&(l=this._tiptapEditor.state.doc.resolve(i+2).node()),{block:xn(e,this.schema.blockSchema,this.schema.inlineContentSchema,this.schema.styleSchema,this.blockCache),prevBlock:a===void 0?void 0:xn(a,this.schema.blockSchema,this.schema.inlineContentSchema,this.schema.styleSchema,this.blockCache),nextBlock:l===void 0?void 0:xn(l,this.schema.blockSchema,this.schema.inlineContentSchema,this.schema.styleSchema,this.blockCache)}}setTextCursorPosition(e,r="start"){const n=typeof e=="string"?e:e.id,{posBeforeNode:i}=oM(n,this._tiptapEditor.state.doc),{startPos:s,contentNode:o}=mt(this._tiptapEditor.state.doc,i+2),a=this.schema.blockSchema[o.type.name].content;if(a==="none"){this._tiptapEditor.commands.setNodeSelection(s);return}if(a==="inline")r==="start"?this._tiptapEditor.commands.setTextSelection(s+1):this._tiptapEditor.commands.setTextSelection(s+o.nodeSize-1);else if(a==="table")r==="start"?this._tiptapEditor.commands.setTextSelection(s+4):this._tiptapEditor.commands.setTextSelection(s+o.nodeSize-4);else throw new po(a)}getSelection(){if(this._tiptapEditor.state.selection.from===this._tiptapEditor.state.selection.to||"node"in this._tiptapEditor.state.selection)return;const e=[];return this._tiptapEditor.state.doc.descendants((r,n)=>{if(r.type.spec.group!=="blockContent")return!0;const i=n+r.nodeSize-1,s=n+1;return i<=this._tiptapEditor.state.selection.from||s>=this._tiptapEditor.state.selection.to?!0:(e.push(xn(this._tiptapEditor.state.doc.resolve(n).node(),this.schema.blockSchema,this.schema.inlineContentSchema,this.schema.styleSchema,this.blockCache)),!1)}),{blocks:e}}get isEditable(){if(!this._tiptapEditor){if(!this.headless)throw new Error("no editor, but also not headless?");return!1}return this._tiptapEditor.isEditable===void 0?!0:this._tiptapEditor.isEditable}set isEditable(e){if(!this._tiptapEditor){if(!this.headless)throw new Error("no editor, but also not headless?");return}this._tiptapEditor.options.editable!==e&&this._tiptapEditor.setEditable(e)}insertBlocks(e,r,n="before"){return Ife(e,r,n,this)}updateBlock(e,r){return xfe(e,r,this)}removeBlocks(e){return Afe(e,this)}replaceBlocks(e,r){return Ofe(e,r,this)}insertInlineContent(e){const r=Ac(e,this.pmSchema,this.schema.styleSchema);Rfe({from:this._tiptapEditor.state.selection.from,to:this._tiptapEditor.state.selection.to},r,this)}getActiveStyles(){const e={},r=this._tiptapEditor.state.selection.$to.marks();for(const n of r){const i=this.schema.styleSchema[n.type.name];if(!i){n.type.name!=="link"&&console.warn("mark not found in styleschema",n.type.name);continue}i.propSchema==="boolean"?e[i.type]=!0:e[i.type]=n.attrs.stringValue}return e}addStyles(e){for(const[r,n]of Object.entries(e)){const i=this.schema.styleSchema[r];if(!i)throw new Error(`style ${r} not found in styleSchema`);if(i.propSchema==="boolean")this._tiptapEditor.commands.setMark(r);else if(i.propSchema==="string")this._tiptapEditor.commands.setMark(r,{stringValue:n});else throw new po(i.propSchema)}}removeStyles(e){for(const r of Object.keys(e))this._tiptapEditor.commands.unsetMark(r)}toggleStyles(e){for(const[r,n]of Object.entries(e)){const i=this.schema.styleSchema[r];if(!i)throw new Error(`style ${r} not found in styleSchema`);if(i.propSchema==="boolean")this._tiptapEditor.commands.toggleMark(r);else if(i.propSchema==="string")this._tiptapEditor.commands.toggleMark(r,{stringValue:n});else throw new po(i.propSchema)}}getSelectedText(){return this._tiptapEditor.state.doc.textBetween(this._tiptapEditor.state.selection.from,this._tiptapEditor.state.selection.to)}getSelectedLinkUrl(){return this._tiptapEditor.getAttributes("link").href}createLink(e,r){if(e==="")return;const{from:n,to:i}=this._tiptapEditor.state.selection;r||(r=this._tiptapEditor.state.doc.textBetween(n,i));const s=this.pmSchema.mark("link",{href:e});this.dispatch(this._tiptapEditor.state.tr.insertText(r,n,i).addMark(n,n+r.length,s))}canNestBlock(){const{startPos:e,depth:r}=mt(this._tiptapEditor.state.doc,this._tiptapEditor.state.selection.from);return this._tiptapEditor.state.doc.resolve(e).index(r-1)>0}nestBlock(){this._tiptapEditor.commands.sinkListItem("blockContainer")}canUnnestBlock(){const{depth:e}=mt(this._tiptapEditor.state.doc,this._tiptapEditor.state.selection.from);return e>2}unnestBlock(){this._tiptapEditor.commands.liftListItem("blockContainer")}async blocksToHTMLLossy(e=this.document){return await Jh(),Nv(this.pmSchema,this).exportBlocks(e,{})}async blocksToFullHTML(e){return rM(this.pmSchema,this).serializeBlocks(e,{})}async tryParseHTMLToBlocks(e){return _U(e,this.schema.blockSchema,this.schema.inlineContentSchema,this.schema.styleSchema,this.pmSchema)}async blocksToMarkdownLossy(e=this.document){return Lfe(e,this.pmSchema,this,{})}async tryParseMarkdownToBlocks(e){return $fe(e,this.schema.blockSchema,this.schema.inlineContentSchema,this.schema.styleSchema,this.pmSchema)}updateCollaborationUserInfo(e){if(!this.options.collaboration)throw new Error("Cannot update collaboration user info when collaboration is disabled.");this._tiptapEditor.commands.updateUser(e)}onChange(e){if(this.headless)return;const r=()=>{e(this)};return this._tiptapEditor.on("update",r),()=>{this._tiptapEditor.off("update",r)}}onSelectionChange(e){if(this.headless)return;const r=()=>{e(this)};return this._tiptapEditor.on("selectionUpdate",r),()=>{this._tiptapEditor.off("selectionUpdate",r)}}openSelectionMenu(e){this.prosemirrorView.focus(),this.prosemirrorView.dispatch(this.prosemirrorView.state.tr.scrollIntoView().setMeta(this.suggestionMenus.plugin,{triggerCharacter:e,fromUserInput:!1}))}}export{di as $,ZL as A,vge as B,cB as C,cme as D,Ze as E,Pa as F,ume as G,dt as H,sme as I,Py as J,Hy as K,RL as L,jy as M,fge as N,KP as O,Vn as P,tT as Q,dme as R,qE as S,ZE as T,ige as U,Pn as V,YD as W,Ye as X,Te as Y,pme as Z,Lte as _,UP as a,Oge as a$,nP as a0,At as a1,Ne as a2,kt as a3,iN as a4,Ppe as a5,N0 as a6,Hh as a7,P as a8,Iy as a9,Or as aA,PL as aB,Ype as aC,D6 as aD,C6 as aE,M6 as aF,kme as aG,Ime as aH,Sme as aI,Mme as aJ,ai as aK,Cge as aL,Vge as aM,nme as aN,Yge as aO,kge as aP,Xq as aQ,eT as aR,lme as aS,Pme as aT,Tfe as aU,wge as aV,bge as aW,_ge as aX,XE as aY,tme as aZ,Age as a_,Ae as aa,pge as ab,xq as ac,yge as ad,uT as ae,Gge as af,Wge as ag,Jge as ah,p9 as ai,JP as aj,a9 as ak,qw as al,Kw as am,c9 as an,R3 as ao,P3 as ap,rge as aq,F_ as ar,yg as as,Lo as at,Eme as au,Dme as av,Dge as aw,Wy as ax,O as ay,UZ as az,dge as b,Mg as b$,Rge as b0,Nge as b1,Pge as b2,Lge as b3,zge as b4,$ge as b5,Uge as b6,Xu as b7,yme as b8,Ate as b9,WL as bA,zL as bB,eC as bC,xg as bD,Uq as bE,Rme as bF,Nme as bG,bme as bH,Qge as bI,eme as bJ,Mge as bK,Fge as bL,rme as bM,Sge as bN,$pe as bO,Tq as bP,Iq as bQ,O8 as bR,Ige as bS,kU as bT,cM as bU,mU as bV,vU as bW,yU as bX,Pv as bY,jt as bZ,$n as b_,jge as ba,wme as bb,N1 as bc,Eg as bd,T1 as be,I1 as bf,_me as bg,iC as bh,Ag as bi,Kge as bj,xge as bk,sT as bl,WE as bm,GE as bn,Tme as bo,Bpe as bp,Hge as bq,Xge as br,Zge as bs,qge as bt,Bge as bu,Tge as bv,ime as bw,Fme as bx,Lme as by,A8 as bz,_t as c,hme as c0,gme as c1,fme as c2,mme as c3,sC as c4,Ome as c5,dl as c6,kc as c7,yr as c8,qa as c9,fu as ca,hU as cb,Jo as cc,yT as cd,ZK as ce,QT as cf,Kpe as cg,tge as ch,ege as ci,Cme as cj,Jpe as ck,mi as cl,Xpe as cm,sk as cn,Hte as co,j1 as cp,ap as cq,w as d,nu as e,Oo as f,Fo as g,uge as h,Sn as i,Uy as j,Vy as k,m9 as l,Dh as m,YE as n,JE as o,gge as p,Pe as q,hge as r,xe as s,Ege as t,mge as u,ZD as v,ome as w,ame as x,vee as y,qi as z,W as ɵ};
