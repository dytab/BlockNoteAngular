import{d as h,P as U,cn as J,co as X,cp as z,E as Q,e as W,V as Y,ɵ as Z,cq as $,a1 as ee,at as te}from"./vendor-C5-k2OPK.js";function ie(){const r=window,l=document,g="hljs-ln",b="hljs-ln-line",f="hljs-ln-code",v="hljs-ln-numbers",L="hljs-ln-n",m="data-line-number",p=/\r\n|\r|\n/g;r.hljs?(r.hljs.initLineNumbersOnLoad=w,r.hljs.lineNumbersBlock=_,r.hljs.lineNumbersValue=B,M()):r.console.error("highlight.js not detected!");function y(e){let t=e;for(;t;){if(t.className&&t.className.indexOf("hljs-ln-code")!==-1)return!0;t=t.parentNode}return!1}function j(e){let t=e;for(;t.nodeName!=="TABLE";)t=t.parentNode;return t}function F(e){const t=e.toString();let n=e.anchorNode;for(;n.nodeName!=="TD";)n=n.parentNode;let i=e.focusNode;for(;i.nodeName!=="TD";)i=i.parentNode;let s=parseInt(n.dataset.lineNumber),o=parseInt(i.dataset.lineNumber);if(s!=o){let u=n.textContent,c=i.textContent;if(s>o){let a=s;s=o,o=a,a=u,u=c,c=a}for(;t.indexOf(u)!==0;)u=u.slice(1);for(;t.lastIndexOf(c)===-1;)c=c.slice(0,-1);let N=u;const q=j(n);for(let a=s+1;a<o;++a){const G=d('.{0}[{1}="{2}"]',[f,m,a]),K=q.querySelector(G);N+=`
`+K.textContent}return N+=`
`+c,N}else return t}document.addEventListener("copy",function(e){const t=window.getSelection();if(y(t.anchorNode)){let n;window.navigator.userAgent.indexOf("Edge")!==-1?n=F(t):n=t.toString(),e.clipboardData.setData("text/plain",n),e.preventDefault()}});function M(){const e=l.createElement("style");e.type="text/css",e.innerHTML=d(".{0}{border-collapse:collapse}.{0} td{padding:0}.{1}:before{content:attr({2})}",[g,L,m]),l.getElementsByTagName("head")[0].appendChild(e)}function w(e){l.readyState==="interactive"||l.readyState==="complete"?E(e):r.addEventListener("DOMContentLoaded",function(){E(e)})}function E(e){try{const t=l.querySelectorAll("code.hljs,code.nohighlight");for(const n in t)t.hasOwnProperty(n)&&(x(t[n])||_(t[n],e))}catch(t){r.console.error("LineNumbers error: ",t)}}function x(e){return e.classList.contains("nohljsln")}function _(e,t){typeof e=="object"&&P(function(){e.innerHTML=O(e,t)})}function B(e,t){if(typeof e!="string")return;const n=document.createElement("code");return n.innerHTML=e,O(n,t)}function O(e,t){const n=C(e,t);return T(e),S(e.innerHTML,n)}function S(e,t){const n=A(e);if(n[n.length-1].trim()===""&&n.pop(),n.length>1||t.singleLine){let i="";for(let s=0,o=n.length;s<o;s++)i+=d('<tr><td class="{0} {1}" {3}="{5}"><div class="{2}" {3}="{5}"></div></td><td class="{0} {4}" {3}="{5}">{6}</td></tr>',[b,v,L,m,f,s+t.startFrom,n[s].length>0?n[s]:" "]);return d('<table class="{0}">{1}</table>',[g,i])}return e}function C(e,t){return t=t||{},{singleLine:D(t),startFrom:I(e,t)}}function D(e){return e.singleLine?e.singleLine:!1}function I(e,t){let i=1;isFinite(t.startFrom)&&(i=t.startFrom);const s=V(e,"data-ln-start-from");return s!==null&&(i=k(s,1)),i}function T(e){const t=e.childNodes;for(const n in t)if(t.hasOwnProperty(n)){const i=t[n];R(i.textContent)>0&&(i.childNodes.length>0?T(i):H(i.parentNode))}}function H(e){const t=e.className;if(!/hljs-/.test(t))return;const n=A(e.innerHTML);let i="";for(let s=0;s<n.length;s++){const o=n[s].length>0?n[s]:" ";i+=d(`<span class="{0}">{1}</span>
`,[t,o])}e.innerHTML=i.trim()}function A(e){return e.length===0?[]:e.split(p)}function R(e){return(e.trim().match(p)||[]).length}function P(e){r.setTimeout(e,0)}function d(e,t){return e.replace(/\{(\d+)\}/g,function(n,i){return t[i]!==void 0?t[i]:n})}function V(e,t){return e.hasAttribute(t)?e.getAttribute(t):null}function k(e,t){if(!e)return t;const n=Number(e);return isFinite(n)?n:t}}let se=(()=>{const l=class l{constructor(){this._platform=h(U),this.options=h(J)?.lineNumbersOptions,this._hljs=h(X),this._highlight=h(z),this._nativeElement=h(Q).nativeElement,this.startFrom=this.options?.startFrom,this.singleLine=this.options?.singleLine,W(this._platform)&&Y(()=>{this._highlight.highlightResult()&&this.addLineNumbers()})}addLineNumbers(){this.destroyLineNumbersObserver(),requestAnimationFrame(async()=>{await this._hljs.lineNumbersBlock(this._nativeElement,{startFrom:this.startFrom,singleLine:this.singleLine}),this._lineNumbersObs=new MutationObserver(()=>{this._nativeElement.firstElementChild?.tagName.toUpperCase()==="TABLE"&&this._nativeElement.classList.add("hljs-line-numbers"),this.destroyLineNumbersObserver()}),this._lineNumbersObs.observe(this._nativeElement,{childList:!0})})}destroyLineNumbersObserver(){this._lineNumbersObs&&(this._lineNumbersObs.disconnect(),this._lineNumbersObs=null)}};l.ɵfac=function(f){return new(f||l)},l.ɵdir=Z({type:l,selectors:[["","highlight","","lineNumbers",""],["","highlightAuto","","lineNumbers",""]],inputs:{startFrom:[2,"startFrom","startFrom",$],singleLine:[2,"singleLine","singleLine",ee]},standalone:!0,features:[te]});let r=l;return r})();export{se as HighlightLineNumbers,ie as activateLineNumbers};
