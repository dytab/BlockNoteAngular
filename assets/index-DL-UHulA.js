import{e as K}from"./index-C0nYIjA0.js";import{p as Ae}from"./index-vY-h4J_N.js";import{v as $,E as Ie,S as Be}from"./index-BSAZhzZx.js";import{t as $e}from"./index-C_aolqmU.js";import"./_commonjsHelpers-CqkleIqs.js";const T=function(e,t,n,r,i){const l=d(t);return!e||!e.type||typeof e.type!="string"?!1:l.call(i,e,n,r)},d=function(e){if(e==null)return U;if(typeof e=="string")return Te(e);if(typeof e=="object")return je(e);if(typeof e=="function")return le(e);throw new Error("Expected function, string, or array as test")};function je(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=d(e[n]);return le(r);function r(...i){let l=-1;for(;++l<t.length;)if(t[l].call(this,...i))return!0;return!1}}function Te(e){return t;function t(n){return U(n)&&n.tagName===e}}function le(e){return t;function t(n,...r){return U(n)&&!!e.call(this,n,...r)}}function U(e){return!!(e&&typeof e=="object"&&e.type==="element"&&typeof e.tagName=="string")}const se=d(["audio","canvas","embed","iframe","img","math","object","picture","svg","video"]),z=function(e){if(e==null)return qe;if(typeof e=="string")return Ce(e);if(typeof e=="object")return Array.isArray(e)?Ee(e):Fe(e);if(typeof e=="function")return E(e);throw new Error("Expected function, string, or object as test")};function Ee(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=z(e[n]);return E(r);function r(...i){let l=-1;for(;++l<t.length;)if(t[l].call(this,...i))return!0;return!1}}function Fe(e){return E(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function Ce(e){return E(t);function t(n){return n&&n.type===e}}function E(e){return t;function t(n,...r){return!!(n&&typeof n=="object"&&"type"in n&&e.call(this,n,...r))}}function qe(){return!0}function Oe(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}const Re=["address","article","aside","blockquote","body","br","caption","center","col","colgroup","dd","dialog","dir","div","dl","dt","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","legend","li","li","listing","main","menu","nav","ol","optgroup","option","p","plaintext","pre","section","summary","table","tbody","td","td","tfoot","th","th","thead","tr","ul","wbr","xmp"],Pe=["button","input","select","textarea"],Le=["area","base","basefont","dialog","datalist","head","link","meta","noembed","noframes","param","rp","script","source","style","template","track","title"],W=z(["doctype","comment"]);function Ue(e={}){const t=Ve(e.newlines?He:Ke);return n=>{ce(n,{collapse:t,whitespace:"normal"})}}function ce(e,t){if("children"in e){const n=Object.assign({},t);return(e.type==="root"||ue(e))&&(n.before=!0,n.after=!0),n.whitespace=Xe(e,t),We(e,n)}if(e.type==="text"){if(t.whitespace==="normal")return ze(e,t);t.whitespace==="nowrap"&&(e.value=t.collapse(e.value))}return{remove:!1,ignore:W(e),stripAtStart:!1}}function ze(e,t){const n=t.collapse(e.value),r={remove:!1,ignore:!1,stripAtStart:!1};let i=0,l=n.length;return t.before&&V(n.charAt(0))&&i++,i!==l&&V(n.charAt(l-1))&&(t.after?l--:r.stripAtStart=!0),i===l?r.remove=!0:e.value=n.slice(i,l),r}function We(e,t){let n=t.before;const r=t.after,i=e.children;let l=i.length,s=-1;for(;++s<l;){const c=ce(i[s],Object.assign({},t,{before:n,after:ae(i,s,r)}));c.remove?(i.splice(s,1),s--,l--):c.ignore||(n=c.stripAtStart),oe(i[s])&&(n=!1)}return{remove:!1,ignore:!1,stripAtStart:!!(n||r)}}function ae(e,t,n){for(;++t<e.length;){const r=e[t];let i=Me(r);if(i===void 0&&"children"in r&&!De(r)&&(i=ae(r.children,-1)),typeof i=="boolean")return i}return n}function Me(e){if(e.type==="element"){if(oe(e))return!1;if(ue(e))return!0}else if(e.type==="text"){if(!Oe(e))return!1}else if(!W(e))return!1}function oe(e){return se(e)||T(e,Pe)}function ue(e){return T(e,Re)}function De(e){return!!("properties"in e&&e.properties&&e.properties.hidden)||W(e)||T(e,Le)}function V(e){return e===" "||e===`
`}function He(e){const t=/\r?\n|\r/.exec(e);return t?t[0]:" "}function Ke(){return" "}function Ve(e){return t;function t(n){return String(n).replace(/[\t\n\v\f\r ]+/g,e)}}function Xe(e,t){if("tagName"in e&&e.properties)switch(e.tagName){case"listing":case"plaintext":case"script":case"style":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return e.properties.wrap?"pre-wrap":"pre";case"td":case"th":return e.properties.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}return t.whitespace}function o(e,t){const n=t.children||[],r=[];let i=-1;for(;++i<n.length;){const c=pe(e,n[i],t);Array.isArray(c)?r.push(...c):c&&r.push(c)}let l=0,s=r.length;for(;l<s&&r[l].type==="break";)l++;for(;s>l&&r[s-1].type==="break";)s--;return l===0&&s===r.length?r:r.slice(l,s)}const j={}.hasOwnProperty;function g(e,t){return e.wrapText?t:t.replace(/\r?\n|\r/g," ")}function pe(e,t,n){let r;if(t.type==="element"){if(t.properties&&t.properties.dataMdast==="ignore")return;j.call(e.handlers,t.tagName)&&(r=e.handlers[t.tagName])}else j.call(e.handlers,t.type)&&(r=e.handlers[t.type]);return typeof r=="function"?r(e,t,n):Ye(e,t)}function Ye(e,t){return typeof t.value=="string"?e(t,"text",g(e,t.value)):o(e,t)}const _e={}.hasOwnProperty;function N(e,t){const n=typeof t=="string"&&Ge(e)&&e.type==="element"&&e.properties&&_e.call(e.properties,t)&&e.properties[t];return n!=null&&n!==!1}function Ge(e){return!!(e&&typeof e=="object"&&"type"in e)}const Je=new Set(["pingback","prefetch","stylesheet"]);function Qe(e){if(!T(e,"link"))return!1;if(N(e,"itemProp"))return!0;const n=(e.properties||{}).rel||[];let r=-1;if(!Array.isArray(n)||n.length===0)return!1;for(;++r<n.length;)if(!Je.has(String(n[r])))return!1;return!0}const Ze=d(["a","abbr","area","b","bdi","bdo","br","button","cite","code","data","datalist","del","dfn","em","i","input","ins","kbd","keygen","label","map","mark","meter","noscript","output","progress","q","ruby","s","samp","script","select","small","span","strong","sub","sup","template","textarea","time","u","var","wbr"]),et=d("meta");function tt(e){return!!(nt(e)&&(e.type==="text"||Ze(e)||se(e)||Qe(e)||et(e)&&N(e,"itemProp")))}function nt(e){return e&&typeof e=="object"&&"type"in e}function fe(e){return he(e,t);function t(n){const r=n[0];return n.length===1&&r.type==="text"&&(r.value===" "||r.value===`
`)?[]:{type:"paragraph",children:n}}}function F(e){let t=-1,n;for(;++t<e.length;)if(n=e[t],!de(n)||"children"in n&&F(n.children))return!0;return!1}function he(e,t,n){const r=n||lt,i=rt(e);let l=[],s=-1,c,a;for(;++s<i.length;)a=i[s],de(a)?(c||(c=[]),c.push(a)):(c&&(l=l.concat(t(c)),c=void 0),l=l.concat(r(a)));return c&&(l=l.concat(t(c))),l}function rt(e){let t=[],n=-1,r;for(;++n<e.length;)r=e[n],(r.type==="delete"||r.type==="link")&&F(r.children)?t=t.concat(it(r)):t.push(r);return t}function it(e){return he(e.children,n,t);function t(r){if("children"in r&&"children"in e){const{children:i,...l}=e;return{...r,children:[{...K(!0,{},l),children:r.children}]}}return{...r}}function n(r){const{children:i,...l}=e;return{...K(!0,{},l),children:r}}}function de(e){return e.data&&e.data.hName?tt({type:"element",tagName:e.data.hName,properties:{},children:[]}):Ae(e)}function lt(e){return e}function h(e,t){return fe(o(e,t))}function w(e,t){return t==null?"":e.frozenBaseUrl?String(new URL(t,e.frozenBaseUrl)):t}function st(e,t){const n=t.properties;return e(t,"link",{title:n.title||null,url:w(e,String(n.href||"")||null)},o(e,t))}function ct(e,t){e.baseFound||(e.frozenBaseUrl=String(t.properties&&t.properties.href||"")||null,e.baseFound=!0)}function at(e,t){return e(t,"blockquote",h(e,t))}function ot(e,t){return e.wrapText?e(t,"break"):e(t,"text"," ")}const x=function(e){if(e==null)return M;if(typeof e=="string")return pt(e);if(typeof e=="object")return ut(e);if(typeof e=="function")return ge(e);throw new Error("Expected function, string, or array as test")};function ut(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=x(e[n]);return ge(r);function r(...i){let l=-1;for(;++l<t.length;)if(t[l].call(this,...i))return!0;return!1}}function pt(e){return t;function t(n){return M(n)&&n.tagName===e}}function ge(e){return t;function t(n,...r){return M(n)&&!!e.call(this,n,...r)}}function M(e){return!!(e&&typeof e=="object"&&e.type==="element"&&typeof e.tagName=="string")}const ye=function(e){if(e==null)return gt;if(typeof e=="string")return dt(e);if(typeof e=="object")return Array.isArray(e)?ft(e):ht(e);if(typeof e=="function")return C(e);throw new Error("Expected function, string, or object as test")};function ft(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=ye(e[n]);return C(r);function r(...i){let l=-1;for(;++l<t.length;)if(t[l].call(this,...i))return!0;return!1}}function ht(e){return C(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function dt(e){return C(t);function t(n){return n&&n.type===e}}function C(e){return t;function t(n,...r){return!!(n&&typeof n=="object"&&"type"in n&&e.call(this,n,...r))}}function gt(){return!0}const X=function(e,t,n){const r=ye(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(r(e.children[t],t,e))return e.children[t];return null},Y=/\n/g,_=/[\t ]+/g,L=x("br"),yt=x("p"),G=x(["th","td"]),J=x("tr"),mt=x(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",kt,vt]),me=x(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function A(e,t={}){const n="children"in e?e.children:[],r=me(e),i=xe(e,{whitespace:t.whitespace||"normal",breakBefore:!1,breakAfter:!1}),l=[];(e.type==="text"||e.type==="comment")&&l.push(...we(e,{whitespace:i,breakBefore:!0,breakAfter:!0}));let s=-1;for(;++s<n.length;)l.push(...be(n[s],e,{whitespace:i,breakBefore:s?void 0:r,breakAfter:s<n.length-1?L(n[s+1]):r}));const c=[];let a;for(s=-1;++s<l.length;){const u=l[s];typeof u=="number"?a!==void 0&&u>a&&(a=u):u&&(a!==void 0&&a>-1&&c.push(`
`.repeat(a)||" "),a=-1,c.push(u))}return c.join("")}function be(e,t,n){return e.type==="element"?bt(e,t,n):e.type==="text"?n.whitespace==="normal"?we(e,n):wt(e):[]}function bt(e,t,n){const r=xe(e,n),i=e.children||[];let l=-1,s=[];if(mt(e))return s;let c,a;for(L(e)||J(e)&&X(t,e,J)?a=`
`:yt(e)?(c=2,a=2):me(e)&&(c=1,a=1);++l<i.length;)s=s.concat(be(i[l],e,{whitespace:r,breakBefore:l?void 0:c,breakAfter:l<i.length-1?L(i[l+1]):a}));return G(e)&&X(t,e,G)&&s.push("	"),c&&s.unshift(c),a&&s.push(a),s}function we(e,t){const n=String(e.value),r=[],i=[];let l=0;for(;l<=n.length;){Y.lastIndex=l;const a=Y.exec(n),u=a&&"index"in a?a.index:n.length;r.push(xt(n.slice(l,u).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),l===0?t.breakBefore:!0,u===n.length?t.breakAfter:!0)),l=u+1}let s=-1,c;for(;++s<r.length;)r[s].charCodeAt(r[s].length-1)===8203||s<r.length-1&&r[s+1].charCodeAt(0)===8203?(i.push(r[s]),c=void 0):r[s]?(typeof c=="number"&&i.push(c),i.push(r[s]),c=0):(s===0||s===r.length-1)&&i.push(0);return i}function wt(e){return[String(e.value)]}function xt(e,t,n){const r=[];let i=0,l;for(;i<e.length;){_.lastIndex=i;const s=_.exec(e);l=s?s.index:e.length,!i&&!l&&s&&!t&&r.push(""),i!==l&&r.push(e.slice(i,l)),i=s?l+s[0].length:l}return i!==l&&!n&&r.push(""),r.join(" ")}function xe(e,t){if(e.type==="element"){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function kt(e){return!!(e.properties||{}).hidden}function vt(e){return e.tagName==="dialog"&&!(e.properties||{}).open}function St(e){const t=String(e);let n=t.length;for(;n>0;){const r=t.codePointAt(n-1);if(r!==void 0&&(r===10||r===13))n--;else break}return t.slice(0,n)}const q="language-",Nt=d("pre"),At=d("code");function I(e,t){const n=t.children;let r=-1,i,l;if(Nt(t))for(;++r<n.length;){const s=n[r];if(At(s)&&s.properties&&s.properties.className&&Array.isArray(s.properties.className)){i=s.properties.className;break}}if(i){for(r=-1;++r<i.length;)if(String(i[r]).slice(0,q.length)===q){l=String(i[r]).slice(q.length);break}}return e(t,"code",{lang:l||null,meta:null},St(g(e,A(t))))}function It(e,t){return e(t,"html","<!--"+g(e,t.value)+"-->")}function O(e,t){return e(t,"delete",o(e,t))}function D(e){let t=-1;if(e.length>1){for(;++t<e.length;)if(e[t].spread)return!0}return!1}function ke(e,t){const n=o(e,t);let r=-1;for(;++r<n.length;){const i=n[r];i.type!=="listItem"&&(n[r]={type:"listItem",spread:!1,checked:null,children:[i]})}return n}const Bt=d("div"),$t=d("dt"),jt=d("dd");function Tt(e,t){const n=t.children;let r=-1,i=[];const l=[];let s={titles:[],definitions:[]},c,a;for(;++r<n.length;)c=n[r],i=i.concat(Bt(c)?c.children:c);for(r=-1;++r<i.length;)c=i[r],$t(c)?(jt(i[r-1])&&(l.push(s),s={titles:[],definitions:[]}),s.titles.push(c)):s.definitions.push(c);l.push(s),r=-1;const u=[];for(;++r<l.length;)a=[...Q(e,l[r].titles),...Q(e,l[r].definitions)],a.length>0&&u.push({type:"listItem",spread:a.length>1,checked:null,children:a});if(u.length>0)return e(t,"list",{ordered:!1,start:null,spread:D(u)},u)}function Q(e,t){const n=ke(e,{type:"element",tagName:"x",children:t});return n.length===0?[]:n.length===1?n[0].children:[{type:"list",ordered:!1,start:null,spread:D(n),children:n}]}function B(e,t){return e(t,"emphasis",o(e,t))}function v(e,t){const n=Number(t.tagName.charAt(1))||1,r=e.wrapText;e.wrapText=!1;const i=e(t,"heading",{depth:n},o(e,t));return e.wrapText=r,i}function Et(e,t){return e(t,"thematicBreak")}function Ft(e,t){const n=t.properties,r=String(n.src||""),i=String(n.title||"");if(r&&i)return{type:"link",title:null,url:w(e,r),children:[{type:"text",value:g(e,i)}]}}function Z(e,t){const n=t.properties;return e(t,"image",{url:w(e,String(n.src||"")||null),title:n.title||null,alt:n.alt||""})}function S(e,t){return e(t,"inlineCode",g(e,A(t)))}const Ct=d("option");function ve(e,t,n){const r=n||t.properties;let i=Se(t);const l=Math.min(Number.parseInt(String(r.size),10),0)||(r.multiple?4:1);let s=-1;const c=[],a=[];for(;++s<i.length;)N(i[s],"selected")&&c.push(i[s]);for(i=(c.length>0?c:i).slice(0,l),s=-1;++s<i.length;){const f=i[s],m=g(e,A(f)),y=f.properties,b=m||String(y.label||""),k=String(y.value||"")||m;a.push([k,b===k?null:b])}return a}function Se(e){const t=e.children;let n=-1,r=[],i;for(;++n<t.length;)i=t[n],Array.isArray(i.children)&&(r=r.concat(Se(i))),Ct(i)&&!N(i,"disabled")&&r.push(i);return r}const qt=d("datalist");function Ot(e,t){const n=t.properties;let r=String(n.value||n.placeholder||"");const i=[],l=[];let s=[],c=-1,a;if(!(n.disabled||n.type==="hidden"||n.type==="file")){if(n.type==="checkbox"||n.type==="radio")return e(t,"text",g(e,e[n.checked?"checked":"unchecked"]));if(n.type==="image")return n.alt||r?e(t,"image",{url:w(e,String(n.src||"")||null),title:g(e,String(n.title||""))||null,alt:g(e,String(n.alt||r))}):[];if(r?s=[[r,null]]:n.type!=="password"&&n.type!=="file"&&n.type!=="submit"&&n.type!=="reset"&&n.type!=="button"&&n.list&&(a=String(n.list).toUpperCase(),j.call(e.nodeById,a)&&qt(e.nodeById[a])&&(s=ve(e,e.nodeById[a],n))),s.length!==0){if(n.type==="password"&&(s[0]=["•".repeat(s[0][0].length),null]),n.type==="url"||n.type==="email"){for(;++c<s.length;)r=w(e,s[c][0]),i.push(e(t,"link",{title:null,url:g(e,n.type==="email"?"mailto:"+r:r)},[{type:"text",value:g(e,s[c][1]||r)}])),c!==s.length-1&&i.push({type:"text",value:", "});return i}for(;++c<s.length;)l.push(s[c][1]?s[c][1]+" ("+s[c][0]+")":s[c][0]);return e(t,"text",g(e,l.join(", ")))}}}const Rt=d("p"),Pt=d("input");function R(e,t){const n=t.children[0];let r=null,i,l;Rt(n)&&(i=n.children[0],Pt(i)&&i.properties&&(i.properties.type==="checkbox"||i.properties.type==="radio")&&(r=!!i.properties.checked,l={...t,children:[{...n,children:n.children.slice(1)},...t.children.slice(1)]}));const s=h(e,l||t);return e(t,"listItem",{spread:s.length>1,checked:r},s)}const Lt=d("ol");function P(e,t){const n=Lt(t),r=ke(e,t);let i=null;return n&&(i=N(t,"start")?Number.parseInt(String(t.properties.start),10):1),e(t,"list",{ordered:n,start:i,spread:D(r)},r)}const Ut=d("source"),zt=d("video");function ee(e,t){let n=o(e,t);const r=t.properties,i=zt(t)&&String(r.poster||"");let l=String(r.src||""),s=-1,c=!1,a;if($({type:"root",children:n},"link",u),c||F(n))return n;for(;!l&&++s<t.children.length;)a=t.children[s],Ut(a)&&(l=String(a.properties.src||""));return i&&(n=[{type:"image",title:null,url:w(e,i),alt:$e({children:n})}]),{type:"link",title:t.properties.title||null,url:w(e,l),children:n};function u(){return c=!0,Ie}}function te(e,t){const n=o(e,t);if(n.length>0)return e(t,"paragraph",n)}function Wt(e,t){const n=e.quotes[e.qNesting%e.quotes.length];e.qNesting++;const r=o(e,t);return e.qNesting--,r.unshift({type:"text",value:n.charAt(0)}),r.push({type:"text",value:n.length>1?n.charAt(1):n}),r}function Mt(e,t){let n=o(e,t);return(e.document||F(n))&&(n=fe(n)),e(t,"root",n)}function Dt(e,t){const n=ve(e,t);let r=-1;const i=[];let l;for(;++r<n.length;)l=n[r],i.push(l[1]?l[1]+" ("+l[0]+")":l[0]);if(i.length>0)return e(t,"text",g(e,i.join(", ")))}function ne(e,t){return e(t,"strong",o(e,t))}function re(e,t){const n=e.wrapText;e.wrapText=!1;const r=e(t,"tableCell",o(e,t));if(t.properties&&(t.properties.rowSpan||t.properties.colSpan)){const i=r.data||(r.data={});t.properties.rowSpan&&(i.rowSpan=t.properties.rowSpan),t.properties.colSpan&&(i.colSpan=t.properties.colSpan)}return e.wrapText=n,r}function Ht(e,t){return e(t,"tableRow",o(e,t))}const Kt=d("thead"),Vt=d("tr"),Xt=d(["th","td"]);function Yt(e,t){if(e.inTable)return e(t,"text",g(e,A(t)));e.inTable=!0;const{headless:n,align:r}=_t(t),i=Gt(o(e,t),n);let l=1,s=-1;for(;++s<i.length;){const a=i[s].children;let u=-1;for(;++u<a.length;){const f=a[u];if(f.data){const m=Number.parseInt(String(f.data.colSpan),10)||1,y=Number.parseInt(String(f.data.rowSpan),10)||1;if(m>1||y>1){let b=s-1;for(;++b<s+y;){let k=u-1;for(;++k<u+m&&i[b];){const H=[];(b!==s||k!==u)&&H.push({type:"tableCell",children:[]}),i[b].children.splice(k,0,...H)}}}"colSpan"in f.data&&delete f.data.colSpan,"rowSpan"in f.data&&delete f.data.rowSpan,Object.keys(f.data).length===0&&delete f.data}}a.length>l&&(l=a.length)}for(s=-1;++s<i.length;){const a=i[s].children;let u=a.length-1;for(;++u<l;)a.push({type:"tableCell",children:[]})}let c=r.length-1;for(;++c<l;)r.push(null);return e.inTable=!1,e(t,"table",{align:r},i)}function _t(e){let t=!0,n=0,r=0;const i=[null];return $(e,"element",l=>{if(l.tagName==="table"&&e!==l)return Be;Xt(l)&&l.properties?(i[r]||(i[r]=String(l.properties.align||"")||null),t&&n<2&&l.tagName==="th"&&(t=!1),r++):Kt(l)?t=!1:Vt(l)&&(n++,r=0)}),{align:i,headless:t}}function Gt(e,t){let n=-1;const r=[];let i;for(t&&r.push({type:"tableRow",children:[]});++n<e.length;){const l=e[n];l.type==="tableRow"?(i&&(l.children.unshift(...i),i=void 0),r.push(l)):(i||(i=[]),i.push(l))}for(i&&r[r.length-1].children.push(...i),n=-1;++n<r.length;)r[n].children=Jt(r[n].children);return r}function Jt(e){const t=[];let n=-1,r,i;for(;++n<e.length;)r=e[n],r.type==="tableCell"?(i&&(r.children.unshift(...i),i=void 0),t.push(r)):(i||(i=[]),i.push(r));return i&&(r=t[t.length-1],r||(r={type:"tableCell",children:[]},t.push(r)),r.children.push(...i)),t}function Qt(e,t){return e(t,"text",g(e,t.value))}function Zt(e,t){return e(t,"text",g(e,A(t)))}function en(e,t){return e(t,"text","​")}const ie={root:Mt,text:Qt,comment:It,doctype:p,applet:p,area:p,basefont:p,bgsound:p,caption:p,col:p,colgroup:p,command:p,content:p,datalist:p,dialog:p,element:p,embed:p,frame:p,frameset:p,isindex:p,keygen:p,link:p,math:p,menu:p,menuitem:p,meta:p,nextid:p,noembed:p,noframes:p,optgroup:p,option:p,param:p,script:p,shadow:p,source:p,spacer:p,style:p,svg:p,template:p,title:p,track:p,abbr:o,acronym:o,bdi:o,bdo:o,big:o,blink:o,button:o,canvas:o,cite:o,data:o,details:o,dfn:o,font:o,ins:o,label:o,map:o,marquee:o,meter:o,nobr:o,noscript:o,object:o,output:o,progress:o,rb:o,rbc:o,rp:o,rt:o,rtc:o,ruby:o,slot:o,small:o,span:o,sup:o,sub:o,tbody:o,tfoot:o,thead:o,time:o,address:h,article:h,aside:h,body:h,center:h,div:h,fieldset:h,figcaption:h,figure:h,form:h,footer:h,header:h,hgroup:h,html:h,legend:h,main:h,multicol:h,nav:h,picture:h,section:h,a:st,audio:ee,b:ne,base:ct,blockquote:at,br:ot,code:S,dir:P,dl:Tt,dt:R,dd:R,del:O,em:B,h1:v,h2:v,h3:v,h4:v,h5:v,h6:v,hr:Et,i:B,iframe:Ft,img:Z,image:Z,input:Ot,kbd:S,li:R,listing:I,mark:B,ol:P,p:te,plaintext:I,pre:I,q:Wt,s:O,samp:S,select:Dt,strike:O,strong:ne,summary:te,table:Yt,td:re,textarea:Zt,th:re,tr:Ht,tt:S,u:B,ul:P,var:S,video:ee,wbr:en,xmp:I};function p(){}const tn=z(["heading","paragraph","root"]);function Ne(e,t={}){const n={};let r;const i=Object.assign((c,a,u,f)=>{let m;typeof u=="string"||Array.isArray(u)?(f=u,m={}):m=u;const y={type:a,...m};return typeof f=="string"?y.value=f:f&&(y.children=f),c.position&&(y.position=c.position),y},{nodeById:n,baseFound:!1,inTable:!1,wrapText:!0,frozenBaseUrl:null,qNesting:0,handlers:t.handlers?{...ie,...t.handlers}:ie,document:t.document,checked:t.checked||"[x]",unchecked:t.unchecked||"[ ]",quotes:t.quotes||['"']});$(e,"element",c=>{const a=c.properties&&"id"in c.properties&&String(c.properties.id).toUpperCase();a&&!j.call(n,a)&&(n[a]=c)}),Ue({newlines:t.newlines===!0})(e);const l=pe(i,e,void 0);return l?Array.isArray(l)?r={type:"root",children:l}:r=l:r={type:"root",children:[]},$(r,"text",s),r;function s(c,a,u){if(a===null||!u)return;const f=u.children[a-1];if(f&&f.type===c.type)return f.value+=c.value,u.children.splice(a,1),f.position&&c.position&&(f.position.end=c.position.end),a-1;if(c.value=c.value.replace(/[\t ]*(\r?\n|\r)[\t ]*/,"$1"),u&&tn(u)&&(a||(c.value=c.value.replace(/^[\t ]+/,"")),a===u.children.length-1&&(c.value=c.value.replace(/[\t ]+$/,""))),!c.value)return u.children.splice(a,1),a}}const nn=function(e,t){let n,r;return typeof e=="function"?(r=e,n=t||{}):n=e||{},(n.document===void 0||n.document===null)&&(n=Object.assign({},n,{document:!0})),r?rn(r,n):ln(n)},pn=nn;function rn(e,t){return(n,r,i)=>{e.run(Ne(n,t),r,l=>{i(l)})}}function ln(e={}){return t=>Ne(t,e)}export{o as all,pn as default,ie as defaultHandlers,pe as one};
